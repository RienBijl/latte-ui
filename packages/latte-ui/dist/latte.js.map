{"version":3,"file":"latte.js","sources":["../src/js/util/dom.js","../src/js/core/action.js","../src/js/core/api.js","../src/js/core/popup.js","../src/js/core/z.js","../src/js/core/index.js","../src/js/i18n.js","../src/js/animation/easing.js","../src/js/animation/velocity.js","../src/js/math.js","../src/js/operators.js","../src/js/ui/form.js","../src/js/ui/message.js","../src/js/util/object.js","../src/js/ui/notice.js","../src/js/ui/notification.js","../src/js/ui/overlay.js","../src/js/ui/panel.js","../src/js/ui/question.js","../src/js/ui/snackbar.js","../src/js/util/touch.js","../src/js/ui/tooltip.js","../src/js/ui/index.js","../src/js/util/cookies.js","../src/js/util/datetime.js","../src/js/util/string.js","../src/js/sdk.js","../src/js/util/index.js","../src/js/util/clipboard.js","../src/js/util/json.js","../src/js/houdini/index.js","../src/js/hid/OutsideEvent.js","../../../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/vue/component/Autocomplete.vue","../../../node_modules/vue-runtime-helpers/dist/inject-style/browser.js","../src/vue/component/Draggable.vue","../src/js/ui/grid.js","../src/vue/component/Grid.vue","../src/vue/component/PdfViewer.vue","../src/js/util/portal/util.js","../src/js/util/portal/wormhole.js","../src/vue/component/Swiper.vue","../src/vue/component/Uploader.vue","../src/vue/mixin/MomentMixin.js","../src/index.js","../src/js/app.js"],"sourcesContent":["/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nlet lattePath = null;\n\n/**\n * Returns the closest element that matches selector.\n *\n * @param {HTMLElement|Node} element\n * @param {String|HTMLElement} selector\n *\n * @returns {HTMLElement|SVGElement|null}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function closest(element, selector)\n{\n\tfor (; element && element !== document; element = element.parentNode)\n\t\tif (element === selector || (typeof selector === \"string\" && element.matches(selector)))\n\t\t\treturn element;\n\n\treturn null;\n}\n\n/**\n * Conditional render for vue components.\n *\n * @param {Boolean} condition\n * @param {Function} fn\n *\n * @returns {*}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function conditionalRender(condition, fn)\n{\n\tif (!condition)\n\t\treturn undefined;\n\n\treturn fn();\n}\n\n/**\n * Creates a dom element.\n *\n * @param {String} tag\n * @param {Function} fn\n *\n * @returns {HTMLElement}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function createElement(tag, fn = undefined)\n{\n\tconst el = document.createElement(tag);\n\n\tif (fn !== undefined)\n\t\tfn(el);\n\n\treturn el;\n}\n\n/**\n * Downloads an url as a file.\n *\n * @param {String} fileName\n * @param {String} url\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function downloadFile(fileName, url)\n{\n\tcreateElement(\"a\", a =>\n\t{\n\t\ta.download = fileName;\n\t\ta.href = url;\n\n\t\tdocument.body.appendChild(a);\n\n\t\ta.click();\n\t\ta.remove();\n\t});\n}\n\n/**\n * Renders each object with fn.\n *\n * @param {Array} objects\n * @param {Function} fn\n *\n * @return {Array}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function eachRender(objects, fn)\n{\n\treturn objects.map(o => fn(o));\n}\n\n/**\n * Gets coords of a touch or mouse event.\n *\n * @param {MouseEvent|TouchEvent|PointerEvent} evt\n *\n * @returns {{x: Number, y: Number}|undefined}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getCoords(evt)\n{\n\tlet e = evt;\n\n\tif (window.TouchEvent && evt instanceof TouchEvent)\n\t{\n\t\tif (evt.touches.length > 0)\n\t\t\te = evt.touches.item(evt.touches.length - 1);\n\t\telse\n\t\t\te = evt.changedTouches.item(evt.changedTouches.length - 1);\n\t}\n\n\tif (!e.clientX || !e.clientY)\n\t\treturn undefined;\n\n\treturn {x: e.clientX, y: e.clientY};\n}\n\n/**\n * Gets the latte.css and latte.js root path.\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getLattePath()\n{\n\tif (lattePath !== null)\n\t\treturn lattePath;\n\n\tconst lattejs = document.querySelector(`script[src*=\"latte.js\"]`);\n\n\tif (lattejs === null)\n\t\treturn lattePath = \"/\"; // We're going to play it save.\n\n\treturn lattePath = lattejs.getAttribute(\"src\").split(\"latte.js\")[0] || null;\n}\n\n/**\n * Returns TRUE when the document is ready.\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isReady()\n{\n\treturn [\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState) > -1;\n}\n\n/**\n * Adds a live event.\n *\n * @param {HTMLElement} root\n * @param {String} selector\n * @param {String} event\n * @param {Function} callback\n * @param {Object} options\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function live(root, selector, event, callback, options = {passive: true})\n{\n\tif (event.indexOf(\" \") > -1)\n\t{\n\t\tconst events = event.split(\" \");\n\n\t\tevents.forEach(event => live(root, selector, event, callback));\n\n\t\treturn;\n\t}\n\n\troot.addEventListener(event, function (evt)\n\t{\n\t\tconst qs = root.querySelectorAll(selector);\n\n\t\tif (!qs)\n\t\t\treturn;\n\n\t\tlet el = evt.target, index;\n\n\t\twhile (el && ((index = Array.prototype.indexOf.call(qs, el)) === -1))\n\t\t\tel = el.parentElement;\n\n\t\tif (index > -1)\n\t\t\tcallback(el, evt)\n\n\t}, options);\n}\n\n/**\n * Prints a document.\n *\n * @param {String} url\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function printDocument(url)\n{\n\tconst wnd = window.open(url);\n\twnd.addEventListener(\"load\", () =>\n\t{\n\t\twnd.print();\n\t\twnd.addEventListener(\"focus\", () => wnd.close());\n\t});\n}\n\n/**\n * Request animation frame.\n *\n * @param {Function} fn\n * @param {Number|undefined} delay\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function raf(fn, delay = undefined)\n{\n\tif (delay !== undefined)\n\t\treturn setTimeout(() => requestAnimationFrame(fn), delay);\n\n\trequestAnimationFrame(fn);\n}\n\n/**\n * Gets coords of a touch or mouseevent relative to an element.\n *\n * @param {HTMLElement} element\n * @param {MouseEvent|TouchEvent|PointerEvent} evt\n *\n * @returns {{x: Number, y: Number}|undefined}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function relativeCoordsTo(element, evt)\n{\n\tconst coords = getCoords(evt);\n\n\tif (!coords)\n\t\treturn undefined;\n\n\tconst rect = element.getBoundingClientRect();\n\n\treturn {\n\t\tx: coords.x - rect.left,\n\t\ty: coords.y - rect.top\n\t};\n}\n\n/**\n * Converts a string containing html code to dom elements.\n *\n * @param {String} str\n *\n * @returns {DocumentFragment}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function toDOM(str)\n{\n\tconst temp = document.createElement(\"div\");\n\tconst fragment = document.createDocumentFragment();\n\n\tlet child;\n\n\ttemp.innerHTML = str;\n\n\twhile ((child = temp.firstChild))\n\t\tfragment.appendChild(child);\n\n\treturn fragment;\n}\n\nexport default {\n\tclosest,\n\tcreateElement,\n\tdownloadFile,\n\tgetCoords,\n\tgetLattePath,\n\tisReady,\n\tlive,\n\tprintDocument,\n\traf,\n\trelativeCoordsTo,\n\ttoDOM\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { live } from \"../util/dom.js\";\n\nconst actions = {};\n\n/**\n * Class ActionSubscription\n *\n * @author Bas Milius <bas@mili.us>\n * @version 1.0.0\n */\nclass ActionSubscription\n{\n\n\t/**\n\t * ActionSubscription Constructor.\n\t *\n\t * @param {String} action\n\t * @param {Function} callback\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tconstructor(action, callback)\n\t{\n\t\tthis.action = action;\n\t\tthis.callback = callback;\n\t\tthis.id = performance.now();\n\t}\n\n\t/**\n\t * Calls the handler callback.\n\t *\n\t * @param {*} data\n\t * @param {HTMLElement} el\n\t * @param {Event} evt\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\thandle(data, el, evt)\n\t{\n\t\tthis.callback(data, el, evt);\n\t}\n\n\t/**\n\t * Unsubscribes the action callback.\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tunsubscribe()\n\t{\n\t\tactions[this.action] = actions[this.action].filter(sub => sub.id !== this.id);\n\t}\n\n}\n\n/**\n * Dispatches an action.\n *\n * @param {String} action\n * @param {*|undefined} data\n * @param {Node|undefined} el\n * @param {Event|undefined} evt\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function dispatch(action, data = undefined, el = undefined, evt = undefined)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(data, el, evt));\n}\n\n/**\n * Registers an action listener.\n *\n * @param {String} action\n * @param {Function} callback\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function on(action, callback)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\tactions[action] = [];\n\n\tconst sub = new ActionSubscription(action, callback);\n\n\tactions[action].push(sub);\n\n\treturn sub;\n}\n\n/**\n * Updates the URL hash.\n *\n * @param {Object} data\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function updateURLHash(data)\n{\n\tlet parts = [];\n\n\tfor (let key in data)\n\t{\n\t\tif (!data.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tlet str = key;\n\t\tlet d = data[key];\n\n\t\tif (d.value)\n\t\t\tstr += `=${d.value}`;\n\n\t\tfor (let vk in d.vars)\n\t\t\tif (d.vars.hasOwnProperty(vk))\n\t\t\t\tstr += `/${vk}:${d.vars[vk]}`;\n\n\t\tparts.push(str);\n\t}\n\n\tconst hash = parts.join(\"&\");\n\n\tif (hash.length > 0)\n\t\tlocation.hash = hash;\n\telse\n\t\thistory.replaceState({}, document.title, location.pathname + location.search);\n}\n\n/**\n * Removes saved= from the query string.\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function removeSavedFromQueryString()\n{\n\tlet queryString = window.location.search.substr(1);\n\n\tif (queryString === \"\")\n\t\treturn;\n\n\tif (queryString.substr(0, 6) === \"saved=\")\n\t\thistory.replaceState(null, '', window.location.pathname || window.location.path);\n}\n\nfunction init()\n{\n\twindow.addEventListener(\"hashchange\", () => onHashChange(), false);\n\twindow.addEventListener(\"load\", () => onHashChange(), false);\n\n\tlive(document.body, \"[data-action]\", \"click\", onAction, {passive: true});\n\n\ton(\"latte:hash-change\", parameters =>\n\t{\n\t\tconst action = parameters.action;\n\n\t\tdelete parameters.action;\n\n\t\tupdateURLHash(parameters);\n\n\t\tif (action === undefined || action === null)\n\t\t\treturn;\n\n\t\tdispatch(action.value, action.vars);\n\t});\n}\n\nfunction onAction(element, evt)\n{\n\tconst action = element.dataset.action;\n\tconst actionData = element.dataset;\n\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(actionData, element, evt));\n}\n\nfunction onHashChange()\n{\n\tconst hash = location.hash.substr(1);\n\n\tif (!hash || hash.length === 0)\n\t\treturn;\n\n\tconst raw = hash.split(\"&\");\n\tconst parameters = {};\n\n\tfor (let i in raw)\n\t{\n\t\tif (!raw.hasOwnProperty(i))\n\t\t\tcontinue;\n\n\t\tconst item = raw[i];\n\t\tconst kv = item.split(\"=\", 2);\n\t\tlet value = kv[1] || null;\n\t\tlet vars = {};\n\n\t\tif (value.indexOf(\"/\") > -1)\n\t\t{\n\t\t\tconst ad = value.split(\"/\");\n\t\t\tvalue = ad.shift();\n\n\t\t\tfor (let j in ad)\n\t\t\t{\n\t\t\t\tif (!ad.hasOwnProperty(j))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tconst d = ad[j];\n\t\t\t\tconst kv = d.split(\":\", 2);\n\t\t\t\tvars[kv[0]] = kv[1];\n\t\t\t}\n\t\t}\n\n\t\tparameters[kv[0]] = {value, vars};\n\t}\n\n\tdispatch(\"latte:hash-change\", parameters);\n}\n\nexport default {\n\n\tdispatch,\n\n\ton\n\n}\n\ninit();\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Generates a random unique ID using the browsers crypto capabilities.\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function id()\n{\n\tconst array = new Uint32Array(3);\n\n\twindow.crypto.getRandomValues(array);\n\n\treturn \"latte-\" + array.join(\"-\");\n}\n\n/**\n * Requests an API endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Response>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function request(url, options = {})\n{\n\treturn fetch(url, Object.assign({}, {credentials: \"same-origin\"}, options));\n}\n\n/**\n * Requests a JSON endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Object>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function requestJson(url, options = {})\n{\n\treturn request(url, options)\n\t\t.then(r => r.json());\n}\n\nexport default {\n\n\tid,\n\n\trequest,\n\n\trequestJson\n\n}\n","/*\r\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n *\r\n * This file is part of the Latte UI package.\r\n *\r\n * For the full copyright and license information, please view the\r\n * LICENSE file that was distributed with this source code.\r\n */\r\n\r\nlet counter = 0;\r\n\r\nexport function isPopupOpened()\r\n{\r\n\treturn counter > 0;\r\n}\r\n\r\nexport function popupClosed()\r\n{\r\n\tcounter--;\r\n\tupdate();\r\n}\r\n\r\nexport function popupOpened()\r\n{\r\n\tcounter++;\r\n\tupdate();\r\n}\r\n\r\nfunction update()\r\n{\r\n\tif (counter > 0)\r\n\t\tdocument.body.classList.add(\"is-popup-opened\");\r\n\telse\r\n\t\tdocument.body.classList.remove(\"is-popup-opened\");\r\n}\r\n\r\nexport default {\r\n\tisPopupOpened,\r\n\tpopupClosed,\r\n\tpopupOpened\r\n}\r\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nlet currentZ = 2000;\n\n/**\n * Generates a z-value to be used with z-index.\n *\n * @param {Function} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function applyZ(fn)\n{\n\tfn(currentZ);\n\tcurrentZ++;\n}\n\nexport default {\n\tapplyZ\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport popup from \"./popup\";\nimport z from \"./z\";\n\nexport let currentOptions = {};\n\n/**\n * Gets the main#app element.\n *\n * @returns {HTMLElement}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getMainElement()\n{\n\treturn currentOptions.mainElement || document.body; // Fallback to body then..!\n}\n\n/**\n * Gets the used latte options for local use.\n *\n * @returns {Object}\n * @author Bas Milius <bas@mili.us>\n * @since 1.6.0\n */\nexport function getOptions()\n{\n\treturn currentOptions;\n}\n\n/**\n * Handles an Error.\n *\n * @param {Error} err\n * @param {Function|undefined} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function handleError(err, fn = undefined)\n{\n\tLatte.ui.message.alert(\"Aw snap!\", `<pre>${err.stack}</pre>`);\n\n\tif (fn)\n\t\tfn();\n}\n\n/**\n * Sets an interval.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function interval(timeout, func)\n{\n\tfunc();\n\n\treturn setInterval(func, timeout);\n}\n\n/**\n * Generates a random password-like string.\n *\n * @param {Number} length\n * @param {String} availableSets\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function randomPassword(length = 9, availableSets = \"luds\")\n{\n\tconst sets = [];\n\n\tif (availableSets.indexOf(\"l\") > -1)\n\t\tsets.push(\"abcdefghjkmnpqrstuvwxyz\");\n\n\tif (availableSets.indexOf(\"u\") > -1)\n\t\tsets.push(\"ABCDEFGHJKMNPQRSTUVWXYZ\");\n\n\tif (availableSets.indexOf(\"d\") > -1)\n\t\tsets.push(\"123456789\");\n\n\tif (availableSets.indexOf(\"s\") > -1)\n\t\tsets.push(\"!@#$%&*?\");\n\n\tlet all = \"\";\n\tlet password = \"\";\n\n\tsets.forEach(set =>\n\t{\n\t\tpassword += set[Math.floor(Math.random() * set.length)];\n\t\tall += set;\n\t});\n\n\tfor (let i = 0; i < length - sets.length; i++)\n\t\tpassword += all[Math.floor(Math.random() * all.length)];\n\n\treturn shuffleString(password);\n}\n\n/**\n * Registers a Latte module.\n *\n * @param {Function} func\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function register(func)\n{\n\tfunc(window.Latte);\n}\n\n/**\n * Sets the used latte options for local use.\n *\n * @param {Object} options\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.3.0\n */\nexport function setOptions(options)\n{\n\tcurrentOptions = options;\n}\n\n/**\n * Sets a timeout.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function timeout(timeout, func)\n{\n\treturn setTimeout(func, timeout);\n}\n\nfunction shuffleString(str)\n{\n\tconst a = str.split(\"\");\n\tconst n = a.length;\n\n\tfor (let i = n - 1; i > 0; i--)\n\t{\n\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\tlet tmp = a[i];\n\n\t\ta[i] = a[j];\n\t\ta[j] = tmp;\n\t}\n\n\treturn a.join(\"\");\n}\n\nexport default {\n\tpopup,\n\tz,\n\n\tgetMainElement,\n\tgetOptions,\n\thandleError,\n\tinterval,\n\trandomPassword,\n\tregister,\n\ttimeout\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nimport { currentOptions } from \"./core\";\n\n/**\n * Replaces params in a string.\n *\n * @param {String} string\n * @param {Array} params\n *\n * @returns {*}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function replace(string, params = [])\n{\n\tfor (let i = 0; i < params.length; i++)\n\t\tstring = string.replace(new RegExp(`@${i}`, 'g'), params[i]);\n\n\treturn string;\n}\n\n/**\n * Translates a string.\n *\n * @param {String} domain\n * @param {String} string\n * @param {Array} params\n *\n * @returns {String}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function translate(domain, string, params = [])\n{\n\tconst translations = currentOptions.i18n;\n\n\tif (translations === null || typeof translations[domain] === \"undefined\" || typeof translations[domain][string] === \"undefined\")\n\t\treturn replace(string, params);\n\n\treturn replace(translations[domain][string], params);\n}\n\nVue.filter(\"i18n\", (value, domain = \"root\", ...params) => translate(domain, value, params));\n\nexport default {\n\treplace,\n\ttranslate\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport function defaultOnUpdateHandler()\n{\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { defaultOnUpdateHandler } from \"./easing\";\nimport { raf } from \"../util/dom\";\n\nfunction currentTime()\n{\n\treturn Date.now();\n}\n\nconst timeConstant = 325;\n\nexport class Velocity\n{\n\n\tconstructor(vp1 = 0.8, vp2 = 0.2)\n\t{\n\t\tthis.onUpdate = defaultOnUpdateHandler;\n\n\t\tthis.amplitude = undefined;\n\t\tthis.frame = undefined;\n\t\tthis.max = undefined;\n\t\tthis.min = undefined;\n\t\tthis.offset = 0;\n\t\tthis.reference = undefined;\n\t\tthis.target = 0;\n\t\tthis.time = 0;\n\t\tthis.velocity = undefined;\n\t\tthis.vp1 = vp1;\n\t\tthis.vp2 = vp2;\n\n\t\tthis.updateInterval = 0;\n\t}\n\n\tmove(value)\n\t{\n\t\tconst delta = this.reference - value;\n\n\t\tif (delta > 2 || delta < -2)\n\t\t{\n\t\t\tthis.reference = value;\n\t\t\tthis.updateValue(this.offset + delta);\n\t\t}\n\t}\n\n\tstart(value)\n\t{\n\t\tthis.reference = value;\n\t\tthis.amplitude = 0;\n\t\tthis.velocity = 0;\n\t\tthis.frame = this.offset;\n\t\tthis.time = currentTime();\n\n\t\tif (this.updateInterval !== 0)\n\t\t\tclearInterval(this.updateInterval);\n\n\t\tthis.updateInterval = setInterval(() => this.update(), 10);\n\t}\n\n\tstop()\n\t{\n\t\tclearInterval(this.updateInterval);\n\t\tthis.updateInterval = 0;\n\n\t\tif (this.velocity > 10 || this.velocity < -10)\n\t\t{\n\t\t\t// vp1: 0.8\n\t\t\tthis.amplitude = 0.8 * this.velocity;\n\t\t\tthis.target = Math.round(this.offset + this.amplitude);\n\t\t\tthis.time = currentTime();\n\n\t\t\traf(() => this.updateValueAuto());\n\t\t}\n\t}\n\n\tupdate()\n\t{\n\t\tconst now = currentTime();\n\t\tconst elapsed = now - this.time;\n\t\tconst delta = this.offset - this.frame;\n\n\t\tthis.frame = this.offset;\n\t\tthis.time = now;\n\n\t\tconst v = 1000 * delta / (1 + elapsed);\n\t\tthis.velocity = this.vp1 * v + this.vp2 * this.velocity;\n\t}\n\n\tupdateValue(value)\n\t{\n\t\tif (this.min !== undefined)\n\t\t\tvalue = Math.max(this.min, value);\n\n\t\tif (this.max !== undefined)\n\t\t\tvalue = Math.min(this.max, value);\n\n\t\tthis.offset = value;\n\n\t\tif (this.onUpdate)\n\t\t\tthis.onUpdate(-this.offset);\n\t}\n\n\tupdateValueAuto()\n\t{\n\t\tif (this.amplitude === undefined)\n\t\t\treturn;\n\n\t\tconst elapsed = currentTime() - this.time;\n\t\tconst delta = -this.amplitude * Math.exp(-elapsed / timeConstant);\n\n\t\tif (delta > 0.5 || delta < -0.5)\n\t\t{\n\t\t\tthis.updateValue(this.target + delta);\n\t\t\traf(() => this.updateValueAuto());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.updateValue(this.target);\n\t\t}\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { Velocity } from \"./animation/velocity\";\n\n/**\n * Clamps a value between min and max.\n *\n * @param {Number} value\n * @param {Number} min\n * @param {Number} max\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function clamp(value, min, max)\n{\n\treturn Math.min(Math.max(value, min), max);\n}\n\n/**\n * Pseudo random implementation.\n *\n * @param {Number} seed\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function pseudoRandom(seed)\n{\n\tconst x = Math.sin(seed) * 10000;\n\n\treturn x - Math.floor(x);\n}\n\n/**\n * Implementation of the pythagorean equation.\n *\n * @param {Number} a\n * @param {Number} b\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function pythagorean(a, b)\n{\n\treturn Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\n}\n\nexport default {\n\tclamp,\n\tpythagorean,\n\tVelocity\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Implementation of the <=> operator.\n *\n * @param {*} a\n * @param {*} b\n *\n * @returns {Number|null}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function spaceship(a, b)\n{\n\tif ((a === null || b === null) || typeof a !== typeof b)\n\t\treturn null;\n\n\tif (typeof a === \"string\")\n\t\treturn a.localeCompare(b);\n\n\tif (a > b)\n\t\treturn 1;\n\telse if (a < b)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nexport default {\n\tspaceship\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport function initializeForms()\n{\n\tdocument.querySelectorAll(`form[method=\"post\"]`).forEach(form => initializeForm(form));\n}\n\nfunction initializeForm(form)\n{\n\tform.addEventListener(\"submit\", onFormSubmit.bind(window, form));\n\tform.addEventListener(\"keyup\", onFormKeyUp.bind(window, form));\n}\n\nfunction onFormKeyUp(form, evt)\n{\n\tif (evt.ctrlKey !== true)\n\t\treturn;\n\n\tif ((evt.code || evt.key) !== \"Enter\")\n\t\treturn;\n\n\tonFormSubmit(form);\n\tform.submit();\n}\n\nfunction onFormSubmit(form)\n{\n\tform.querySelectorAll(\".btn[type=submit]\").forEach(btn =>\n\t{\n\t\tif (btn.classList.contains(\"btn-icon\"))\n\t\t\treturn;\n\n\t\tconst icon = btn.querySelector(\"i.mdi\");\n\n\t\tif (icon === null)\n\t\t\treturn;\n\n\t\ticon.classList.add(\"spinner\");\n\n\t\tif (btn.classList.contains(\"btn-light\"))\n\t\t\ticon.classList.add(\"spinner-primary\");\n\t\telse\n\t\t\ticon.classList.add(\"spinner-light\");\n\n\t\tbtn.classList.add(\"disabled\");\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nimport { dispatch } from \"../core/action\";\nimport { createElement, raf } from \"../util/dom\";\nimport { spaceship } from \"../operators\";\nimport { translate } from \"../i18n\";\nimport { applyZ } from \"../core/z\";\nimport { getMainElement } from \"../core\";\n\nconst MessagePanel = Vue.extend({\n\n\tprops: {\n\n\t\tbuttons: {\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t\ttype: Array\n\t\t},\n\n\t\tmessage: {\n\t\t\tdefault: \"\",\n\t\t\trequired: true,\n\t\t\ttype: String\n\t\t},\n\n\t\tprompt: {\n\t\t\tdefault: false,\n\t\t\trequired: true,\n\t\t\ttype: Boolean\n\t\t},\n\n\t\tresolve: {\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\n\t\ttitle: {\n\t\t\tdefault: \"\",\n\t\t\trequired: true,\n\t\t\ttype: String\n\t\t}\n\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisOpen: false,\n\t\t\tpromptResult: \"\",\n\t\t\tz: 0\n\t\t};\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\"div\", {attrs: {role: \"dialog\"}, class: [\"overlay\", \"is-visible\", this.isOpen ? \"is-open\" : \"is-not-open\"], style: {zIndex: this.z}}, [\n\t\t\th(\"div\", {class: [\"panel\"], style: {width: \"540px\"}}, [\n\t\t\t\th(\"div\", {class: [\"panel-header\"]}, [\n\t\t\t\t\th(\"span\", {class: [\"panel-title\"]}, this.title)\n\t\t\t\t]),\n\t\t\t\th(\"div\", {class: [\"panel-body\"]}, [\n\t\t\t\t\th(\"p\", {domProps: {innerHTML: this.message}}),\n\t\t\t\t\t!this.prompt ? undefined : h(\"div\", {class: [\"form-group\"]}, [\n\t\t\t\t\t\th(\"input\", {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\ttype: \"text\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclass: [\"form-control\"],\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tvalue: this.promptResult\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\tinput: v => this.promptResult = v.target.value,\n\t\t\t\t\t\t\t\tkeydown: v => v.key === \"Enter\" && this.promptResult.trim() !== \"\" ? this.close(this.buttons[this.buttons.length - 1].id) : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\th(\"div\", {class: [\"panel-footer\", \"justify-content-end\"]}, this.buttons.map(button => h(\"latte-ripple\", {\n\t\t\t\t\tclass: [\"btn\", ...button.classes],\n\t\t\t\t\ton: {\n\t\t\t\t\t\tclick: () => this.close(button.id)\n\t\t\t\t\t},\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tas: \"button\"\n\t\t\t\t\t}\n\t\t\t\t}, [\n\t\t\t\t\tbutton.icon !== null ? h(\"i\", {class: [\"mdi\", `mdi-${button.icon}`]}) : undefined,\n\t\t\t\t\th(\"span\", {}, button.label)\n\t\t\t\t])))\n\t\t\t])\n\t\t]);\n\t},\n\n\tmethods: {\n\n\t\tclose(buttonId)\n\t\t{\n\t\t\traf(() => this.isOpen = false);\n\t\t\traf(() => this.$emit(\"delete-me\"), 300);\n\n\t\t\tthis.resolve({\n\t\t\t\tbutton: buttonId,\n\t\t\t\tinput: this.promptResult\n\t\t\t});\n\t\t},\n\n\t\topen()\n\t\t{\n\t\t\tapplyZ(z => this.z = z);\n\t\t\traf(() => raf(() => this.isOpen = true));\n\n\t\t\tif (this.prompt)\n\t\t\t\traf(() => this.$el.querySelector(\"input\").focus(), 300);\n\t\t}\n\n\t},\n\n\twatch: {\n\n\t\tisOpen()\n\t\t{\n\t\t\tdispatch(\"latte:overlay\", {overlay: this.$el, open: this.isOpen});\n\t\t}\n\n\t}\n\n});\n\nexport const Buttons = {\n\tOK: 1,\n\tCANCEL: 2,\n\tYES: 4,\n\tNO: 8,\n\tUPDATE: 16,\n\tSAVE: 32,\n\tREMOVE: 64,\n\tCREATE: 128,\n\tGO: 256,\n\tPROCEED: 512,\n\tALLOW: 1024,\n\tDENY: 2048\n};\n\nexport const ButtonsDescribed = [\n\t{id: Buttons.OK, icon: \"check-circle\", label: \"OK\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.CANCEL, icon: null, label: \"Cancel\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.YES, icon: \"check-circle\", label: \"Yes\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.NO, icon: null, label: \"No\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.UPDATE, icon: \"check-circle\", label: \"Update\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.SAVE, icon: \"check-circle\", label: \"Save\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.REMOVE, icon: \"alert-circle\", label: \"Remove\", classes: [\"btn-contained\", \"btn-error\"], weight: 1},\n\t{id: Buttons.CREATE, icon: \"check-circle\", label: \"Create\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.GO, icon: \"arrow-right-bold-circle\", label: \"Go\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.PROCEED, icon: \"arrow-right-bold-circle\", label: \"Proceed\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.ALLOW, icon: \"check-circle\", label: \"Allow\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.DENY, icon: \"close-circle\", label: \"Deny\", classes: [\"btn-text\", \"btn-dark\"], weight: 0}\n];\n\nexport function create(title, message, buttons, prompt = false)\n{\n\treturn new Promise(resolve =>\n\t{\n\t\tconst mount = createElement(\"div\");\n\t\tconst dialog = new MessagePanel({\n\t\t\tpropsData: {\n\t\t\t\tbuttons: buttonsToButtons(buttons),\n\t\t\t\tmessage,\n\t\t\t\tprompt,\n\t\t\t\tresolve,\n\t\t\t\ttitle\n\t\t\t}\n\t\t});\n\n\t\tgetMainElement().appendChild(mount);\n\t\tdialog.$mount(mount);\n\n\t\tdialog.open();\n\t\tdialog.$on(\"delete-me\", () =>\n\t\t{\n\t\t\tdialog.$destroy();\n\t\t\tgetMainElement().removeChild(dialog.$el);\n\t\t});\n\t});\n}\n\nexport function alert(title, message)\n{\n\treturn create(title, message, Buttons.OK);\n}\n\nexport function confirm(title, message)\n{\n\treturn create(title, message, Buttons.OK | Buttons.CANCEL);\n}\n\nexport function prompt(title, message)\n{\n\treturn create(title, message, Buttons.OK | Buttons.CANCEL, true);\n}\n\nfunction buttonsToButtons(buttons)\n{\n\tlet actualButtons = [];\n\n\tfor (let i in ButtonsDescribed)\n\t\tif (ButtonsDescribed.hasOwnProperty(i))\n\t\t\tif ((buttons & ButtonsDescribed[i].id) === ButtonsDescribed[i].id)\n\t\t\t\tactualButtons.push(ButtonsDescribed[i]);\n\n\tactualButtons = actualButtons.sort((a, b) => spaceship(a.weight, b.weight));\n\tactualButtons.forEach(button => button.label = translate(\"root\", button.label));\n\n\treturn actualButtons;\n}\n\nexport default {\n\tButtons,\n\tButtonsDescribed,\n\tcreate,\n\talert,\n\tconfirm,\n\tprompt\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Deep merges multiple objects.\n *\n * @param {*} target\n * @param {*} sources\n *\n * @returns {*}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function deepMerge(target, ...sources)\n{\n\tif (sources.length === 0)\n\t\treturn target;\n\n\tconst source = sources.shift();\n\n\tif (!isObject(target) || !isObject(source))\n\t\treturn deepMerge(target, ...sources);\n\n\tfor (const key in source)\n\t{\n\t\tif (!source.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tif (isObject(source[key]))\n\t\t{\n\t\t\tif (!target[key])\n\t\t\t\tObject.assign(target, {[key]: source[key]});\n\n\t\t\tdeepMerge(target[key], source[key]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tObject.assign(target, {[key]: source[key]});\n\t\t}\n\t}\n\n\treturn deepMerge(target, ...sources);\n}\n\n/**\n * Returns TRUE when obj is iterable.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isIterable(obj)\n{\n\tif (obj === null)\n\t\treturn false;\n\n\treturn typeof obj[Symbol.iterator] === \"function\";\n}\n\n/**\n * Returns TRUE when obj is an object.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isObject(obj)\n{\n\treturn obj && typeof obj === \"object\" && !Array.isArray(obj);\n}\n\nexport default {\n\tdeepMerge,\n\tisIterable,\n\tisObject\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { on } from \"../core/action\";\nimport { id } from \"../core/api\"\nimport { isIterable } from \"../util/object\";\n\nexport function initializeNotices()\n{\n\tlet notices = Array.from(document.querySelectorAll(\"div.notice\"));\n\tnotices = notices.filter(notice => notice.querySelector(\"button.notice-dismiss\") !== null);\n\tnotices = notices.map(notice => notice.querySelector(\"button.notice-dismiss\"));\n\n\tnotices.forEach(dismissButton => dismissButton.addEventListener(\"click\", () => dismissButton.parentNode.parentNode.removeChild(dismissButton.parentNode)));\n\n\ton(\"latte:notice\", data => create(decodeURIComponent(data.message), data.type || \"info\"));\n}\n\nexport function areEntitiesNotices(entities)\n{\n\tif (!isIterable(entities))\n\t\treturn false;\n\n\tfor (let i in entities)\n\t\tif (entities.hasOwnProperty(i))\n\t\t\tif (!isEntityNotice(entities[i]))\n\t\t\t\treturn false;\n\n\treturn true;\n}\n\nexport function create(message, type, dismissible = true)\n{\n\tconst noticeId = id();\n\n\tconst notice = document.createElement(\"div\");\n\tnotice.classList.add(\"notice\", `notice-${type}`);\n\tnotice.setAttribute(\"id\", noticeId);\n\n\tconst p = document.createElement(\"p\");\n\tp.innerHTML = message;\n\n\tnotice.appendChild(p);\n\n\tif (dismissible)\n\t{\n\t\tconst dismiss = document.createElement(\"button\");\n\t\tdismiss.classList.add(\"btn\", \"btn-text\", \"btn-icon\", \"notice-dismiss\");\n\n\t\tconst icon = document.createElement(\"i\");\n\t\ticon.classList.add(\"mdi\", \"mdi-close\");\n\n\t\tdismiss.appendChild(icon);\n\t\tdismiss.addEventListener(\"click\", () => remove(noticeId), {passive: true});\n\n\t\tnotice.appendChild(dismiss);\n\t}\n\n\tconst content = document.querySelector(\"main#app > div.content\");\n\n\tcontent.insertBefore(notice, content.querySelector(\":scope > *:first-child\"));\n\n\treturn noticeId;\n}\n\n// This method is used in Latte Framework.\nexport function isEntityNotice(entity)\n{\n\treturn entity[\"@type\"] === \"Latte\\\\Data\\\\Model\\\\Notice\";\n}\n\nexport function remove(noticeId)\n{\n\tconst notice = document.querySelector(`div.notice#${noticeId}`);\n\tnotice.parentNode.removeChild(notice);\n}\n\nexport default {\n\tareEntitiesNotices,\n\tcreate,\n\tisEntityNotice,\n\tremove\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nimport { on } from \"../core/action\";\nimport { id } from \"../core/api\";\nimport { conditionalRender, createElement, eachRender, getLattePath, raf } from \"../util/dom\";\nimport { getMainElement } from \"../core\";\nimport { applyZ } from \"../core/z\";\n\nconst defaultOptions = {\n\tduration: 3000,\n\tsound: \"default\"\n};\n\nconst notifications = [];\n\nlet lastY = 0;\n\nconst Notification = Vue.extend({\n\n\tprops: {\n\n\t\toptions: {\n\t\t\tdefault: () => ({}),\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\n\t\tresolve: {\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t}\n\n\t},\n\n\tcreated()\n\t{\n\t\tnotifications.push(this);\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tclosing: false,\n\t\t\topening: true,\n\t\t\ttimer: 0,\n\t\t\ty: 0,\n\t\t\tz: 0\n\t\t};\n\t},\n\n\tdestroyed()\n\t{\n\t\tnotifications.splice(notifications.indexOf(this), 1);\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\"div\", {class: this.notificationClasses, style: this.notificationStyles}, [\n\t\t\tconditionalRender(this.options.avatar && typeof this.options.avatar === \"function\", () => this.options.avatar(h)),\n\t\t\tconditionalRender(this.options.avatar && typeof this.options.avatar === \"string\", () => h(\"img\", {attrs: {src: this.options.avatar}, class: [\"avatar\"]})),\n\t\t\tconditionalRender(this.options.icon, () => h(\"div\", {class: [\"notification-icon\"]}, [\n\t\t\t\th(\"i\", {class: [\"mdi\", `mdi-${this.options.icon}`]})\n\t\t\t])),\n\t\t\th(\"div\", {class: [\"notification-content\"]}, [\n\t\t\t\th(\"div\", {class: [\"notification-body\"]}, [\n\t\t\t\t\tconditionalRender(this.options.title, () => h(\"span\", {class: [\"notification-title\"], domProps: {innerHTML: this.options.title}})),\n\t\t\t\t\tconditionalRender(this.options.message, () => h(\"span\", {class: [\"notification-text\"], domProps: {innerHTML: this.options.message}}))\n\t\t\t\t]),\n\t\t\t\tconditionalRender(this.options.buttons && this.options.buttons.length > 0, () => h(\"div\", {class: [\"notification-actions\"]}, [\n\t\t\t\t\t...eachRender(this.options.buttons, button => h(\"latte-ripple\", {\n\t\t\t\t\t\tattrs: makeParams(button.params),\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tas: \"button\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclass: [\"btn\", \"btn-text\", `btn-${button.color || \"dark\"}`],\n\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\tclick: () => this.close(button.id)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, [\n\t\t\t\t\t\tconditionalRender(button.icon, () => h(\"i\", {class: [\"mdi\", `mdi-${button.icon}`]})),\n\t\t\t\t\t\th(\"span\", {}, button.label)\n\t\t\t\t\t]))\n\t\t\t\t]))\n\t\t\t])\n\t\t])\n\t},\n\n\tcomputed: {\n\n\t\tnotificationClasses()\n\t\t{\n\t\t\tconst classes = [\"notification\", `notification-${this.options.color || \"primary\"}`, \"is-app-notification\"];\n\n\t\t\tif (this.closing)\n\t\t\t\tclasses.push(\"is-closing\");\n\n\t\t\tif (this.opening)\n\t\t\t\tclasses.push(\"is-opening\");\n\n\t\t\treturn classes;\n\t\t},\n\n\t\tnotificationStyles()\n\t\t{\n\t\t\treturn {\n\t\t\t\ttop: `calc(24px + ${this.y}px)`,\n\t\t\t\tzIndex: this.z\n\t\t\t};\n\t\t}\n\n\t},\n\n\tmethods: {\n\n\t\tclose(buttonId = undefined)\n\t\t{\n\t\t\tthis.resolve(buttonId);\n\n\t\t\tif (this.timer !== 0)\n\t\t\t\tclearTimeout(this.timer);\n\n\t\t\tthis.closing = true;\n\t\t\tthis.timer = 0;\n\t\t\tupdatePositions();\n\n\t\t\traf(() => this.$emit(\"delete-me\"), 420);\n\t\t},\n\n\t\tcloseByTimer()\n\t\t{\n\t\t\tthis.timer = 0;\n\t\t\tthis.close();\n\t\t},\n\n\t\topen()\n\t\t{\n\t\t\tapplyZ(z => this.z = z);\n\t\t\tupdatePositions();\n\n\t\t\traf(() => raf(() => this.opening = false));\n\n\t\t\tif (this.options.duration > 0)\n\t\t\t\tthis.timer = setTimeout(() => this.closeByTimer(), this.options.duration);\n\n\t\t\tif (this.options.sound)\n\t\t\t{\n\t\t\t\tlet audio = new Audio();\n\t\t\t\taudio.setAttribute(\"src\", this.options.sound);\n\t\t\t\taudio.setAttribute(\"preload\", \"auto\");\n\t\t\t\taudio.volume = 1;\n\t\t\t\taudio.currentTime = 0;\n\t\t\t\taudio.play().catch(err => console.error(err));\n\t\t\t}\n\t\t}\n\n\t}\n\n});\n\nexport function create(options = {})\n{\n\toptions = Object.assign({}, defaultOptions, options);\n\toptions.id = options.id || id();\n\n\tif (options.sound === \"default\")\n\t{\n\t\tlet lattePath = getLattePath();\n\n\t\tif (lattePath === \"/\")\n\t\t\tlattePath = \"\";\n\n\t\toptions.sound = (lattePath !== null ? `${lattePath}/sound/notification.ogg` : null);\n\t}\n\n\treturn new Promise(resolve =>\n\t{\n\t\tconst mount = createElement(\"div\");\n\t\tconst notification = new Notification({\n\t\t\tdata: {\n\t\t\t\ty: lastY\n\t\t\t},\n\t\t\tpropsData: {\n\t\t\t\toptions,\n\t\t\t\tresolve\n\t\t\t}\n\t\t});\n\n\t\tgetMainElement().appendChild(mount);\n\t\tnotification.$mount(mount);\n\n\t\tnotification.open();\n\t\tnotification.$on(\"delete-me\", () =>\n\t\t{\n\t\t\tnotification.$destroy();\n\t\t\tgetMainElement().removeChild(notification.$el);\n\t\t});\n\t});\n}\n\nexport function initializeNotifications()\n{\n\ton(\"latte:notification\", data => create(data));\n}\n\nfunction makeParams(params)\n{\n\tconst result = {};\n\n\tfor (let param in params)\n\t\tif (params.hasOwnProperty(param))\n\t\t\tresult[`data-${param}`] = params[param];\n\n\treturn result;\n}\n\nfunction updatePositions()\n{\n\traf(() =>\n\t{\n\t\tlet y = 0;\n\n\t\tfor (let i = 0; i < notifications.length; i++)\n\t\t{\n\t\t\tlet notification = notifications[i];\n\n\t\t\tif (notification.closing)\n\t\t\t\tcontinue;\n\n\t\t\tnotification.y = y;\n\n\t\t\ty += notification.$el.getBoundingClientRect().height + 24;\n\t\t}\n\n\t\tlastY = y;\n\t});\n}\n\nexport default {\n\tcreate\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nlet registry = {};\n\nexport function close(name)\n{\n\tlet overlay = find(name);\n\toverlay.close();\n}\n\nexport function find(name)\n{\n\tif (typeof registry[name] === \"undefined\")\n\t\tthrow new Error(`Overlay ${name} is not registred!`);\n\n\treturn registry[name];\n}\n\nexport function open(name)\n{\n\tlet overlay = find(name);\n\toverlay.open();\n}\n\nexport function register(name, overlay)\n{\n\tregistry[name] = overlay;\n}\n\nexport function remove(name)\n{\n\tdelete registry[name];\n}\n\nexport default {\n\tclose,\n\tfind,\n\topen,\n\tregister,\n\tremove\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport function initializePanels()\n{\n\tdocument.querySelectorAll(\"div.panel > table\").forEach(t => t.parentNode.classList.add(\"panel-table\"));\n\tdocument.querySelectorAll(\"div.panel.panel-toggleable\").forEach(panel => initializePanel(panel));\n}\n\nexport function initializePanel(panel)\n{\n\tconst header = panel.querySelector(\"div.panel-header\");\n\n\tif (header === null)\n\t\treturn;\n\n\tconst hasRightItems = header.querySelectorAll(\".ml-auto\").length > 0;\n\n\tconst toggle = document.createElement(\"button\");\n\ttoggle.setAttribute(\"type\", \"button\");\n\ttoggle.classList.add(\"panel-toggle\", \"btn\", \"btn-text\", \"btn-icon\", \"btn-dark\");\n\n\tif (!hasRightItems)\n\t\ttoggle.classList.add(\"ml-auto\");\n\n\ttoggle.innerHTML = '<i class=\"mdi mdi-chevron-down\"></i>';\n\n\theader.appendChild(toggle);\n\n\tif (panel.classList.contains(\"is-open\"))\n\t\topen(panel);\n\telse\n\t\tclose(panel);\n\n\ttoggle.addEventListener(\"click\", () =>\n\t{\n\t\tif (panel.classList.contains(\"is-open\"))\n\t\t\tclose(panel);\n\t\telse\n\t\t\topen(panel);\n\t});\n}\n\nexport function close(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.add(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.remove(\"mdi-rotate-180\");\n\n\tpanel.classList.add(\"is-closed\");\n\tpanel.classList.remove(\"is-open\");\n}\n\nexport function open(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.remove(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.add(\"mdi-rotate-180\");\n\n\tpanel.classList.remove(\"is-closed\");\n\tpanel.classList.add(\"is-open\");\n}\n\nexport default {\n\tclose,\n\tinitializePanel,\n\topen\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nimport { createElement, raf } from \"../util/dom\";\nimport { applyZ } from \"../core/z\";\nimport { dispatch } from \"../core/action\";\nimport { getMainElement } from \"../core\";\n\nconst defaultOptions = {\n\twidth: \"300px\"\n};\n\nconst QuestionPanel = Vue.extend({\n\n\tprops: {\n\n\t\tbuttons: {\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t\ttype: Array\n\t\t},\n\n\t\ticon: {\n\t\t\tdefault: \"home-outline\",\n\t\t\trequired: false,\n\t\t\ttype: String\n\t\t},\n\n\t\tmessage: {\n\t\t\tdefault: \"\",\n\t\t\trequired: true,\n\t\t\ttype: String\n\t\t},\n\n\t\toptions: {\n\t\t\tdefault: () => ({}),\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\n\t\tresolve: {\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t}\n\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisOpen: false,\n\t\t\tz: 0\n\t\t};\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\"div\", {attrs: {role: \"dialog\"}, class: [\"overlay\", \"is-visible\", this.isOpen ? \"is-open\" : \"is-not-open\"], style: {zIndex: this.z}}, [\n\t\t\th(\"div\", {class: [\"panel\"], style: {width: this.options.width}}, [\n\t\t\t\th(\"div\", {class: [\"panel-header\", \"justify-content-center\", \"border-bottom-0\", \"py-4\"]}, [\n\t\t\t\t\th(\"i\", {class: [\"mdi\", `mdi-${this.icon}`, \"text-primary\"], style: {fontSize: \"36px\"}})\n\t\t\t\t]),\n\t\t\t\th(\"div\", {class: [\"panel-body\", \"py-0\", \"text-center\"], domProps: {innerHTML: this.message}}),\n\t\t\t\th(\"div\", {class: [\"d-flex\", \"flex-column\", \"p-3\"]}, this.buttons.map(button => h(\"latte-ripple\", {\n\t\t\t\t\tclass: [\"btn\", \"btn-text\", \"btn-pill\", \"btn-primary\"],\n\t\t\t\t\tprops: {as: \"button\"},\n\t\t\t\t\ton: {\n\t\t\t\t\t\tclick: () => this.close(button.id)\n\t\t\t\t\t},\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\"--btn-height\": \"42px\",\n\t\t\t\t\t\tfontSize: \".9em\"\n\t\t\t\t\t}\n\t\t\t\t}, button.label)))\n\t\t\t])\n\t\t]);\n\t},\n\n\tmethods: {\n\n\t\tclose(buttonId)\n\t\t{\n\t\t\traf(() => this.isOpen = false);\n\t\t\traf(() => this.$emit(\"delete-me\"), 300);\n\n\t\t\tthis.resolve(buttonId);\n\t\t},\n\n\t\topen()\n\t\t{\n\t\t\tapplyZ(z => this.z = z);\n\t\t\traf(() => raf(() => this.isOpen = true));\n\t\t}\n\n\t},\n\n\twatch: {\n\n\t\tisOpen()\n\t\t{\n\t\t\tdispatch(\"latte:overlay\", {overlay: this.$el, open: this.isOpen});\n\t\t}\n\n\t}\n\n});\n\nexport function create(icon, message, buttons, options = {})\n{\n\toptions = Object.assign({}, defaultOptions, options);\n\n\treturn new Promise(resolve =>\n\t{\n\t\tconst mount = createElement(\"div\");\n\t\tconst question = new QuestionPanel({\n\t\t\tpropsData: {\n\t\t\t\tbuttons,\n\t\t\t\ticon,\n\t\t\t\tmessage,\n\t\t\t\toptions,\n\t\t\t\tresolve\n\t\t\t}\n\t\t});\n\n\t\tgetMainElement().appendChild(mount);\n\t\tquestion.$mount(mount);\n\n\t\tquestion.open();\n\t\tquestion.$on(\"delete-me\", () =>\n\t\t{\n\t\t\tquestion.$destroy();\n\t\t\tgetMainElement().removeChild(question.$el);\n\t\t});\n\t});\n}\n\nexport default {\n\tcreate\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\nimport { on } from \"../core/action\";\nimport { conditionalRender, createElement, raf } from \"../util/dom\";\nimport { getMainElement } from \"../core\";\nimport { applyZ } from \"../core/z\";\n\nlet isSnackbarOpen = false;\nlet snackbars = [];\n\nexport const Locations = {\n\tBOTTOM: 1,\n\tBOTTOM_LEFT: 2,\n\tBOTTOM_RIGHT: 4,\n\tTOP: 8,\n\tTOP_LEFT: 16,\n\tTOP_RIGHT: 32\n};\n\nconst defaultOptions = {\n\taction: null,\n\tduration: 4000,\n\tlocation: Locations.BOTTOM,\n\tmessage: \"\"\n};\n\nconst defaultActionOptions = {\n\tcolor: \"primary\",\n\tlabel: \"OK\"\n};\n\nconst Snackbar = Vue.extend({\n\n\tprops: {\n\n\t\toptions: {\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\n\t\tresolve: {\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t}\n\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisOpen: false,\n\t\t\ttimer: 0,\n\t\t\tz: 0\n\t\t};\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\"div\", {class: [\"snackbar\", locationToClass(this.options.location), this.isOpen ? \"is-open\" : \"is-not-open\"], style: {zIndex: this.z}}, [\n\t\t\th(\"div\", {class: \"snackbar-body\"}, this.options.message),\n\t\t\tconditionalRender(this.options.action, () => h(\"button\", {\n\t\t\t\tclass: [\"btn\", \"btn-text\", `btn-${this.options.action.color}`],\n\t\t\t\ton: {\n\t\t\t\t\tclick: () => this.close(true)\n\t\t\t\t}\n\t\t\t}, this.options.action.label))\n\t\t]);\n\t},\n\n\tmethods: {\n\n\t\tclose(wasAction = false)\n\t\t{\n\t\t\tthis.isOpen = false;\n\n\t\t\tif (this.timer !== 0)\n\t\t\t\tclearTimeout(this.timer);\n\n\t\t\tthis.resolve(wasAction);\n\t\t\traf(() => this.$emit(\"delete-me\"), 240);\n\t\t},\n\n\t\topen()\n\t\t{\n\t\t\tapplyZ(z => this.z = z);\n\t\t\traf(() => raf(() => this.isOpen = true));\n\n\t\t\tif (this.options.duration > 0)\n\t\t\t\tthis.timer = setTimeout(() => this.close(), this.options.duration);\n\t\t}\n\n\t}\n\n});\n\nexport function create(options = {})\n{\n\toptions = Object.assign({}, defaultOptions, options);\n\n\tif (options.action)\n\t\toptions.action = Object.assign({}, defaultActionOptions, options.action);\n\n\treturn new Promise(resolve =>\n\t{\n\t\tconst mount = createElement(\"div\");\n\t\tconst snackbar = new Snackbar({\n\t\t\tpropsData: {\n\t\t\t\toptions,\n\t\t\t\tresolve\n\t\t\t}\n\t\t});\n\n\t\tsnackbars.push(snackbar);\n\n\t\tgetMainElement().appendChild(mount);\n\t\tsnackbar.$mount(mount);\n\n\t\tonTick();\n\n\t\tsnackbar.$on(\"delete-me\", () =>\n\t\t{\n\t\t\tsnackbar.$destroy();\n\t\t\tgetMainElement().removeChild(snackbar.$el);\n\t\t});\n\t}).then(r =>\n\t{\n\t\tisSnackbarOpen = false;\n\t\tonTick();\n\n\t\treturn r;\n\t});\n}\n\nexport function initializeSnackbars()\n{\n\ton(\"latte:tick\", onTick);\n}\n\nfunction locationToClass(location)\n{\n\tswitch (location)\n\t{\n\t\tcase Locations.BOTTOM:\n\t\t\treturn \"snackbar-bottom\";\n\n\t\tcase Locations.BOTTOM_LEFT:\n\t\t\treturn \"snackbar-bottom-left\";\n\n\t\tcase Locations.BOTTOM_RIGHT:\n\t\t\treturn \"snackbar-bottom-right\";\n\n\t\tcase Locations.TOP:\n\t\t\treturn \"snackbar-top\";\n\n\t\tcase Locations.TOP_LEFT:\n\t\t\treturn \"snackbar-top-left\";\n\n\t\tcase Locations.TOP_RIGHT:\n\t\t\treturn \"snackbar-top-right\";\n\n\n\t}\n}\n\nfunction onTick()\n{\n\tif (isSnackbarOpen || snackbars.length === 0)\n\t\treturn;\n\n\tconst snackbar = snackbars.shift();\n\tsnackbar.open();\n\n\tisSnackbarOpen = true;\n}\n\nexport default {\n\tLocations,\n\tcreate\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Returns TRUE if this is a touch device.\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isTouchDevice()\n{\n\tif ((navigator.maxTouchPoints || navigator.msMaxTouchPoints) > 0)\n\t\treturn true;\n\n\treturn /iPad|iPhone|iPod/.test(navigator.platform);\n}\n\n/**\n * Executes fn only if we're not on a touch device.\n *\n * @param {Function} fn\n *\n * @returns {Function}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function onlyMouse(fn)\n{\n\treturn function ()\n\t{\n\t\tif (isTouchDevice())\n\t\t\treturn undefined;\n\n\t\treturn fn.apply(this, arguments);\n\t};\n}\n\n/**\n * Executes fn only if we're on a touch device.\n *\n * @param {Function} fn\n *\n * @returns {Function}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function onlyTouch(fn)\n{\n\treturn function ()\n\t{\n\t\tif (!isTouchDevice())\n\t\t\treturn undefined;\n\n\t\treturn fn.apply(this, arguments);\n\t};\n}\n\nexport default {\n\tisTouchDevice,\n\tonlyMouse,\n\tonlyTouch\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { createElement, live } from \"../util/dom.js\";\nimport { on } from \"../core/action.js\";\nimport { raf } from \"../util/dom\";\nimport { onlyMouse, onlyTouch } from \"../util/touch\";\n\nlet tooltipContained = true;\nlet tooltipElement = null;\n\nexport function initializeTooltips()\n{\n\ttooltipElement = createElement(\"div\", div =>\n\t{\n\t\tdiv.setAttribute(\"class\", \"tooltip is-hidden\");\n\n\t\tdocument.body.appendChild(div);\n\t});\n\n\tlive(document.body, \"[data-tooltip]\", \"mouseover\", onlyMouse(onTooltipElementHover));\n\tlive(document.body, \"[data-tooltip]\", \"mouseout\", onlyMouse(despawnTooltip));\n\n\tlive(document.body, \"[data-tooltip]\", \"touchstart\", onlyTouch(onTooltipElementHover));\n\tlive(document.body, \"[data-tooltip]\", \"touchend\", onlyTouch(despawnTooltip));\n\n\ton(\"latte:tooltip\", data => spawnTooltip(data));\n\ton(\"latte:tooltip:hide\", () => despawnTooltip());\n}\n\nfunction despawnTooltip()\n{\n\ttooltipElement.classList.add(\"is-hidden\");\n}\n\nfunction spawnTooltip(data)\n{\n\tlet {x, y, content, position = \"vertical\"} = data;\n\n\tif (content === undefined)\n\t\treturn;\n\n\ttooltipElement.innerHTML = \"\";\n\n\tif (content instanceof HTMLElement)\n\t\ttooltipElement.appendChild(content);\n\telse\n\t\ttooltipElement.innerHTML = content;\n\n\ttooltipElement.classList.remove(...tooltipElement.classList.values());\n\ttooltipElement.classList.add(\"tooltip\", ...(data.classes || []));\n\n\tif (position === \"top\" || (position === \"vertical\" && y > window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-top\");\n\n\tif (position === \"left\" || (position === \"horizontal\" && x > window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-left\");\n\n\tif (position === \"right\" || (position === \"horizontal\" && x <= window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-right\");\n\n\tif (position === \"bottom\" || (position === \"vertical\" && y <= window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-bottom\");\n\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-top\");\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-left\");\n\n\traf(() =>\n\t{\n\t\tconst tooltipRect = tooltipElement.getBoundingClientRect();\n\n\t\tlet top = 0;\n\t\tlet left = 0;\n\t\tlet offset = 9;\n\n\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t{\n\t\t\ttop = y - tooltipRect.height - offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x - tooltipRect.width - offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x + offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t{\n\t\t\ttop = y + offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\n\t\tif (data.adjustCoordinates)\n\t\t{\n\t\t\tlet coords = data.adjustCoordinates(left, top, tooltipRect);\n\t\t\ttop = coords.y;\n\t\t\tleft = coords.x;\n\t\t}\n\n\t\tif (tooltipContained)\n\t\t{\n\t\t\tlet adjustment = 0;\n\t\t\tlet offset = 12;\n\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\") || tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t{\n\t\t\t\tif (offset > left)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - left;\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((left + tooltipRect.width + offset) > window.innerWidth)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerWidth - (left + tooltipRect.width + offset);\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-left\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\") || tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t{\n\t\t\t\tif (offset > top)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - top;\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((top + tooltipRect.height + offset) > window.innerHeight)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerHeight - (top + tooltipRect.height + offset);\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-top\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t}\n\n\t\ttooltipElement.style.setProperty(\"transform\", `translate3d(${Math.round(left)}px, ${Math.round(top)}px, 0)`);\n\t});\n}\n\nfunction onTooltipElementHover(el)\n{\n\tconst str = el.dataset.tooltip;\n\tconst classes = el.dataset.tooltipClass || \"tooltip-bottom\";\n\n\tif (str.trim() === \"\")\n\t\treturn;\n\n\tif (el.classList.contains(\"tooltip-disabled\"))\n\t\treturn;\n\n\tconst pos = el.getBoundingClientRect();\n\n\tspawnTooltip({\n\t\tx: pos.left + (pos.width / 2),\n\t\ty: pos.top + (pos.height / 2),\n\t\tclasses: classes.split(\" \"),\n\t\tcontent: str,\n\t\tposition: null,\n\n\t\tadjustCoordinates(x, y)\n\t\t{\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t\t\ty -= pos.height / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t\t\tx -= pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t\tx += pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t\ty += pos.height / 2;\n\n\t\t\treturn {x, y};\n\t\t}\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { initializeForms } from \"./form\";\nimport message from \"./message\";\nimport notice, { initializeNotices } from \"./notice\";\nimport notification, { initializeNotifications } from \"./notification\";\nimport overlay from \"./overlay\";\nimport panel, { initializePanels } from \"./panel\";\nimport question from \"./question\";\nimport snackbar, { initializeSnackbars } from \"./snackbar\";\nimport { initializeTooltips } from \"./tooltip\";\n\nexport function initializeUI()\n{\n\tinitializeForms();\n\tinitializeNotices();\n\tinitializeNotifications();\n\tinitializePanels();\n\tinitializeSnackbars();\n\tinitializeTooltips();\n}\n\nexport default {\n\tmessage,\n\tnotice,\n\tnotification,\n\toverlay,\n\tpanel,\n\tquestion,\n\tsnackbar\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Gets a cookie.\n *\n * @param {String} name\n *\n * @returns {*}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getCookie(name)\n{\n\tname = `${name}=`;\n\n\tconst decoded = decodeURIComponent(document.cookie);\n\tconst cookies = decoded.split(\";\");\n\n\tfor (let i = 0; i < cookies.length; i++)\n\t{\n\t\tlet cookie = cookies[i];\n\n\t\twhile (cookie.charAt(0) === \" \")\n\t\t\tcookie = cookie.substring(1);\n\n\t\tif (cookie.indexOf(name) === 0)\n\t\t\treturn JSON.parse(decodeURIComponent(cookie.substring(name.length)));\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Sets a cookie.\n *\n * @param {String} name\n * @param {*} value\n * @param {Number} days\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function setCookie(name, value, days = 21)\n{\n\tconst date = new Date();\n\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\n\tdocument.cookie = `${name}=${encodeURIComponent(JSON.stringify(value))};expires=${date.toUTCString()};path=/`;\n}\n\nexport default {\n\tgetCookie,\n\tsetCookie\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { currentOptions } from \"../core\";\n\nlet dateFormatterOptions = {\n\tday: \"numeric\",\n\tmonth: \"long\",\n\tweekday: \"long\",\n\tyear: \"numeric\"\n};\n\n/**\n * Formats a datetime.\n *\n * @param {Date} date\n * @param {Object} options\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function formatDateTime(date, options = dateFormatterOptions)\n{\n\tconst f = new Intl.DateTimeFormat(currentOptions.locale, options);\n\n\treturn f.format(date);\n}\n\nexport default {\n\tformatDateTime\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Implodes commas between strings and replaces the last comma with an &.\n *\n * @param {String[]} strs\n *\n * @return {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function commaCommaAnd(strs)\n{\n\treturn strs.join(\", \").replace(/(.*),/, \"$1 &\");\n}\n\n/**\n * Returns TRUE if {@see str} is undefined, NULL or contains only whitespace.\n *\n * @param {String} str\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isNullOrWhitespace(str)\n{\n\tif (typeof str === \"undefined\" || str === null)\n\t\treturn true;\n\n\treturn str.replace(/\\s/g, '').length < 1;\n}\n\nexport default {\n\tcommaCommaAnd,\n\tisNullOrWhitespace\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nimport action from \"./core/action\";\nimport api from \"./core/api\";\nimport core from \"./core\";\nimport i18n from \"./i18n\";\nimport math from \"./math\";\nimport operators from \"./operators\";\nimport ui from \"./ui\";\nimport util from \"./util\"\n\nimport pkg from \"../../package.json\";\n\nexport default {\n\tauthor: pkg.author,\n\tdescription: pkg.description,\n\tname: pkg.name,\n\tversion: pkg.version,\n\n\taction,\n\tapi,\n\tcore,\n\ti18n,\n\tmath,\n\toperators,\n\tui,\n\tutil,\n\n\tvue: Vue\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport clipboard from \"./clipboard\";\nimport cookies from \"./cookies\";\nimport datetime from \"./datetime\";\nimport dom from \"./dom\";\nimport json from \"./json\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport touch from \"./touch\";\n\nexport default {\n\tclipboard,\n\tcookies,\n\tdatetime,\n\tdom,\n\tjson,\n\tobject,\n\tstring,\n\ttouch\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Adds text to the clipboard.\n *\n * @param {String} text\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function copy(text)\n{\n\tnavigator.clipboard.writeText(text)\n\t\t.then(() => console.debug(\"[Clipboard] Text copied to clipboard!\"))\n\t\t.catch(err => console.error(err));\n}\n\n/**\n * Gets text from the clipboard.\n *\n * @returns {Promise<*>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function paste()\n{\n\treturn navigator.clipboard.readText()\n\t\t.catch(err => console.error(err));\n}\n\nexport default {\n\tcopy,\n\tpaste\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n/**\n * Returns TRUE if str is valid json.\n *\n * @param {String} str\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isJson(str)\n{\n\ttry\n\t{\n\t\tJSON.parse(str);\n\n\t\treturn true;\n\t}\n\tcatch (err)\n\t{\n\t\treturn false;\n\t}\n}\n\nexport default {\n\tisJson\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { getLattePath } from \"../util/dom\";\n\nfunction registerCSSPaintWorklets()\n{\n\t// noinspection JSIgnoredPromiseFromCall\n\tCSS.paintWorklet.addModule(getLattePath() + \"worklet/paint/app-bar-cutout.js\");\n\n\t// noinspection JSIgnoredPromiseFromCall\n\tCSS.paintWorklet.addModule(getLattePath() + \"worklet/paint/btn-contained-background.js\");\n}\n\nfunction registerCSSProperties()\n{\n\tCSS.registerProperty({\n\t\tname: \"--app-bar-alpha\",\n\t\tsyntax: \"<number>\",\n\t\tinherits: true,\n\t\tinitialValue: 1\n\t});\n\n\tCSS.registerProperty({\n\t\tname: \"--app-bar-cutout-offset\",\n\t\tsyntax: \"<length-percentage>\",\n\t\tinherits: true,\n\t\tinitialValue: \"50%\"\n\t});\n\n\tCSS.registerProperty({\n\t\tname: \"--btn-contained-hover-state\",\n\t\tsyntax: \"<number>\",\n\t\tinherits: false,\n\t\tinitialValue: 0\n\t});\n}\n\nexport function initializeHoudiniApis()\n{\n\tif (CSS && CSS.paintWorklet)\n\t\tregisterCSSPaintWorklets();\n\n\tif (CSS && CSS.registerProperty)\n\t\tregisterCSSProperties();\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { closest, getCoords } from \"../util/dom\";\n\nclass OutsideEvent\n{\n\n\tconstructor(source)\n\t{\n\t\tthis.listeners = [];\n\t\tthis.source = source;\n\t}\n\n\taddEventListener(type, listener, options = {})\n\t{\n\t\tlistener.id = this.listeners.length;\n\n\t\tthis.listeners.push(listener);\n\n\t\tconst fn = evt =>\n\t\t{\n\t\t\tif (this.isWithinSource(evt))\n\t\t\t\treturn;\n\n\t\t\tlistener.apply(this.source, evt);\n\t\t};\n\n\t\tdocument.addEventListener(type, fn, options);\n\t}\n\n\tclearListeners()\n\t{\n\t\tthis.listeners = [];\n\t}\n\n\tremoveEventListener(type, listener, options = {})\n\t{\n\t\tconst index = this.listeners.findIndex(l => l.id === listener.id);\n\n\t\tif (index === -1)\n\t\t\treturn;\n\n\t\tdocument.removeEventListener(type, this.listeners[index], options);\n\n\t\tthis.listeners.splice(index, 1);\n\t}\n\n\tisWithinSource(evt)\n\t{\n\t\tconst coords = getCoords(evt);\n\n\t\treturn coords !== undefined && closest(document.elementFromPoint(coords.x, coords.y), this.source) !== null;\n\t}\n\n}\n\nexport function registerOutsideEvents()\n{\n\tEventTarget.prototype.addOutsideEventListener = function (type, listener, options = {})\n\t{\n\t\tif (this.outsideEvent === undefined)\n\t\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\t\tthis.outsideEvent.addEventListener(type, listener, options);\n\t};\n\n\tEventTarget.prototype.clearOutsideEventListeners = function ()\n\t{\n\t\tif (this.outsideEvent === undefined)\n\t\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\t\tthis.outsideEvent.clearListeners();\n\t};\n\n\tEventTarget.prototype.removeOutsideEventListener = function (type, listener, options = {})\n\t{\n\t\tif (this.outsideEvent === undefined)\n\t\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\t\tthis.outsideEvent.removeEventListener(type, listener, options);\n\t};\n}\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-autocomplete\">\n\t\t<div class=\"form-control\" :disabled=\"disabled\">\n\n\t\t\t<template v-for=\"selection in values\">\n\n\t\t\t\t<slot name=\"selection\" v-bind=\"selection\">\n\n\t\t\t\t\t<span class=\"badge badge-primary\">\n\t\t\t\t\t\t<span>{{ selection.label }}</span>\n\t\t\t\t\t\t<button class=\"btn\" @click=\"selection.remove()\"><i class=\"mdi mdi-window-close\"></i></button>\n\t\t\t\t\t</span>\n\n\t\t\t\t</slot>\n\n\t\t\t</template>\n\n\t\t\t<input type=\"search\" :name=\"name\" class=\"form-control\" ref=\"field\" :placeholder=\"placeholder\" autocomplete=\"false\" @focus=\"onFocus\" v-model=\"searchTerm\" @keydown.delete=\"onKeyPressDelete\" @keydown.enter=\"onSelectSuggestion\" @keydown.tab=\"onSelectFirstSuggestion\" @keydown.down=\"onKeyPressDown\" @keydown.up=\"onKeyPressUp\" v-if=\"canSearch\"/>\n\n\t\t</div>\n\t\t<div class=\"popup\" :class=\"{'is-open': shouldOpenSuggestions}\" role=\"combobox\">\n\t\t\t<div class=\"popup-body\">\n\t\t\t\t<nav class=\"nav nav-list\">\n\n\t\t\t\t\t<template v-for=\"(suggestion, index) in suggestionsFiltered\">\n\n\t\t\t\t\t\t<a class=\"nav-link\" :class=\"{'is-hover': currentSuggestion === index}\" @pointermove.passive=\"currentSuggestion = index\" @click=\"onSelectSuggestion\" role=\"option\">\n\n\t\t\t\t\t\t\t<slot name=\"suggestion\" v-bind=\"suggestion\">\n\n\t\t\t\t\t\t\t\t<div class=\"flex-grow-1\" v-if=\"suggestion.sub_label\">\n\t\t\t\t\t\t\t\t\t<span>{{ suggestion.label }}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-soft\">{{ suggestion.sub_label }}</span>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<span v-else>{{ suggestion.label }}</span>\n\n\t\t\t\t\t\t\t\t<i class=\"mdi mdi-chevron-right\"></i>\n\n\t\t\t\t\t\t\t</slot>\n\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t</template>\n\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t</div>\n\t\t<span class=\"spinner spinner-primary\" v-if=\"isLoading\"></span>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { id, request } from \"../../js/core/api\";\n\n\tfunction areArraysEqual(a, b)\n\t{\n\t\tif (a.length !== b.length)\n\t\t\treturn false;\n\n\t\tfor (let i = 0; i < a.length; i++)\n\t\t\tif (a[i] !== b[i])\n\t\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n\texport default {\n\n\t\tname: \"latte-autocomplete\",\n\n\t\tprops: {\n\n\t\t\tdefaultValue: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false\n\t\t\t},\n\n\t\t\tdisabled: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlimit: {\n\t\t\t\tdefault: 5,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmultiSelect: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\toffset: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"Search...\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => [],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array | Number\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis.$el.removeOutsideEventListener(\"click\", this.onBlur);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tabortController: null,\n\t\t\t\tcanEmit: true,\n\t\t\t\tcanOpen: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tcurrentSuggestion: -1,\n\t\t\t\tsearchTerm: \"\",\n\t\t\t\tsuggestions: [],\n\t\t\t\tvalueLast: [],\n\t\t\t\tvalues: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$el.addOutsideEventListener(\"click\", this.onBlur);\n\t\t\tthis.onValueChanged();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcanSearch()\n\t\t\t{\n\t\t\t\treturn this.multiSelect || this.values.length === 0;\n\t\t\t},\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\treturn this.canOpen && this.suggestionsFiltered.length > 0;\n\t\t\t},\n\n\t\t\tsuggestionsFiltered()\n\t\t\t{\n\t\t\t\treturn this.suggestions.filter(s => this.values.filter(v => v.label === s.label && v.value === s.value).length === 0);\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\taddValue(label, value)\n\t\t\t{\n\t\t\t\tif (label === undefined || value === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.values.filter(v => v.value === value && v.label === label).length > 0)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst remove = () => this.removeValue(value);\n\n\t\t\t\tthis.values.push({label, remove, value});\n\t\t\t},\n\n\t\t\tremoveValue(value)\n\t\t\t{\n\t\t\t\tthis.values = this.values.filter(v => v.value !== value);\n\t\t\t},\n\n\t\t\tonBlur()\n\t\t\t{\n\t\t\t\tthis.canOpen = false;\n\t\t\t},\n\n\t\t\tonFocus()\n\t\t\t{\n\t\t\t\tthis.suggestions = [];\n\t\t\t\tthis.canOpen = true;\n\t\t\t},\n\n\t\t\tonSelectSuggestion()\n\t\t\t{\n\t\t\t\tif (!this.suggestionsFiltered[this.currentSuggestion])\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {label, value} = this.suggestionsFiltered[this.currentSuggestion];\n\n\t\t\t\tthis.addValue(label, value);\n\t\t\t\tthis.canOpen = false;\n\t\t\t\tthis.searchTerm = \"\";\n\t\t\t},\n\n\t\t\tonSelectFirstSuggestion(evt)\n\t\t\t{\n\t\t\t\tif (this.suggestions.length === 0 || !this.shouldOpenSuggestions)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.currentSuggestion === -1)\n\t\t\t\t\tthis.onKeyPressDown();\n\n\t\t\t\tthis.onSelectSuggestion();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\t\t\t},\n\n\t\t\tonKeyPressDelete()\n\t\t\t{\n\t\t\t\tif (this.searchTerm !== \"\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.values.pop();\n\t\t\t},\n\n\t\t\tonKeyPressDown()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion + 1 >= this.suggestions.length)\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion++;\n\t\t\t},\n\n\t\t\tonKeyPressUp()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion - 1 < -1)\n\t\t\t\t\tthis.currentSuggestion = this.suggestions.length - 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion--;\n\t\t\t},\n\n\t\t\tonReceiveSuggestions(response)\n\t\t\t{\n\t\t\t\tthis.abortController = null;\n\t\t\t\tthis.canOpen = true;\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\tthis.suggestions = response.data;\n\t\t\t},\n\n\t\t\tonReceiveValues(response)\n\t\t\t{\n\t\t\t\tresponse.data.forEach(v => this.addValue(v.label, v.value));\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t},\n\n\t\t\tonSearchTermChanged()\n\t\t\t{\n\t\t\t\tif (this.searchTerm.trim() === \"\")\n\t\t\t\t{\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\t\tthis.canOpen = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.abortController !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\tthis.abortController = null;\n\t\t\t\t}\n\n\t\t\t\tthis.abortController = new AbortController();\n\n\t\t\t\trequest(`${this.url}?q=${encodeURIComponent(this.searchTerm.toLowerCase())}`, {cache: \"no-cache\", signal: this.signal})\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveSuggestions(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\t\t\t},\n\n\t\t\tonValueChanged()\n\t\t\t{\n\t\t\t\tlet value = this.multiSelect ? this.value : [this.value];\n\t\t\t\tvalue = value.filter ? value.filter(v => v > 0) : value;\n\n\t\t\t\tif (value.length === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.values = [];\n\t\t\t\t\tthis.valueLast = [];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (areArraysEqual(value, this.valueLast))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.isLoading)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\trequest(`${this.url}?ids=${value.join(\",\")}`)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveValues(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\n\t\t\t\tthis.valueLast = value;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t},\n\n\t\t\tsearchTerm()\n\t\t\t{\n\t\t\t\tthis.onSearchTermChanged();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.canEmit = false;\n\t\t\t\tthis.onValueChanged();\n\t\t\t},\n\n\t\t\tvalues()\n\t\t\t{\n\t\t\t\tif (this.canEmit === false)\n\t\t\t\t\treturn this.canEmit = true;\n\n\t\t\t\tlet values = this.values.map(v => v.value);\n\t\t\t\tthis.$emit(\"input\", (this.multiSelect ? values : values[0]) || this.defaultValue);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","'use strict';\n\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nfunction createInjector(context) {\n  return function (id, style) {\n    return addStyle(id, style);\n  };\n}\nvar HEAD = document.head || document.getElementsByTagName('head')[0];\nvar styles = {};\n\nfunction addStyle(id, css) {\n  var group = isOldIE ? css.media || 'default' : id;\n  var style = styles[group] || (styles[group] = {\n    ids: new Set(),\n    styles: []\n  });\n\n  if (!style.ids.has(id)) {\n    style.ids.add(id);\n    var code = css.source;\n\n    if (css.map) {\n      // https://developer.chrome.com/devtools/docs/javascript-debugging\n      // this makes source maps inside style tags work properly in Chrome\n      code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n      code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n    }\n\n    if (!style.element) {\n      style.element = document.createElement('style');\n      style.element.type = 'text/css';\n      if (css.media) style.element.setAttribute('media', css.media);\n      HEAD.appendChild(style.element);\n    }\n\n    if ('styleSheet' in style.element) {\n      style.styles.push(code);\n      style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n    } else {\n      var index = style.ids.size - 1;\n      var textNode = document.createTextNode(code);\n      var nodes = style.element.childNodes;\n      if (nodes[index]) style.element.removeChild(nodes[index]);\n      if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n    }\n  }\n}\n\nmodule.exports = createInjector;\n//# sourceMappingURL=browser.js.map\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-draggable\",\n\n\t\tprops: {\n\n\t\t\toptions: Object,\n\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tnoTransitionOnDrag: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\n\t\t\tclone: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: function (original)\n\t\t\t\t{\n\t\t\t\t\treturn original;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\telement: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'div'\n\t\t\t},\n\n\t\t\tmove: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: null\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis._sortable.destroy();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcomponentMode: false,\n\t\t\t\ttransitionMode: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.componentMode = this.element.toLowerCase() !== this.$el.nodeName.toLowerCase();\n\n\t\t\tif (this.componentMode && this.transitionMode)\n\t\t\t\tthrow new Error('Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: ' + this.element);\n\n\t\t\tlet optionsAdded = {};\n\n\t\t\teventsListened.forEach(elt => optionsAdded['on' + elt] = delegateAndEmit.call(this, elt));\n\t\t\teventsToEmit.forEach(elt => optionsAdded['on' + elt] = emit.bind(this, elt));\n\n\t\t\tlet options = _extends({}, this.options, optionsAdded, {onMove: (event, originalEvent) => this.onDragMove(event, originalEvent)});\n\n\t\t\t!('draggable' in options) && (options.draggable = '>*');\n\n\t\t\tthis._sortable = new Sortable(this.rootContainer, options);\n\t\t\tthis.computeIndexes();\n\t\t},\n\n\t\trender(createElement)\n\t\t{\n\t\t\tlet slots = this.$slots.default;\n\n\t\t\tif (slots && slots.length === 1)\n\t\t\t{\n\t\t\t\tlet child = slots[0];\n\n\t\t\t\tif (child.componentOptions && child.componentOptions.tag === 'transition-group')\n\t\t\t\t\tthis.transitionMode = true;\n\t\t\t}\n\n\t\t\tlet children = slots;\n\t\t\tlet footer = this.$slots.footer;\n\n\t\t\tif (footer)\n\t\t\t\tchildren = slots ? [].concat(_toConsumableArray(slots), _toConsumableArray(footer)) : [].concat(_toConsumableArray(footer));\n\n\t\t\treturn createElement(this.element, null, children);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\trootContainer()\n\t\t\t{\n\t\t\t\treturn this.transitionMode ? this.$el.children[0] : this.$el;\n\t\t\t},\n\n\t\t\tisCloning()\n\t\t\t{\n\t\t\t\treturn this.options && this.options.group && this.options.group.pull === 'clone';\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\treturn this.list ? this.list : this.value;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tgetChildrenNodes()\n\t\t\t{\n\t\t\t\tif (this.componentMode)\n\t\t\t\t\treturn this.$children[0].$slots.default;\n\n\t\t\t\tlet rawNodes = this.$slots.default;\n\n\t\t\t\treturn this.transitionMode ? rawNodes[0].child.$slots.default : rawNodes;\n\t\t\t},\n\n\t\t\tcomputeIndexes()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.visibleIndexes = computeIndexes(this.getChildrenNodes(), this.rootContainer.children, this.transitionMode));\n\t\t\t},\n\n\t\t\tgetUnderlyingVm(htmlElement)\n\t\t\t{\n\t\t\t\tlet index = computeVmIndex(this.getChildrenNodes() || [], htmlElement);\n\n\t\t\t\tif (index === -1)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn {index: index, element: this.realList[index]};\n\t\t\t},\n\n\t\t\tgetUnderlyingPotencialDraggableComponent(reference)\n\t\t\t{\n\t\t\t\tconst vue = reference.__vue__;\n\n\t\t\t\tif (!vue || !vue.$options || vue.$options._componentTag !== 'transition-group')\n\t\t\t\t\treturn vue;\n\n\t\t\t\treturn vue.$parent;\n\t\t\t},\n\n\t\t\temitChanges(event)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.$emit('change', event));\n\t\t\t},\n\n\t\t\talterList(onList)\n\t\t\t{\n\t\t\t\tif (this.list)\n\t\t\t\t{\n\t\t\t\t\tonList(this.list);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet newList = [].concat(_toConsumableArray(this.value));\n\t\t\t\t\tonList(newList);\n\t\t\t\t\tthis.$emit('input', newList);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspliceList()\n\t\t\t{\n\t\t\t\tlet _arguments = arguments;\n\t\t\t\tthis.alterList(list => list.splice.apply(list, _arguments));\n\t\t\t},\n\n\t\t\tupdatePosition(oldIndex, newIndex)\n\t\t\t{\n\t\t\t\tthis.alterList(list => list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]));\n\t\t\t},\n\n\t\t\tgetRelatedContextFromMoveElement(reference)\n\t\t\t{\n\t\t\t\tlet to = reference.to,\n\t\t\t\t\trelated = reference.related;\n\n\t\t\t\tlet component = this.getUnderlyingPotencialDraggableComponent(reference);\n\n\t\t\t\tif (!component)\n\t\t\t\t\treturn {component: component};\n\n\t\t\t\tlet list = component.realList;\n\t\t\t\tlet context = {list: list, component: component};\n\n\t\t\t\tif (to !== related && list && component.getUnderlyingVm)\n\t\t\t\t{\n\t\t\t\t\tlet destination = component.getUnderlyingVm(related);\n\n\t\t\t\t\tif (destination)\n\t\t\t\t\t\treturn _extends(destination, context);\n\t\t\t\t}\n\n\t\t\t\treturn context;\n\t\t\t},\n\n\t\t\tgetVmIndex(domIndex)\n\t\t\t{\n\t\t\t\tlet indexes = this.visibleIndexes;\n\t\t\t\tlet numberIndexes = indexes.length;\n\n\t\t\t\treturn domIndex > numberIndexes - 1 ? numberIndexes : indexes[domIndex];\n\t\t\t},\n\n\t\t\tgetComponent()\n\t\t\t{\n\t\t\t\treturn this.$slots.default[0].componentInstance;\n\t\t\t},\n\n\t\t\tresetTransitionData(index)\n\t\t\t{\n\t\t\t\tif (!this.noTransitionOnDrag || !this.transitionMode)\n\t\t\t\t\treturn;\n\n\t\t\t\tlet nodes = this.getChildrenNodes();\n\t\t\t\tnodes[index].data = null;\n\n\t\t\t\tlet transitionContainer = this.getComponent();\n\t\t\t\ttransitionContainer.children = [];\n\t\t\t\ttransitionContainer.kept = undefined;\n\t\t\t},\n\n\t\t\tonDragStart(event)\n\t\t\t{\n\t\t\t\tthis.context = this.getUnderlyingVm(event.item);\n\t\t\t\tevent.item._underlying_vm_ = this.clone(this.context.element);\n\t\t\t\tdraggingElement = event.item;\n\n\t\t\t\tthis.$el.classList.add('is-dragging');\n\t\t\t},\n\n\t\t\tonDragAdd(event)\n\t\t\t{\n\t\t\t\tlet element = event.item._underlying_vm_;\n\n\t\t\t\tif (element === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tremoveNode(event.item);\n\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\t\t\t\tthis.spliceList(newIndex, 0, element);\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tthis.emitChanges({added: {element: element, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tonDragRemove(event)\n\t\t\t{\n\t\t\t\tinsertNodeAt(this.rootContainer, event.item, event.oldIndex);\n\n\t\t\t\tif (this.isCloning)\n\t\t\t\t{\n\t\t\t\t\tremoveNode(event.clone);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tthis.spliceList(oldIndex, 1);\n\t\t\t\tthis.resetTransitionData(oldIndex);\n\t\t\t\tthis.emitChanges({removed: {element: this.context.element, oldIndex: oldIndex}});\n\t\t\t},\n\n\t\t\tonDragUpdate(event)\n\t\t\t{\n\t\t\t\tremoveNode(event.item);\n\t\t\t\tinsertNodeAt(event.from, event.item, event.oldIndex);\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\n\t\t\t\tthis.updatePosition(oldIndex, newIndex);\n\t\t\t\tthis.emitChanges({moved: {element: this.context.element, oldIndex: oldIndex, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tcomputeFutureIndex(relatedContext, event)\n\t\t\t{\n\t\t\t\tif (!relatedContext.element)\n\t\t\t\t\treturn 0;\n\n\t\t\t\tlet domChildren = [].concat(_toConsumableArray(event.to.children)).filter(el => el.style.display !== 'none');\n\t\t\t\tlet currentDomIndex = domChildren.indexOf(event.related);\n\t\t\t\tlet currentIndex = relatedContext.component.getVmIndex(currentDomIndex);\n\t\t\t\tlet draggedInList = domChildren.indexOf(draggingElement) !== -1;\n\n\t\t\t\treturn draggedInList || !event.willInsertAfter ? currentIndex : currentIndex + 1;\n\t\t\t},\n\n\t\t\tonDragMove(event, originalEvent)\n\t\t\t{\n\t\t\t\tlet onMove = this.move;\n\n\t\t\t\tif (!onMove || !this.realList)\n\t\t\t\t\treturn true;\n\n\t\t\t\tlet relatedContext = this.getRelatedContextFromMoveElement(event);\n\t\t\t\tlet draggedContext = this.context;\n\t\t\t\tlet futureIndex = this.computeFutureIndex(relatedContext, event);\n\n\t\t\t\t_extends(draggedContext, {futureIndex: futureIndex});\n\t\t\t\t_extends(event, {relatedContext: relatedContext, draggedContext: draggedContext});\n\n\t\t\t\treturn onMove(event, originalEvent);\n\t\t\t},\n\n\t\t\tonDragEnd()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tdraggingElement = null;\n\n\t\t\t\tthis.$el.classList.remove('is-dragging');\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\toptions: {\n\n\t\t\t\tdeep: true,\n\t\t\t\thandler(newOptionValue)\n\t\t\t\t{\n\t\t\t\t\tfor (let property in newOptionValue)\n\t\t\t\t\t\tif (newOptionValue.hasOwnProperty(property))\n\t\t\t\t\t\t\tif (readonlyProperties.indexOf(property) === -1)\n\t\t\t\t\t\t\t\tthis._sortable.option(property, newOptionValue[property]);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst eventsListened = ['Start', 'Add', 'Remove', 'Update', 'End'];\n\tconst eventsToEmit = ['Choose', 'Sort', 'Filter', 'Clone'];\n\tconst readonlyProperties = ['Move'].concat(eventsListened, eventsToEmit).map(event => 'on' + event);\n\n\tlet draggingElement = null;\n\n\tconst _extends = Object.assign || function (target)\n\t{\n\t\tfor (let i = 1; i < arguments.length; i++)\n\t\t{\n\t\t\tlet source = arguments[i];\n\n\t\t\tfor (let key in source)\n\t\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\t\ttarget[key] = source[key];\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tconst _toConsumableArray = function (arr)\n\t{\n\t\tif (Array.isArray(arr))\n\t\t{\n\t\t\tlet arr2 = Array(arr.length);\n\n\t\t\tfor (let i = 0; i < arr.length; i++)\n\t\t\t\tarr2[i] = arr[i];\n\n\t\t\treturn arr2;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Array.from(arr);\n\t\t}\n\t};\n\n\tArray.from = Array.from || function (object)\n\t{\n\t\treturn [].slice.call(object);\n\t};\n\n\tfunction removeNode(node)\n\t{\n\t\tnode.parentElement.removeChild(node);\n\t}\n\n\tfunction insertNodeAt(parentNode, node, position)\n\t{\n\t\tlet refNode = position === 0 ? parentNode.children[0] : parentNode.children[position - 1].nextSibling;\n\t\tparentNode.insertBefore(node, refNode);\n\t}\n\n\tfunction computeVmIndex(vnodes, element)\n\t{\n\t\treturn vnodes.map(elt => elt.elm).indexOf(element);\n\t}\n\n\tfunction computeIndexes(slots, children, isTransition)\n\t{\n\t\tif (!slots)\n\t\t\treturn [];\n\n\t\tlet elmFromNodes = slots.map(elt => elt.elm);\n\t\tlet rawIndexes = [].concat(_toConsumableArray(children)).map(elt => elmFromNodes.indexOf(elt));\n\n\t\treturn isTransition ? rawIndexes.filter(ind => ind !== -1) : rawIndexes;\n\t}\n\n\tfunction emit(eventName, eventData)\n\t{\n\t\tthis.$nextTick(() => this.$emit(eventName.toLowerCase(), eventData));\n\t}\n\n\tfunction delegateAndEmit(eventName)\n\t{\n\t\tlet that = this;\n\n\t\treturn eventData =>\n\t\t{\n\t\t\tif (that.realList !== null)\n\t\t\t\tthat['onDrag' + eventName](eventData);\n\n\t\t\temit.call(that, eventName, eventData);\n\t\t};\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nexport const eventBus = new Vue({});\n\nexport function bottom(layout)\n{\n\tlet max = 0, bottomY;\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tbottomY = layout[i].y + layout[i].height;\n\n\t\tif (bottomY > max)\n\t\t\tmax = bottomY;\n\t}\n\n\treturn max;\n}\n\nexport function collides(item1, item2)\n{\n\tif (item1 === item2)\n\t\treturn false;\n\n\tif (item1.x + item1.width <= item2.x)\n\t\treturn false;\n\n\tif (item1.x >= item2.x + item2.width)\n\t\treturn false;\n\n\tif (item1.y + item1.height <= item2.y)\n\t\treturn false;\n\n\tif (item1.y >= item2.y + item2.height)\n\t\treturn false;\n\n\t// Yay!\n\n\treturn true;\n}\n\nexport function compact(layout, verticalCompact)\n{\n\tconst compareWith = getStatics(layout);\n\tconst sorted = sortLayoutItemsByRowCol(layout);\n\tconst out = Array(layout.length);\n\n\tfor (let i = 0, len = sorted.length; i < len; i++)\n\t{\n\t\tlet item = sorted[i];\n\n\t\tif (!item.static)\n\t\t{\n\t\t\titem = compactItem(compareWith, item, verticalCompact);\n\n\t\t\tcompareWith.push(item);\n\t\t}\n\n\t\tout[layout.indexOf(item)] = item;\n\n\t\titem.moved = false;\n\t}\n\n\treturn out;\n}\n\nexport function compactItem(compareWith, item, verticalCompact)\n{\n\tif (verticalCompact)\n\t\twhile (item.y > 0 && !getFirstCollision(compareWith, item))\n\t\t\titem.y--;\n\n\tlet collides;\n\n\twhile ((collides = getFirstCollision(compareWith, item)))\n\t\titem.y = collides.y + collides.height;\n\n\treturn item;\n}\n\nexport function createCoreData(lastX, lastY, x, y)\n{\n\tconst isStart = !isNum(lastX);\n\n\tif (isStart)\n\t{\n\t\treturn {\n\t\t\tdeltaX: 0, deltaY: 0,\n\t\t\tlastX: x, lastY: y,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n\telse\n\t{\n\t\treturn {\n\t\t\tdeltaX: x - lastX, deltaY: y - lastY,\n\t\t\tlastX: lastX, lastY: lastY,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n}\n\nexport function getAllCollisions(layout, layoutItem)\n{\n\treturn layout.filter((l) => collides(l, layoutItem));\n}\n\nexport function getControlPosition(evt)\n{\n\treturn offsetXYFromParentOf(evt);\n}\n\nexport function getFirstCollision(layout, layoutItem)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (collides(layout[i], layoutItem))\n\t\t\treturn layout[i];\n}\n\nexport function getLayoutItem(layout, id)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (layout[i].i === id)\n\t\t\treturn layout[i];\n}\n\nexport function getStatics(layout)\n{\n\treturn layout.filter((l) => l.static);\n}\n\nexport function isNum(num)\n{\n\treturn typeof num === \"number\" && !isNaN(num);\n}\n\nexport function moveElement(layout, item, x, y, isUserAction)\n{\n\tif (item.static)\n\t\treturn layout;\n\n\tif (item.y === y && item.x === x) return layout;\n\n\tconst movingUp = y && item.y > y;\n\n\tif (typeof x === \"number\")\n\t\titem.x = x;\n\n\tif (typeof y === \"number\")\n\t\titem.y = y;\n\n\titem.moved = true;\n\n\tlet sorted = sortLayoutItemsByRowCol(layout);\n\n\tif (movingUp)\n\t\tsorted = sorted.reverse();\n\n\tconst collisions = getAllCollisions(sorted, item);\n\n\tfor (let i = 0, len = collisions.length; i < len; i++)\n\t{\n\t\tconst collision = collisions[i];\n\n\t\tif (collision.moved)\n\t\t\tcontinue;\n\n\n\t\tif (item.y > collision.y && item.y - collision.y > collision.height / 4)\n\t\t\tcontinue;\n\n\t\tif (collision.static)\n\t\t\tlayout = moveElementAwayFromCollision(layout, collision, item, isUserAction);\n\t\telse\n\t\t\tlayout = moveElementAwayFromCollision(layout, item, collision, isUserAction);\n\t}\n\n\treturn layout;\n}\n\nexport function moveElementAwayFromCollision(layout, collidesWith, itemToMove, isUserAction)\n{\n\tif (isUserAction)\n\t{\n\t\tconst fakeItem = {\n\t\t\tx: itemToMove.x,\n\t\t\ty: itemToMove.y,\n\t\t\twidth: itemToMove.width,\n\t\t\theight: itemToMove.height,\n\t\t\tid: \"__fake__\"\n\t\t};\n\n\t\tfakeItem.y = Math.max(collidesWith.y - itemToMove.height, 0);\n\n\t\tif (!getFirstCollision(layout, fakeItem))\n\t\t\treturn moveElement(layout, itemToMove, undefined, fakeItem.y);\n\t}\n\n\treturn moveElement(layout, itemToMove, undefined, itemToMove.y + 1);\n}\n\nexport function offsetXYFromParentOf(evt)\n{\n\tconst offsetParent = evt.target.offsetParent || document.body;\n\tconst offsetParentRect = evt.offsetParent === document.body ? {left: 0, top: 0} : offsetParent.getBoundingClientRect();\n\n\tconst x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\tconst y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top;\n\n\treturn {x, y};\n}\n\nexport function setTransform(top, left, width, height)\n{\n\tconst translate = `translate3d(${left}px,${top}px, 0)`;\n\n\treturn {\n\t\ttransform: translate,\n\t\tWebkitTransform: translate,\n\t\tMozTransform: translate,\n\t\tmsTransform: translate,\n\t\tOTransform: translate,\n\t\twidth: width + \"px\",\n\t\theight: height + \"px\",\n\t\tposition: \"absolute\"\n\t};\n}\n\nexport function sortLayoutItemsByRowCol(layout)\n{\n\treturn [].concat(layout).sort((a, b) => (a.y > b.y || (a.y === b.y && a.x > b.x)) ? 1 : -1);\n}\n\nexport function validateLayout(layout, contextName = \"Layout\")\n{\n\tconst subProps = [\"x\", \"y\", \"width\", \"height\"];\n\n\tif (!Array.isArray(layout))\n\t\tthrow new Error(`${contextName} must be an array!`);\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tconst item = layout[i];\n\n\t\tfor (let j = 0; j < subProps.length; j++)\n\t\t\tif (typeof item[subProps[j]] !== \"number\")\n\t\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].${subProps[j]} must be a number!`);\n\n\t\tif (item.i && typeof item.i !== \"string\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].i must be a string!`);\n\n\t\tif (item.static !== undefined && typeof item.static !== \"boolean\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].static must be a boolean!`);\n\t}\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div ref=\"grid\" class=\"latte-grid\" :class=\"{'is-dragging': is_dragging}\" :style=\"styles\" role=\"grid\">\n\t\t<slot></slot>\n\t\t<latte-grid-item class=\"latte-grid-placeholder\" v-show=\"isDragging\" :x=\"placeholder.x\" :y=\"placeholder.y\" :height=\"placeholder.height\" :width=\"placeholder.width\" id=\"__placeholder__\"></latte-grid-item>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { eventBus, bottom, compact, getLayoutItem, moveElement, validateLayout } from \"../../js/ui/grid\";\n\n\texport default {\n\n\t\tname: \"latte-grid\",\n\n\t\tprops: {\n\n\t\t\tautoSize: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tcolumns: {\n\t\t\t\tdefault: 12,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\trowHeight: {\n\t\t\t\tdefault: 100,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmaxRows: {\n\t\t\t\tdefault: Infinity,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmargin: {\n\t\t\t\tdefault: () => [24, 24],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array\n\t\t\t},\n\n\t\t\tisDraggable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tisResizable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tverticalCompact: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlayout: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Array\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\teventBus.$off(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$off(\"resizeEvent\", this.resizeEventHandler);\n\n\t\t\twindow.removeEventListener(\"resize\", this.onWindowResize);\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.dragEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.dragEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\tthis.resizeEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.resizeEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\teventBus.$on(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$on(\"resizeEvent\", this.resizeEventHandler);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: null,\n\t\t\t\tmergedStyle: {},\n\t\t\t\tlastLayoutLength: 0,\n\t\t\t\tisDragging: false,\n\t\t\t\tplaceholder: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\twidth: 0\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.$nextTick(() =>\n\t\t\t{\n\t\t\t\tvalidateLayout(this.layout);\n\n\t\t\t\tconst init = () =>\n\t\t\t\t{\n\t\t\t\t\tif (this.width === null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.onWindowResize();\n\n\t\t\t\t\t\twindow.addEventListener(\"resize\", this.onWindowResize);\n\t\t\t\t\t}\n\n\t\t\t\t\tcompact(this.layout, this.verticalCompact);\n\n\t\t\t\t\tthis.updateHeight();\n\n\t\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\telementResizeDetectorMaker({strategy: \"scroll\"}).listenTo(this.$refs.grid, function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$this.onWindowResize();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tthis.$nextTick(() => init());\n\n\t\t\t\twindow.onload = init.bind(this);\n\t\t\t});\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tis_dragging()\n\t\t\t{\n\t\t\t\treturn this.isDragging;\n\t\t\t},\n\n\t\t\tstyles()\n\t\t\t{\n\t\t\t\treturn this.mergedStyle\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcontainerHeight()\n\t\t\t{\n\t\t\t\tif (!this.autoSize)\n\t\t\t\t\treturn;\n\n\t\t\t\treturn `${bottom(this.layout) * (this.rowHeight + this.margin[1]) + this.margin[1]}px`;\n\t\t\t},\n\n\t\t\tdragEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"dragmove\" || eventType === \"dragstart\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {x: 0, y: 0};\n\n\t\t\t\titem.x = x;\n\t\t\t\titem.y = y;\n\n\t\t\t\tthis.layout = moveElement(this.layout, item, x, y, true);\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"dragend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tlayoutUpdate()\n\t\t\t{\n\t\t\t\tif (typeof this.layout === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.layout.length !== this.lastLayoutLength)\n\t\t\t\t\tthis.lastLayoutLength = this.layout.length;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\tthis.updateHeight();\n\t\t\t},\n\n\t\t\tonWindowResize()\n\t\t\t{\n\t\t\t\tif (typeof this.$refs.grid === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.width = this.$refs.grid.offsetWidth;\n\t\t\t},\n\n\t\t\tresizeEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"resizestart\" || eventType === \"resizemove\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {height: 0, width: 0};\n\n\t\t\t\titem.height = height;\n\t\t\t\titem.width = width;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"resizeend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tupdateHeight()\n\t\t\t{\n\t\t\t\tthis.mergedStyle = {\n\t\t\t\t\theight: this.containerHeight()\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcolumns()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setColumns\", this.columns);\n\t\t\t},\n\n\t\t\tisDraggable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setDraggable\", this.isDraggable);\n\t\t\t},\n\n\t\t\tisResizable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setResizable\", this.isResizable);\n\t\t\t},\n\n\t\t\tlayout()\n\t\t\t{\n\t\t\t\tthis.layoutUpdate();\n\t\t\t},\n\n\t\t\trowHeight()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setRowHeight\", this.rowHeight);\n\t\t\t},\n\n\t\t\twidth()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t{\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t\tthis.updateHeight();\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel pdf-viewer\" role=\"presentation\" style=\"min-height: 84px\" :class=\"{'is-loading': isLoading}\" v-if=\"hasSupport\">\n\t\t<div class=\"page\" v-for=\"i in pages\" :id=\"'page-' + i\">\n\t\t\t<canvas></canvas>\n\t\t</div>\n\n\t\t<span class=\"spinner\"></span>\n\t</div>\n\n\t<div class=\"panel\" v-else>\n\t\t<div class=\"panel-body text-center\">\n\t\t\tPlease include PDF.js in your project.\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\twindow.pdfjsLib = window.pdfjsLib || undefined;\n\n\texport default {\n\n\t\tname: \"latte-pdf-viewer\",\n\n\t\tprops: {\n\n\t\t\tsource: {\n\t\t\t\ttype: String,\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisLoading: false,\n\t\t\t\tpages: 0,\n\t\t\t\tpdf: null,\n\t\t\t\trendered: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.load();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thasSupport()\n\t\t\t{\n\t\t\t\treturn pdfjsLib !== undefined;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tload()\n\t\t\t{\n\t\t\t\tif (!this.hasSupport)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.rendered = 0;\n\n\t\t\t\tpdfjsLib.getDocument(this.source).then(pdf => this.onPDFLoaded(pdf));\n\t\t\t},\n\n\t\t\tonPDFLoaded(pdf)\n\t\t\t{\n\t\t\t\tthis.pdf = pdf;\n\t\t\t\tthis.pages = this.pdf.numPages;\n\n\t\t\t\tthis.$nextTick(() => this.onPDFLoadedSecondTask());\n\t\t\t},\n\n\t\t\tonPDFLoadedSecondTask()\n\t\t\t{\n\t\t\t\tfor (let i = 1; i <= this.pages; i++)\n\t\t\t\t{\n\t\t\t\t\tlet pageElement = this.$el.querySelector(`div.page#page-${i}`);\n\n\t\t\t\t\tif (typeof pageElement === \"undefined\")\n\t\t\t\t\t\tthrow new Error(\"Page Element not found!\");\n\n\t\t\t\t\tlet pageCanvas = pageElement.querySelector(\"canvas\");\n\n\t\t\t\t\tthis.pdf.getPage(i).then(this.onPDFPageReady.bind(this, pageElement, pageCanvas));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonPDFPageReady(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tthis.renderPage(pageElement, pageCanvas, page)\n\t\t\t},\n\n\t\t\trenderPage(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tlet desiredWidth = pageElement.getBoundingClientRect().width;\n\t\t\t\tlet viewport = page.getViewport(1);\n\t\t\t\tlet viewScale = 1;\n\t\t\t\tlet scale = desiredWidth / viewport.width;\n\t\t\t\tviewport = page.getViewport(scale * viewScale);\n\n\t\t\t\tlet context = pageCanvas.getContext(\"2d\");\n\t\t\t\tpageElement.style.height = pageCanvas.style.height = ((pageCanvas.height = Math.round(viewport.height)) / viewScale) + 'px';\n\t\t\t\tpageElement.style.width = pageCanvas.style.width = ((pageCanvas.width = Math.round(viewport.width)) / viewScale) + 'px';\n\n\t\t\t\tlet renderContext = {\n\t\t\t\t\tcanvasContext: context,\n\t\t\t\t\tviewport: viewport\n\t\t\t\t};\n\n\t\t\t\tpage.render(renderContext).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.rendered++;\n\t\t\t\t\tthis.isLoading = !(this.rendered === this.pages);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tsource()\n\t\t\t{\n\t\t\t\tthis.load();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport function extractAttributes(elm)\n{\n\tconst map = elm.hasAttributes() ? elm.attributes : [];\n\tconst attrs = {};\n\n\tfor (let i = 0; i < map.length; i++)\n\t{\n\t\tconst attr = map[i];\n\n\t\tif (attr.value)\n\t\t\tattrs[attr.name] = attr.value === \"\" ? true : attr.value;\n\t}\n\n\tlet cls;\n\tlet style;\n\n\tif (attrs.class)\n\t{\n\t\tcls = attrs.class;\n\t\tdelete attrs.class;\n\t}\n\n\tif (attrs.style)\n\t{\n\t\tstyle = attrs.style;\n\t\tdelete attrs.style;\n\t}\n\n\treturn {\n\t\tattrs,\n\t\tclass: cls,\n\t\tstyle\n\t};\n}\n\nexport function freeze(item)\n{\n\tif (Array.isArray(item) || typeof item === \"object\")\n\t\treturn Object.freeze(item);\n\n\treturn item;\n}\n\nexport function combinePassengers(transports, slotProps = {})\n{\n\treturn transports.reduce((passengers, transport) =>\n\t{\n\t\tlet newPassengers = transport.passengers[0];\n\n\t\treturn passengers.concat(typeof newPassengers === \"function\" ? newPassengers(slotProps) : transport.passengers);\n\t}, []);\n}\n\nexport function stableSort(array, compareFn)\n{\n\treturn array\n\t\t.map((v, idx) => [idx, v])\n\t\t.sort(function (a, b)\n\t\t{\n\t\t\treturn this(a[1], b[1]) || a[0] - b[0]\n\t\t}.bind(compareFn))\n\t\t.map(c => c[1]);\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\"\nimport { combinePassengers, freeze, stableSort } from \"./util\";\n\nconst transports = {};\n\nexport { transports }\n\nexport const Wormhole = Vue.extend({\n\n\tdata: () => ({transports}),\n\n\tmethods: {\n\n\t\topen(transport)\n\t\t{\n\t\t\tconst {to, from, passengers} = transport;\n\n\t\t\tif (!to || !from || !passengers)\n\t\t\t\treturn;\n\n\t\t\ttransport.passengers = freeze(passengers);\n\n\t\t\tconst keys = Object.keys(this.transports);\n\n\t\t\tif (keys.indexOf(to) === -1)\n\t\t\t\tVue.set(this.transports, to, []);\n\n\t\t\tconst currentIndex = this.getTransportIndex(transport);\n\t\t\tconst newTransports = this.transports[to].slice(0);\n\n\t\t\tif (currentIndex === -1)\n\t\t\t\tnewTransports.push(transport);\n\t\t\telse\n\t\t\t\tnewTransports[currentIndex] = transport;\n\n\t\t\tthis.transports[to] = stableSort(newTransports, function (a, b)\n\t\t\t{\n\t\t\t\treturn a.order - b.order;\n\t\t\t});\n\t\t},\n\n\t\tclose(transport, force = false)\n\t\t{\n\t\t\tconst {to, from} = transport;\n\n\t\t\tif (!to || !from)\n\t\t\t\treturn;\n\n\t\t\tif (!this.transports[to])\n\t\t\t\treturn;\n\n\t\t\tif (force)\n\t\t\t{\n\t\t\t\tthis.transports[to] = [];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst index = this.getTransportIndex(transport);\n\n\t\t\t\tif (index >= 0)\n\t\t\t\t{\n\t\t\t\t\tconst newTransports = this.transports[to].slice(0);\n\t\t\t\t\tnewTransports.splice(index, 1);\n\t\t\t\t\tthis.transports[to] = newTransports;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thasTarget(to)\n\t\t{\n\t\t\treturn this.transports.hasOwnProperty(to);\n\t\t},\n\n\t\thasContentFor(to)\n\t\t{\n\t\t\tif (!this.transports[to])\n\t\t\t\treturn false;\n\n\t\t\treturn this.getContentFor(to).length > 0;\n\t\t},\n\n\t\tgetSourceFor(to)\n\t\t{\n\t\t\treturn this.transports[to] && this.transports[to][0].from;\n\t\t},\n\n\t\tgetContentFor(to)\n\t\t{\n\t\t\tconst transports = this.transports[to];\n\n\t\t\tif (!transports)\n\t\t\t\treturn undefined;\n\n\t\t\treturn combinePassengers(transports);\n\t\t},\n\n\t\tgetTransportIndex({to, from})\n\t\t{\n\t\t\tfor (const i in this.transports[to])\n\t\t\t\tif (this.transports[to][i].from === from)\n\t\t\t\t\treturn i;\n\n\t\t\treturn -1\n\t\t}\n\n\t}\n\n});\n\nconst wormhole = new Wormhole(transports);\n\nexport default wormhole;\n","<template>\n\n\t<div class=\"swiper\" :class=\"rootClasses\">\n\t\t<div class=\"swiper-body\" :style=\"bodyStyle\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { getCoords, raf } from \"../../js/util/dom\";\n\timport { onlyMouse, onlyTouch } from \"../../js/util/touch\";\n\timport { clamp } from \"../../js/math\";\n\n\tfunction convertPadding(p)\n\t{\n\t\tif (typeof p === \"number\")\n\t\t\treturn {top: p, left: p, right: p, bottom: p};\n\t\telse if (p.length === 2)\n\t\t\treturn {top: p[0], left: p[1], right: p[1], bottom: p[0]};\n\t\telse if (p.length === 4)\n\t\t\treturn {top: p[0], left: p[3], right: p[1], bottom: p[2]};\n\t\telse\n\t\t\treturn {top: 0, left: 0, right: 0, bottom: 0};\n\t}\n\n\texport default {\n\n\t\tname: \"latte-swiper\",\n\n\t\tprops: {\n\n\t\t\tcenter: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\titemPadding: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number | Array\n\t\t\t},\n\n\t\t\titemWidth: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number | undefined\n\t\t\t},\n\n\t\t\tviewPadding: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number | Array\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis.observer.disconnect();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcan: {\n\t\t\t\t\tnavigate: true,\n\t\t\t\t\tobserve: true\n\t\t\t\t},\n\t\t\t\tis: {\n\t\t\t\t\tdragging: true,\n\t\t\t\t\tswipeToEnd: false,\n\t\t\t\t\tswipeToStart: false\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\tstart: 0\n\t\t\t\t},\n\t\t\t\trect: {\n\t\t\t\t\troot: null,\n\t\t\t\t\tbody: null\n\t\t\t\t},\n\t\t\t\tobserver: new MutationObserver(mutations => this.onDOMMutations(mutations)),\n\t\t\t\tviewCount: 0,\n\t\t\t\tcurrentPosition: undefined,\n\t\t\t\tstartPosition: undefined,\n\t\t\t\tposition: 0,\n\t\t\t\tpositionBeforeTouch: 0\n\t\t\t}\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$el.addEventListener(\"touchstart\", onlyTouch(this.onTouchStart), {passive: true});\n\t\t\tthis.$el.addEventListener(\"touchmove\", onlyTouch(this.onTouchMove), {passive: true});\n\t\t\tthis.$el.addEventListener(\"touchend\", onlyTouch(this.onTouchEnd), {passive: true});\n\t\t\tthis.$el.addEventListener(\"wheel\", onlyMouse(this.onMouseWheel));\n\n\t\t\tthis.observer.observe(this.$el, {\n\t\t\t\tattributes: true,\n\t\t\t\tcharacterData: true,\n\t\t\t\tchildList: true,\n\t\t\t\tsubtree: true\n\t\t\t});\n\n\t\t\tthis.update();\n\t\t\tthis.navigate(0);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tbodyStyle()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\ttransform: `translate3d(${this.position + this.offset.start}px, 0, 0)`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tiPadding()\n\t\t\t{\n\t\t\t\treturn convertPadding(this.itemPadding);\n\t\t\t},\n\n\t\t\trootClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (this.is.dragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tvPadding()\n\t\t\t{\n\t\t\t\treturn convertPadding(this.viewPadding);\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcenterize(containerWidth, itemWidth)\n\t\t\t{\n\t\t\t\tif (!this.center)\n\t\t\t\t\tthis.offset.start = 0;\n\t\t\t\telse\n\t\t\t\t\tthis.offset.start = Math.round((containerWidth - itemWidth) / 2) - this.vPadding.left;\n\t\t\t},\n\n\t\t\tonDOMMutations()\n\t\t\t{\n\t\t\t\tif (!this.can.observe)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.update();\n\t\t\t},\n\n\t\t\tonMouseWheel(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tif (!this.can.navigate)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.can.navigate = false;\n\n\t\t\t\tif (evt.deltaY > 0)\n\t\t\t\t\tthis.navigate(1);\n\t\t\t\telse if (evt.deltaY < 0)\n\t\t\t\t\tthis.navigate(-1);\n\n\t\t\t\traf(() => this.can.navigate = true, 240);\n\t\t\t},\n\n\t\t\tonTouchStart(evt)\n\t\t\t{\n\t\t\t\tconst coords = getCoords(evt);\n\n\t\t\t\tthis.currentPosition = coords;\n\t\t\t\tthis.startPosition = coords;\n\t\t\t\tthis.positionBeforeTouch = this.position;\n\t\t\t\tthis.can.observe = false;\n\t\t\t\tthis.is.dragging = true;\n\t\t\t},\n\n\t\t\tonTouchMove(evt)\n\t\t\t{\n\t\t\t\tif (!this.is.dragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst coords = getCoords(evt);\n\n\t\t\t\tthis.is.swipeToEnd = coords.x > this.currentPosition.x;\n\t\t\t\tthis.is.swipeToStart = !this.is.swipeToEnd;\n\t\t\t\tthis.currentPosition = coords;\n\n\t\t\t\tlet change = (this.startPosition.x - this.currentPosition.x);\n\t\t\t\tlet itemWidth = (this.itemWidth || this.rect.root.width) - (this.vPadding.left + this.vPadding.right);\n\t\t\t\tlet overflow = 0;\n\t\t\t\tlet position = this.positionBeforeTouch - change;\n\t\t\t\tlet width = this.viewCount * itemWidth;\n\n\t\t\t\tlet max = itemWidth / 2;\n\t\t\t\tlet min = -width + (itemWidth / 2);\n\n\t\t\t\tif (position > 0)\n\t\t\t\t\toverflow = position;\n\n\t\t\t\tif (position < -(width - itemWidth))\n\t\t\t\t\toverflow = position - -(width - itemWidth);\n\n\t\t\t\tthis.centerize(this.rect.root.width, itemWidth);\n\t\t\t\tthis.position = clamp(position - (overflow / 1.5), min, max);\n\t\t\t},\n\n\t\t\tonTouchEnd()\n\t\t\t{\n\t\t\t\tthis.can.observe = true;\n\t\t\t\tthis.is.dragging = false;\n\n\t\t\t\tlet index = 0;\n\t\t\t\tlet position = 0;\n\t\t\t\tlet itemWidth = (this.itemWidth || this.rect.root.width) - (this.vPadding.left + this.vPadding.right);\n\t\t\t\tlet width = this.viewCount * itemWidth;\n\n\t\t\t\tif (this.position > 0)\n\t\t\t\t{\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t\telse if (this.position < -(width - itemWidth))\n\t\t\t\t{\n\t\t\t\t\tposition = -(width - itemWidth);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet change = (this.startPosition.x - this.currentPosition.x);\n\n\t\t\t\t\tif (Math.abs(change) < (itemWidth * .2))\n\t\t\t\t\t\tindex = Math.abs(Math.round(this.position / itemWidth));\n\t\t\t\t\telse if (this.is.swipeToEnd)\n\t\t\t\t\t\tindex = Math.abs(Math.ceil(this.position / itemWidth));\n\t\t\t\t\telse if (this.is.swipeToStart)\n\t\t\t\t\t\tindex = Math.abs(Math.floor(this.position / itemWidth));\n\n\t\t\t\t\tposition = index * -itemWidth;\n\t\t\t\t}\n\n\t\t\t\tindex = Math.abs(Math.round(position / itemWidth));\n\n\t\t\t\tthis.centerize(this.rect.root.width, itemWidth);\n\t\t\t\tthis.position = position;\n\n\t\t\t\tthis.currentPosition = undefined;\n\t\t\t\tthis.startPosition = undefined;\n\t\t\t},\n\n\t\t\tnavigate(change)\n\t\t\t{\n\t\t\t\tthis.is.dragging = false;\n\n\t\t\t\tlet itemWidth = (this.itemWidth || this.rect.root.width) - (this.vPadding.left + this.vPadding.right);\n\t\t\t\tlet index = Math.abs(Math.round(this.position / itemWidth));\n\n\t\t\t\tthis.centerize(this.rect.root.width, itemWidth);\n\t\t\t\tthis.position = Math.max(0, Math.min(this.viewCount - 1, index + change)) * -itemWidth;\n\t\t\t},\n\n\t\t\tupdate()\n\t\t\t{\n\t\t\t\tthis.can.observe = false;\n\n\t\t\t\tconst body = this.$el.querySelector(\".swiper-body\");\n\n\t\t\t\tthis.rect.root = this.$el.getBoundingClientRect();\n\t\t\t\tthis.rect.body = body.getBoundingClientRect();\n\t\t\t\tthis.viewCount = body.children.length;\n\n\t\t\t\tlet gutter = this.iPadding.left + this.iPadding.right + this.vPadding.left + this.vPadding.right;\n\t\t\t\tlet width = (this.itemWidth || this.rect.root.width) - gutter;\n\n\t\t\t\tthis.$el.style.setProperty(\"--swiper-item-padding\", `${this.iPadding.top}px ${this.iPadding.right}px ${this.iPadding.bottom}px ${this.iPadding.left}px`);\n\t\t\t\tthis.$el.style.setProperty(\"--swiper-item-width\", `${width}px`);\n\t\t\t\tthis.$el.style.setProperty(\"--swiper-view-padding\", `${this.vPadding.top}px ${this.vPadding.right}px ${this.vPadding.bottom}px ${this.vPadding.left}px`);\n\n\t\t\t\traf(() => this.can.observe = true, 100);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\titemPadding()\n\t\t\t{\n\t\t\t\tthis.update();\n\t\t\t},\n\n\t\t\tviewPadding()\n\t\t\t{\n\t\t\t\tthis.update();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n\t:root\n\t{\n\t\t--swiper-item-padding: 0;\n\t\t--swiper-item-width: 100%;\n\t\t--swiper-view-padding: 0;\n\t}\n\n\tdiv.swiper\n\t{\n\t\tposition: relative;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\n\t\tdiv.swiper-body\n\t\t{\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\tpadding: var(--swiper-view-padding);\n\t\t\tflex-flow: row nowrap;\n\t\t\ttransition: all 420ms var(--ease-deceleration-curve);\n\t\t\twill-change: transform;\n\n\t\t\t> *\n\t\t\t{\n\t\t\t\tmargin: var(--swiper-item-padding);\n\t\t\t\tflex: 0 0 var(--swiper-item-width);\n\t\t\t}\n\t\t}\n\n\t\t&.is-dragging div.swiper-body\n\t\t{\n\t\t\ttransition: none;\n\t\t}\n\t}\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"uploader\">\n\t\t<input ref=\"fileInput\" type=\"file\" :accept=\"accept\" :id=\"id\" :multiple=\"multiple\" :name=\"name\" @change=\"onFilesUpdate\"/>\n\n\t\t<slot v-bind=\"{blobs, files, id, multiple, name, openDialog, removeFile}\"></slot>\n\n\t\t<div class=\"drop-target\" :class=\"{'is-dragging': isDragging, 'is-dragging-over': isDraggingOver}\">\n\t\t\t<div class=\"drop-target-info\" v-if=\"!isDraggingOver\">{{ (multiple ? strings.placeFiles : strings.placeFile)|i18n(i18nDomain) }}</div>\n\t\t\t<div class=\"drop-target-info\" v-else>{{ (multiple ? strings.dropFiles : strings.dropFile)|i18n(i18nDomain) }}</div>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { id } from \"../../js/core/api\";\n\timport { closest } from \"../../js/util/dom\";\n\n\tconst defaultStrings = {\n\t\tdropFile: \"Drop here to upload!\",\n\t\tdropFiles: \"Drop here to upload!\",\n\t\tplaceFile: \"Place your file here to upload\",\n\t\tplaceFiles: \"Place your file(s) here to upload\"\n\t};\n\n\tfunction arrayToFileList(files)\n\t{\n\t\tif (files === undefined)\n\t\t\tfiles = [];\n\n\t\tconst dataTransfer = new DataTransfer();\n\t\tfiles.forEach(file => dataTransfer.items.add(file));\n\n\t\treturn dataTransfer.files;\n\t}\n\n\texport default {\n\n\t\tname: \"latte-uploader\",\n\n\t\tprops: {\n\n\t\t\taccept: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | undefined\n\t\t\t},\n\n\t\t\tdroppable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\ti18nDomain: {\n\t\t\t\tdefault: \"latte-ui\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tid: {\n\t\t\t\tdefault: () => id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tmultiple: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: () => id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tstrings: {\n\t\t\t\tdefault: () => defaultStrings,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\twindow.removeEventListener(\"dragend\", this.fn.onDragEnd);\n\t\t\twindow.removeEventListener(\"dragleave\", this.fn.onDragLeave);\n\t\t\twindow.removeEventListener(\"dragover\", this.fn.onDragOver);\n\t\t\twindow.removeEventListener(\"drop\", this.fn.onDrop);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tblobs: [],\n\t\t\t\tfiles: [],\n\t\t\t\tfn: {\n\t\t\t\t\tonDragEnd: evt => this.onDragEnd(evt),\n\t\t\t\t\tonDragLeave: evt => this.onDragLeave(evt),\n\t\t\t\t\tonDragOver: evt => this.onDragOver(evt),\n\t\t\t\t\tonDrop: evt => this.onDrop(evt)\n\t\t\t\t},\n\t\t\t\tisDragging: false,\n\t\t\t\tisDraggingOver: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\twindow.addEventListener(\"dragend\", this.fn.onDragEnd);\n\t\t\twindow.addEventListener(\"dragleave\", this.fn.onDragLeave);\n\t\t\twindow.addEventListener(\"dragover\", this.fn.onDragOver);\n\t\t\twindow.addEventListener(\"drop\", this.fn.onDrop);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tfileInput()\n\t\t\t{\n\t\t\t\treturn this.$refs.fileInput;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\topenDialog()\n\t\t\t{\n\t\t\t\tthis.fileInput.click();\n\t\t\t},\n\n\t\t\tremoveFile(index)\n\t\t\t{\n\t\t\t\tthis.files.splice(index, 1);\n\t\t\t\tthis.fileInput.files = arrayToFileList(this.files);\n\t\t\t},\n\n\t\t\tonDragEnd(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.isDraggingOver = false;\n\t\t\t},\n\n\t\t\tonDragLeave(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\n\t\t\tonDragOver(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.isDraggingOver = closest(evt.target, this.$el) !== null;\n\t\t\t},\n\n\t\t\tonDrop(evt)\n\t\t\t{\n\t\t\t\tif (!this.isDragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.isDraggingOver = false;\n\n\t\t\t\tif (closest(evt.target, this.$el) === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst files = Array.from(evt.dataTransfer.files);\n\n\t\t\t\tif (!this.multiple && files.length > 1)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.multiple)\n\t\t\t\t\tfiles.push(...this.files);\n\n\t\t\t\tthis.fileInput.files = arrayToFileList(files);\n\t\t\t\tthis.onFilesUpdate();\n\t\t\t},\n\n\t\t\tonFilesUpdate()\n\t\t\t{\n\t\t\t\tthis.files = Array.from(this.fileInput.files);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tfiles()\n\t\t\t{\n\t\t\t\twhile (this.blobs.length > 0)\n\t\t\t\t\tURL.revokeObjectURL(this.blobs.shift());\n\n\t\t\t\tthis.files.forEach(file => this.blobs.push(URL.createObjectURL(file)));\n\t\t\t\tthis.$emit(\"change\", this.files);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport moment from \"moment\";\n\nexport default {\n\n\tmethods: {\n\n\t\tmoment(...args)\n\t\t{\n\t\t\treturn moment(...args);\n\t\t},\n\n\t\tmomentDuration(...args)\n\t\t{\n\t\t\treturn moment.duration(...args);\n\t\t},\n\n\t\tmomentUtc(...args)\n\t\t{\n\t\t\treturn moment.utc(...args);\n\t\t}\n\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport LatteSDK from \"./js/sdk\";\n\nimport { dispatch, on, removeSavedFromQueryString } from \"./js/core/action\";\nimport { getOptions, interval, setOptions } from \"./js/core\";\nimport { setCookie } from \"./js/util/cookies\";\nimport { initializeHoudiniApis } from \"./js/houdini\";\nimport { registerOutsideEvents } from \"./js/hid/OutsideEvent\";\n\nimport * as Components from \"./vue/component\";\nimport * as Mixins from \"./vue/mixin\"\nimport * as RTEPlugins from \"./vue/rich-text-editor\";\n\nimport \"./scss/app.scss\";\nimport { initializeUI } from \"./js/ui\";\n\nexport const DefaultOptions = Object.assign({}, {\n\ti18n: {},\n\tlocale: navigator.language,\n\ttickInterval: 250\n}, self.LatteOptions || {});\n\nexport const Latte = LatteSDK;\n\nlet foundMainElement = false;\nlet lastScroll = 0;\n\nexport const LatteUI = {\n\n\tinstall(Vue, options = {})\n\t{\n\t\toptions = this.normalizeOptions(options);\n\n\t\tif (typeof self.LatteRoot === \"undefined\")\n\t\t\tself.LatteRoot = null;\n\n\t\tVue.prototype.$latte = LatteSDK;\n\n\t\tVue.mixin({\n\t\t\tcreated()\n\t\t\t{\n\t\t\t\tif (foundMainElement)\n\t\t\t\t\treturn;\n\n\t\t\t\tfoundMainElement = true;\n\n\t\t\t\tsetOptions(Object.assign({}, getOptions(), {\n\t\t\t\t\tmainElement: this.$root.$el\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\n\t\tsetOptions(options);\n\n\t\tregisterOutsideEvents();\n\t\tinitializeHoudiniApis();\n\n\t\tthis.registerMixins(Vue);\n\t\tthis.registerComponents(Vue);\n\n\t\tinterval(options.tickInterval, () => this.onTick());\n\t\ton(\"latte:switch-theme\", data => this.onSwitchTheme(data));\n\n\t\twindow.addEventListener(\"load\", () => this.onDOMContentLoaded(), {passive: true});\n\t\twindow.addEventListener(\"scroll\", () => this.onWindowScroll(), {passive: true});\n\n\t\tremoveSavedFromQueryString();\n\n\t\tif (window)\n\t\t\twindow.Latte = LatteSDK;\n\t\telse\n\t\t\tself.Latte = LatteSDK;\n\t},\n\n\tnormalizeOptions(options)\n\t{\n\t\treturn Object.assign({}, DefaultOptions, options);\n\t},\n\n\tregisterComponents(Vue)\n\t{\n\t\tObject.values(Components).forEach(c => Vue.component(c.name, c));\n\t\tObject.values(RTEPlugins).forEach(p => Vue.component(p.name, p));\n\t},\n\n\tregisterMixins(Vue)\n\t{\n\t\tObject.values(Mixins).forEach(m => Vue.mixin(m));\n\t},\n\n\tonDOMContentLoaded()\n\t{\n\t\tinitializeUI();\n\t},\n\n\tonSwitchTheme(data)\n\t{\n\t\tconst {themeId} = data;\n\n\t\tif (themeId === undefined)\n\t\t\treturn;\n\n\t\tdocument.documentElement.dataset.theme = themeId;\n\t\tsetCookie(\"$ui:theme\", themeId);\n\t},\n\n\tonTick()\n\t{\n\t\tif (document.hidden === true)\n\t\t\treturn;\n\n\t\tif (Date.now() - lastScroll < 100)\n\t\t\treturn;\n\n\t\tdispatch(\"latte:tick\", window.performance.now());\n\t},\n\n\tonWindowScroll()\n\t{\n\t\tlastScroll = Date.now();\n\t}\n\n};\n\nexport default LatteUI;\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\nimport LatteUI from \"../index\";\n\nVue.use(LatteUI);\n\nwindow.addEventListener(\"DOMContentLoaded\", () => new Vue({el: \"main#app\"}));\n"],"names":["lattePath","closest","element","selector","document","parentNode","matches","conditionalRender","condition","fn","createElement","tag","undefined","el","getCoords","evt","e","window","TouchEvent","touches","length","item","changedTouches","clientX","clientY","x","y","getLattePath","lattejs","querySelector","getAttribute","split","live","root","event","callback","options","passive","indexOf","forEach","addEventListener","qs","querySelectorAll","index","target","Array","prototype","call","parentElement","raf","delay","setTimeout","requestAnimationFrame","relativeCoordsTo","coords","rect","getBoundingClientRect","left","top","downloadFile","fileName","url","a","download","href","body","appendChild","click","remove","isReady","readyState","printDocument","wnd","open","print","close","toDOM","str","child","temp","fragment","createDocumentFragment","innerHTML","firstChild","actions","ActionSubscription","action","id","performance","now","data","this","filter","sub","_this","dispatch","handle","on","push","onAction","dataset","actionData","onHashChange","hash","location","substr","raw","parameters","i","hasOwnProperty","kv","value","vars","ad","j","shift","array","Uint32Array","crypto","getRandomValues","join","request","fetch","Object","assign","credentials","parts","key","d","vk","history","replaceState","title","pathname","search","updateURLHash","requestJson","then","r","json","counter","popupClosed","update","popupOpened","classList","add","currentZ","applyZ","currentOptions","getMainElement","mainElement","getOptions","handleError","err","Latte","ui","message","alert","stack","interval","timeout","func","setInterval","setOptions","popup","isPopupOpened","z","randomPassword","availableSets","sets","all","password","set","Math","floor","random","tmp","shuffleString","register","replace","string","params","RegExp","translate","domain","translations","i18n","Vue","defaultOnUpdateHandler","currentTime","Date","clamp","min","max","pythagorean","b","sqrt","pow","Velocity","vp1","vp2","onUpdate","amplitude","frame","offset","reference","time","velocity","updateInterval","delta","updateValue","clearInterval","round","_this2","updateValueAuto","elapsed","v","exp","_this3","spaceship","_typeof","localeCompare","initializeForms","form","onFormSubmit","bind","ctrlKey","code","submit","btn","contains","icon","MessagePanel","extend","props","buttons","default","required","type","String","prompt","Boolean","resolve","Function","isOpen","promptResult","render","h","attrs","role","class","style","zIndex","width","domProps","input","keydown","trim","map","button","classes","as","label","methods","buttonId","$emit","$el","focus","watch","overlay","Buttons","OK","CANCEL","YES","NO","UPDATE","SAVE","REMOVE","CREATE","GO","PROCEED","ALLOW","DENY","ButtonsDescribed","weight","create","Promise","mount","dialog","propsData","actualButtons","sort","buttonsToButtons","$mount","$on","$destroy","removeChild","confirm","deepMerge","sources","source","isObject","isIterable","obj","Symbol","iterator","isArray","dismissible","noticeId","notice","setAttribute","p","dismiss","content","insertBefore","isEntityNotice","entity","areEntitiesNotices","entities","defaultOptions","duration","sound","notifications","lastY","Notification","created","closing","opening","timer","destroyed","splice","notificationClasses","notificationStyles","avatar","src","objects","result","param","makeParams","color","o","computed","clearTimeout","updatePositions","closeByTimer","audio","Audio","volume","play","catch","notification","height","registry","find","name","Error","initializePanel","panel","header","hasRightItems","toggle","hidableItems","QuestionPanel","fontSize","question","isSnackbarOpen","snackbars","Locations","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","TOP","TOP_LEFT","TOP_RIGHT","defaultActionOptions","Snackbar","locationToClass","wasAction","onTick","isTouchDevice","navigator","maxTouchPoints","msMaxTouchPoints","test","platform","onlyMouse","apply","arguments","onlyTouch","tooltipElement","despawnTooltip","spawnTooltip","position","HTMLElement","values","innerHeight","innerWidth","removeProperty","tooltipRect","adjustCoordinates","adjustment","setProperty","onTooltipElementHover","tooltip","tooltipClass","pos","initializeUI","from","dismissButton","decodeURIComponent","t","div","setCookie","days","date","setTime","getTime","cookie","encodeURIComponent","JSON","stringify","toUTCString","dateFormatterOptions","day","month","weekday","year","isNullOrWhitespace","author","description","version","api","core","math","operators","snackbar","util","clipboard","copy","text","writeText","paste","readText","cookies","getCookie","charAt","substring","parse","datetime","formatDateTime","Intl","DateTimeFormat","locale","format","dom","isJson","object","commaCommaAnd","strs","touch","vue","initializeHoudiniApis","CSS","paintWorklet","addModule","registerProperty","syntax","inherits","initialValue","OutsideEvent","listeners","listener","isWithinSource","findIndex","l","removeEventListener","elementFromPoint","template","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","staticRenderFns","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","existing","beforeCreate","concat","isOldIE","userAgent","toLowerCase","HEAD","head","getElementsByTagName","styles","css","group","media","ids","Set","has","btoa","unescape","styleSheet","cssText","size","textNode","createTextNode","nodes","childNodes","addStyle","eventBus","collides","item1","item2","compact","layout","verticalCompact","compareWith","static","sorted","sortLayoutItemsByRowCol","out","len","compactItem","moved","getFirstCollision","createCoreData","lastX","num","isNaN","deltaX","deltaY","getControlPosition","offsetParent","offsetParentRect","scrollLeft","scrollTop","layoutItem","getLayoutItem","moveElement","isUserAction","movingUp","reverse","collisions","collision","moveElementAwayFromCollision","collidesWith","itemToMove","fakeItem","contextName","subProps","bottomY","transform","WebkitTransform","MozTransform","msTransform","OTransform","combinePassengers","transports","slotProps","reduce","passengers","transport","newPassengers","wormhole","to","freeze","keys","compareFn","currentIndex","getTransportIndex","newTransports","slice","order","idx","c","force","hasTarget","hasContentFor","getContentFor","getSourceFor","moment","momentDuration","momentUtc","utc","DefaultOptions","language","tickInterval","self","LatteOptions","foundMainElement","lastScroll","LatteUI","install","queryString","normalizeOptions","LatteRoot","$latte","LatteSDK","mixin","EventTarget","addOutsideEventListener","outsideEvent","clearOutsideEventListeners","clearListeners","removeOutsideEventListener","registerMixins","registerComponents","onSwitchTheme","onDOMContentLoaded","onWindowScroll","path","Components","component","RTEPlugins","Mixins","m","themeId","documentElement","theme","hidden","use"],"mappings":"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"}