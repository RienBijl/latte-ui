{"version":3,"sources":["webpack:///./src/views/BlockEditor.vue?c8ba","webpack:///../block-editor/src/helper/array.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classPrivateFieldSet.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classPrivateFieldGet.js","webpack:///../block-editor/src/helper/element.js","webpack:///../block-editor/src/block.js","webpack:///../block-editor/src/utils.js","webpack:///../block-editor/src/primitive/icon-button.js","webpack:///../block-editor/src/BEBlockActions.vue?4dbe","webpack:///../block-editor/src/lib/animejs.js","webpack:///../block-editor/src/helper/animation.js","webpack:///../block-editor/src/helper/selection.js","webpack:///../block-editor/src/helper/error.js","webpack:///../block-editor/src/create-element.js","webpack:///../block-editor/src/api.js","webpack:///../block-editor/src/BEBlockActions.vue","webpack:///../block-editor/src/BEBlockActions.vue?d6b6","webpack:///../block-editor/src/BEBlockActions.vue?126e","webpack:///../block-editor/src/BESettingsGroup.vue?d131","webpack:///../block-editor/src/BESettingsGroup.vue","webpack:///../block-editor/src/BESettingsGroup.vue?fa41","webpack:///../block-editor/src/BESettingsGroup.vue?dfc4","webpack:///../block-editor/src/primitive/settings.js","webpack:///../block-editor/src/primitive/element.js","webpack:///../block-editor/src/blocks/missing.js","webpack:///../block-editor/src/BEBlockMount.vue?2494","webpack:///../block-editor/src/BEBlocks.vue?319d","webpack:///../block-editor/src/BEInserterExpanded.vue?2618","webpack:///../block-editor/src/BEInserterPopup.vue?2ea7","webpack:///../block-editor/src/BEInserterPopup.vue","webpack:///../block-editor/src/BEInserterPopup.vue?3e39","webpack:///../block-editor/src/BEInserterPopup.vue?7123","webpack:///../block-editor/src/BEInserterExpanded.vue","webpack:///../block-editor/src/BEInserterExpanded.vue?205a","webpack:///../block-editor/src/BEInserterExpanded.vue?7995","webpack:///../block-editor/src/BEInserterMini.vue?cd80","webpack:///../block-editor/src/BEInserterMini.vue","webpack:///../block-editor/src/BEInserterMini.vue?24c9","webpack:///../block-editor/src/BEInserterMini.vue?a92a","webpack:///../block-editor/src/BEBlockMount.vue","webpack:///../block-editor/src/BEBlockMount.vue?aa84","webpack:///../block-editor/src/BEBlocks.vue","webpack:///../block-editor/src/BEBlocks.vue?e588","webpack:///../block-editor/src/blocks/root.js","webpack:///../block-editor/src/blocks/button.js","webpack:///../block-editor/src/blocks/columns.js","webpack:///../block-editor/src/helper/html-entities.js","webpack:///../block-editor/src/blocks/page-break.js","webpack:///../block-editor/src/blocks/wrapper.js","webpack:///../block-editor/src/primitive/text.js","webpack:///../block-editor/src/blocks/heading.js","webpack:///../block-editor/src/primitive/list.js","webpack:///../block-editor/src/blocks/ordered-list.js","webpack:///../block-editor/src/blocks/paragraph.js","webpack:///../block-editor/src/blocks/unordered-list.js","webpack:///../block-editor/src/blocks/youtube.js","webpack:///../block-editor/src/blocks/html.js","webpack:///../block-editor/src/registry.js","webpack:///../block-editor/src/BEEditor.vue?8804","webpack:///../block-editor/src/BEInserterList.vue?b0a6","webpack:///../block-editor/src/BEInserterList.vue","webpack:///../block-editor/src/BEInserterList.vue?d39a","webpack:///../block-editor/src/BEInserterList.vue?3d5e","webpack:///../block-editor/src/BESettingsPane.vue?e24e","webpack:///../block-editor/src/BESettingsPane.vue","webpack:///../block-editor/src/BESettingsPane.vue?3bda","webpack:///../block-editor/src/BESettingsPane.vue?b1e1","webpack:///../block-editor/src/BEToolbar.vue?2d72","webpack:///../block-editor/src/BEHierarchy.vue?3181","webpack:///../block-editor/src/BEHierarchyItem.vue?dba2","webpack:///../block-editor/src/BEHierarchyItem.vue","webpack:///../block-editor/src/BEHierarchyItem.vue?ab07","webpack:///../block-editor/src/BEHierarchyItem.vue?b4b7","webpack:///../block-editor/src/BEHierarchy.vue","webpack:///../block-editor/src/BEHierarchy.vue?dfa5","webpack:///../block-editor/src/BEHierarchy.vue?d843","webpack:///../block-editor/src/BEToolbar.vue","webpack:///../block-editor/src/BEToolbar.vue?7fe1","webpack:///../block-editor/src/BEToolbar.vue?680b","webpack:///../block-editor/src/BEEditor.vue","webpack:///../block-editor/src/BEEditor.vue?0e6b","webpack:///../block-editor/src/BEEditor.vue?a5e9","webpack:///../block-editor/src/index.js","webpack:///src/views/BlockEditor.vue","webpack:///./src/views/BlockEditor.vue?ed0d","webpack:///./src/views/BlockEditor.vue","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/_set-proto.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection-weak.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.regexp.match.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.map.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection-strong.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.create.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.weak-map.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.array.fill.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_validate-collection.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/create.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.string.starts-with.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.set-prototype-of.js"],"names":["BlockEditorvue_type_template_id_3ecf697e_render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","height","scopedSlots","_u","key","fn","ref","blockSettingsShown","_e","_v","attrs","title","padded","opened","model","value","callback","$$v","content","expression","staticRenderFns","first","arr","last","length","includes","haystack","needle","indexOf","entriesAreDifferent","base","other","k","range","from","to","arguments","undefined","Array","fill","map","_","index","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","Object","esm_typeof","getPrototypeOf_getPrototypeOf","o","set_prototype_of_default","a","get_prototype_of_default","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","prototype","create_default","constructor","writable","configurable","_classPrivateFieldSet","receiver","privateMap","has","descriptor","get","set","_classPrivateFieldGet","getElementDimensions","elm","_elm$getBoundingClien","getBoundingClientRect","width","top","left","_window$getComputedSt","window","getComputedStyle","marginTop","marginLeft","marginRight","marginBottom","parseInt","offset","dimensions","margin","horizontal","vertical","right","bottom","outer","isInputOrTextarea","tagName","querySelector","parent","selector","querySelectorAll","defaultCategories","id","icon","name","defaultFocusOptions","placeAtEnd","select","selectAll","BlockBase","category","classCallCheck","_id","_category","_icon","createClass","entry","_getElementDimensions","element","hgutters","vgutters","isInline","h","editorInstance","component","$parent","$options","getLatte","Latte","notNullOrUndefined","translate","text","_len","params","_key","i18n","L","IconButton","Vue","extend","props","disabled","default","type","Boolean","String","press","Function","render","_this","class","domProps","on","click","evt","concat","IconToggleButton","can","pressed","beforeDestroy","tickSubscription","unsubscribe","created","_this2","action","canPress","isPressed","data","_this3","BEBlockActionsvue_type_template_id_5a023ae2_render","$event","stopPropagation","isFirst","rearrange","isLast","remove","BEBlockActionsvue_type_template_id_5a023ae2_staticRenderFns","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","applyArguments","func","args","apply","is","isArray","obj","toString","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","test","rgb","hsl","col","parseEasingParameters","string","match","exec","split","parseFloat","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","x","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","forEach","keys","easeIn","parseEasings","ease","selectString","nodes","document","e","filterArray","len","thisArg","result","push","flattenArray","reduce","toArray","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","hslToRgba","hslValue","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","target","total","getAttribute","el","prop","convertPxToUnit","unit","valueUnit","baseline","tempEl","createElement","parentEl","parentNode","body","appendChild","style","position","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","getTransformValue","defaultVal","list","getOriginalTargetValue","getRelativeValue","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","viewBoxAttr","viewBox","w","getPath","path","percent","property","getPathProgress","point","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","raf","activeInstances","pausedInstances","engine","play","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","instanceIndex","splice","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","anime","running","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","reverse","restart","removeTargetsFromAnimations","removeTargets","c","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","add","instanceParams","tlIndex","insParams","tlDuration","addEventListener","version","convertPx","random","easeSwiftOut","swapBlocks","options","firstY","secondY","firstElement","scrollingContainer","secondElement","firstDim","secondDim","scrollingDim","targetScrollTop","scrollTop","translateY","then","removeProperty","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","atEdge","atEnd","onlyLines","selectionStart","selectionEnd","selection","getSelection","rangeCount","getRangeAt","cloneRange","isCollapsed","isForward","isForwardSelection","collapse","rangeRect","getRectFromRange","computedStyle","lineHeight","padding","buffer","elmRect","verticalEdge","isReverseDirection","testRange","hiddenCaretRangeFromPoint","side","testRect","caretPosition","currentNode","iterator","createNodeIterator","anchorOffset","focusOffset","_window$getSelection","anchorNode","focusNode","isBeyondStart","nextNode","caretRangeFromPoint","doc","caretPositionFromPoint","createRange","setStart","offsetNode","collapsed","_range","startContainer","nodeName","childNodes","setEnd","getClientRects","padNode","createTextNode","insertNode","zIndex","compareDocumentPosition","placeCaretAt","currentOffset","previousOffset","realOffset","removeAllRanges","addRange","placeCaretAtEdge","focus","isContentEditable","selectNodeContents","node","NodeFilter","SHOW_TEXT","acceptNode","FILTER_ACCEPT","handleComponentError","err","console","error","message","dir","tag","_el$classList","_el$classList2","classList","toConsumableArray","filter","trim","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","next","done","return","blockToFocus","blocksToUpdateChildren","blocksToUpdateEditor","isTransaction","BlockEntry","editor","_hash","_block","_editor","api_id","_depth","_index","_children","_options","_parent","_node","_isRemoving","_isSelected","_isSwapping","BlockRegistry","findById","canHaveGroups","depth","assign","defaultOptions","groupBlock","canHaveChildren","convertBlocks","$on","calculateHash","getRelative","context","isSelected","api","d","$nextTick","util","shift","updateEditor","updateChildren","withElement","execCommand","Error","block","focusOptions","insertBlocks","spec","focusLast","blocks","setChildren","animate","nextTick","selfElement","closest","otherElement","focusSibbling","previousSibbling","nextSibbling","onEditorClick","updateIndices","renderEditor","onInput","$children","find","updateBlocks","dataUpdate","bubble","$forceUpdate","convertBlock","convertToBlocks","convertToData","root","renderChildren","BEBlockActionsvue_type_script_lang_js_","required","api_BlockEntry","src_BEBlockActionsvue_type_script_lang_js_","componentNormalizer","BEBlockActions","BESettingsGroupvue_type_template_id_142deeca_render","isOpen","_s","_f","_t","mdi-chevron-down","hasBody","mdi-chevron-up","BESettingsGroupvue_type_template_id_142deeca_staticRenderFns","BESettingsGroupvue_type_script_lang_js_","filters","beTranslate","computed","$slots","watch","src_BESettingsGroupvue_type_script_lang_js_","BESettingsGroup_component","BESettingsGroup","blockActions","slot","optional","condition","defaultValue","rangeField","getValue","setValue","input","settingsGroup","settingsGroupWithDepth","textField","toggleButton","checked","commandIconToggleButton","executeAndFocus","command","queryCommandEnabled","queryCommandState","functionIconButton","onClick","functionIconToggleButton","button","classes","label","color","tooltip","divider","optionAdditionalClasses","setOptions","optionButtons","buttons","btn","objectSpread","optionTextColor","colorPalette","data-tooltip","optionTextSize","fontSize","!mouseup","dispatch","latte","_evt$target$getBoundi","BEBlockMount_render","BEBlockMount_staticRenderFns","BEBlocks_render","BEBlocks_staticRenderFns","MissingBlock","_BlockBase","BEInserterExpandedvue_type_template_id_28a92cd9_render","BEInserterExpandedvue_type_template_id_28a92cd9_staticRenderFns","BEInserterPopupvue_type_template_id_62cb1ee2_render","associate-with","assiciatedElement","margin-x","marginX","margin-y","marginY","close","onClose","open","onOpen","_l","is-open","currentCategory","BEInserterPopupvue_type_template_id_62cb1ee2_staticRenderFns","BEInserterPopupvue_type_script_lang_js_","blocksCategorized","registry_CategoryRegistry","categories","registry_BlockRegistry","sort","localeCompare","methods","associateWith","$refs","popup","src_BEInserterPopupvue_type_script_lang_js_","BEInserterPopup_component","BEInserterPopup","BEInserterExpandedvue_type_script_lang_js_","components","inserter","$el","$emit","src_BEInserterExpandedvue_type_script_lang_js_","BEInserterExpanded_component","BEInserterExpanded","BEInserterMinivue_type_template_id_59d7873e_render","BEInserterMinivue_type_template_id_59d7873e_staticRenderFns","BEInserterMinivue_type_script_lang_js_","src_BEInserterMinivue_type_script_lang_js_","BEInserterMini_component","BEInserterMini","BEBlockMountvue_type_script_lang_js_L","BEBlockMountvue_type_script_lang_js_","mounted","onUpdate","styles","renderInserter","renderOptions","renderOptionsSide","updated","--editor-rect-h","--editor-rect-w","_this$entry$block$cal","calculateSelectionBorder","shouldRender","mode","insertBlock","_this$entry","order","uniqueId","terminateEvent","element_icon","src_BEBlockMountvue_type_script_lang_js_","BEBlockMount_component","BEBlockMount","BEBlocksvue_type_script_lang_js_","renderBlocks","renderEmptyInserter","hash","src_BEBlocksvue_type_script_lang_js_","BEBlocks_component","BEBlocks","RootBlock","buttonSizes","buttonStyles","getButtonClasses","pillButton","size","join","ButtonBlock","rippleButton","url","href","as","contentEditable","blur","innerText","minWidth","presets","columns","preview","entryChildOrDefault","decoder","ColumnBlock","preset","ColumnsBlock","_BlockBase2","gutters","columnsLast","column","lastDimensions","flexGrow","PageBreakBlock","createComment","data-text","WrapperBlock","decodeEntities","implementation","createHTMLDocument","decoded","textContent","removeEmptyDivs","lastSelectionRange","allowAppend","defaultFormattingOptions","boldItalicUnderline","createLinks","textAlignment","textIdentation","canUpdate","ensureTextNode","Element","dummy","setBaseAndExtent","startOffset","endContainer","endOffset","saveLastSelection","current","getStyles","indent","textAlign","align","onBlur","inserterList","isRemoved","removeEmptyElements","startsWith","searchTerm","foundBlocks","keywords","keyword","blockId","onKeyDown","_entry$editor$selecti","handleKeyDown","shiftKey","kdHandleBackspaceWhenEmpty","kdHandleBackspaceWhenAtStart","kdHandleArrowDownAtEnd","kdHandleArrowUpAtStart","kdHandleEnterWhenNotShift","onPaste","textData","clipboardData","getData","preventDefault","contents","paragraph","paragrap","transaction","_ref","placeholder","data-placeholder","keydown","paste","renderTextFormatToolbar","formattingOptions","isRemoving","toolbar","beforePortalId","mousedown","br","sibbling","sibblingText","_caretPosition","offsetAdjustment","endsWith","combinedText","childElements","getElementsByTagName","newElement","html","headerTypes","HeadingBlock","items","firstItem","lastItem","textOnKeyDown","OrderedListBlock","ParagraphBlock","UnorderedListBlock","YouTubeEmbedBlock","videoId","src","HtmlBlock","code","toDOM","template","rows","_classStaticPrivateFieldSpecGet","_blocks","defaultBlocks","DefaultBlocks","Block","register","_classStaticPrivateFieldSpecSet","showInInserter","CategoryRegistry","_categories","cat","BEEditorvue_type_template_id_7408aee1_render","spellcheck","!click","proxy","BEEditorvue_type_template_id_7408aee1_staticRenderFns","BEInserterListvue_type_template_id_33ad8ded_render","animate-transform","is-active","selectedIndex","max-width","BEInserterListvue_type_template_id_33ad8ded_staticRenderFns","BEInserterListvue_type_script_lang_js_","src_BEInserterListvue_type_script_lang_js_","BEInserterList_component","BEInserterList","BESettingsPanevue_type_template_id_1d934cfd_render","portalHasPassengers","multiple","BESettingsPanevue_type_template_id_1d934cfd_staticRenderFns","BESettingsPanevue_type_script_lang_js_","isInitialized","portal","passengers","src_BESettingsPanevue_type_script_lang_js_","BESettingsPane_component","BESettingsPane","BEToolbarvue_type_template_id_542dbdb4_render","onInserterClick","notImplemented","afterPortalId","BEToolbarvue_type_template_id_542dbdb4_staticRenderFns","BEHierarchyvue_type_template_id_86563558_render","deleteEverything","BEHierarchyvue_type_template_id_86563558_staticRenderFns","BEHierarchyItemvue_type_template_id_78c8913d_render","data-close","BEHierarchyItemvue_type_template_id_78c8913d_staticRenderFns","BEHierarchyItemvue_type_script_lang_js_","src_BEHierarchyItemvue_type_script_lang_js_","BEHierarchyItem_component","BEHierarchyItem","BEHierarchyvue_type_script_lang_js_","destroyed","$off","updateEntry","src_BEHierarchyvue_type_script_lang_js_","BEHierarchy_component","BEHierarchy","BEToolbarvue_type_script_lang_js_L","BEToolbarvue_type_script_lang_js_","ui","alert","src_BEToolbarvue_type_script_lang_js_","BEToolbar_component","BEToolbar","BEEditorvue_type_script_lang_js_L","defaultColorPalette","testBlocks","BEEditorvue_type_script_lang_js_","removeEventListener","onSelectionChanged","lastUpdate","Date","updateCount","passive","onValueChanged","anchorElement","src_BEEditorvue_type_script_lang_js_","BEEditor_component","BEEditor","registerDefaults","BlockEditorvue_type_script_lang_js_","setProperty","views_BlockEditorvue_type_script_lang_js_","BlockEditor_component","__webpack_exports__","isObject","__webpack_require__","anObject","check","O","proto","module","exports","setPrototypeOf","buggy","f","redefineAll","getWeak","anInstance","forOf","createArrayMethod","$has","validate","arrayFind","arrayFindIndex","uncaughtFrozenStore","that","UncaughtFrozenStore","findUncaughtFrozen","store","it","delete","getConstructor","wrapper","NAME","IS_MAP","ADDER","iterable","_i","def","ufstore","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","RegExp","res","rx","S","global","fullUnicode","unicode","lastIndex","matchStr","strong","MAP","getEntry","$export","redefine","meta","fails","$iterDetect","setToStringTag","inheritIfRequired","common","IS_WEAK","Base","fixMethod","KEY","entries","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","clear","NEED","G","W","F","setStrong","dP","create","ctx","$iterDefine","setSpecies","DESCRIPTORS","fastKey","SIZE","prev","callbackfn","iterated","kind","_k","InternalMap","each","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","WEAK_MAP","isExtensible","$WeakMap","method","getPrototypeOf","toObject","$getPrototypeOf","P","init","byteOffset","TYPE","$Object","D","STARTS_WITH","$startsWith","searchString","search"],"mappings":"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","file":"assets/js/chunk-9e267ea8.4ba42866.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel radius-none\",staticStyle:{\"height\":\"calc(100vh - 60px)\"}},[_c('BEEditor',{scopedSlots:_vm._u([{key:\"settings-pane-after\",fn:function(ref){\nvar blockSettingsShown = ref.blockSettingsShown;\nreturn [(!blockSettingsShown)?[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Page settings\")])]),_c('BESettingsGroup',{attrs:{\"title\":\"General\",\"padded\":true}},[_vm._v(\"\\n\\t\\t\\t\\t\\tThis panel was added with a slot.\\n\\t\\t\\t\\t\")]),_c('BESettingsGroup',{attrs:{\"title\":\"View\",\"opened\":false,\"padded\":true}},[_vm._v(\"\\n\\t\\t\\t\\t\\tThis panel was also added with a slot.\\n\\t\\t\\t\\t\")])]:_vm._e()]}}]),model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function first(arr)\r\n{\r\n\treturn arr[0];\r\n}\r\n\r\nexport function last(arr)\r\n{\r\n\treturn arr[arr.length - 1];\r\n}\r\n\r\nexport function includes(haystack, needle)\r\n{\r\n\treturn haystack.indexOf(needle) > -1;\r\n}\r\n\r\nexport function entriesAreDifferent(base, other)\r\n{\r\n\tfor (let k in other)\r\n\t\tif (other[k] !== base[k])\r\n\t\t\treturn true;\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function range(from, to, fn = undefined)\r\n{\r\n\treturn Array(to - from)\r\n\t\t.fill(undefined)\r\n\t\t.map((_, index) => index + from)\r\n\t\t.map(fn);\r\n}\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  var descriptor = privateMap.get(receiver);\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}","export default function _classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  var descriptor = privateMap.get(receiver);\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}","import { includes } from \"./array\";\r\n\r\nexport function oneOrAnother(condition, fn1, fn2)\r\n{\r\n\treturn condition ? fn1() : fn2();\r\n}\r\n\r\nexport function getElementDimensions(elm)\r\n{\r\n\tconst {height, width, top, left} = elm.getBoundingClientRect();\r\n\tlet {marginTop, marginLeft, marginRight, marginBottom} = window.getComputedStyle(elm);\r\n\r\n\tmarginTop = parseInt(marginTop);\r\n\tmarginLeft = parseInt(marginLeft);\r\n\tmarginRight = parseInt(marginRight);\r\n\tmarginBottom = parseInt(marginBottom);\r\n\r\n\treturn {\r\n\t\toffset: {top, left},\r\n\t\tdimensions: {height, width},\r\n\t\tmargin: {\r\n\t\t\thorizontal: marginLeft + marginRight,\r\n\t\t\tvertical: marginTop + marginBottom,\r\n\t\t\ttop: marginTop,\r\n\t\t\tleft: marginLeft,\r\n\t\t\tright: marginRight,\r\n\t\t\tbottom: marginBottom\r\n\t\t},\r\n\t\touter: {\r\n\t\t\theight: height + marginTop + marginBottom,\r\n\t\t\twidth: width + marginLeft + marginRight\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function isInputOrTextarea(elm)\r\n{\r\n\treturn includes([\"INPUT\", \"TEXTAREA\"], elm.tagName)\r\n}\r\n\r\nexport function querySelector(parent, selector)\r\n{\r\n\treturn parent.querySelector(selector);\r\n}\r\n\r\nexport function querySelectorAll(parent, selector)\r\n{\r\n\treturn Array.from(parent.querySelectorAll(selector));\r\n}\r\n","import { getElementDimensions } from \"./helper/element\";\r\n\r\nexport const defaultCategories = [\r\n\t{id: \"layout\", icon: \"layers\", name: \"Layout\"},\r\n\t{id: \"text\", icon: \"format-text\", name: \"Text\"},\r\n\t{id: \"embeds\", icon: \"code-tags\", name: \"Embeds\"},\r\n\t{id: \"other\", icon: \"package-variant\", name: \"Other\"}\r\n];\r\n\r\nexport const defaultFocusOptions = {\r\n\tplaceAtEnd: true,\r\n\tselect: true,\r\n\tselectAll: false\r\n};\r\n\r\nexport class BlockBase\r\n{\r\n\r\n\t#id;\r\n\t#category;\r\n\t#icon;\r\n\r\n\tget id()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget canHaveGroups()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget category()\r\n\t{\r\n\t\treturn this.#category;\r\n\t}\r\n\r\n\tget icon()\r\n\t{\r\n\t\treturn this.#icon;\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [this.id];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tconstructor(id, category, icon)\r\n\t{\r\n\t\tthis.#id = id;\r\n\t\tthis.#category = category;\r\n\t\tthis.#icon = icon;\r\n\t}\r\n\r\n\tcalculateSelectionBorder(entry)\r\n\t{\r\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\r\n\r\n\t\tlet hgutters = margin.horizontal;\r\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\r\n\r\n\t\treturn {\r\n\t\t\theight: dimensions.height + vgutters,\r\n\t\t\twidth: dimensions.width + hgutters\r\n\t\t};\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n}\r\n","import { Latte } from \"@bybas/latte-ui\";\r\n\r\nexport function editorInstance(component)\r\n{\r\n\twhile ((component = component.$parent) !== undefined)\r\n\t\tif (component.$options.name === \"BEEditor\")\r\n\t\t\treturn component;\r\n\r\n\treturn undefined;\r\n}\r\n\r\nexport function getLatte()\r\n{\r\n\treturn Latte;\r\n}\r\n\r\nexport function notNullOrUndefined(p)\r\n{\r\n\treturn p !== undefined && p !== null;\r\n}\r\n\r\nexport function replaceIndex(arr, index, obj)\r\n{\r\n\tarr.splice(index, 1, obj);\r\n\r\n\treturn arr;\r\n}\r\n\r\nexport function translate(text, ...params)\r\n{\r\n\treturn Latte.i18n.translate(\"block-editor\", text, params);\r\n}\r\n","import Vue from \"vue\";\r\nimport { getLatte } from \"../utils\";\r\n\r\nconst L = getLatte();\r\n\r\nexport const IconButton = Vue.extend({\r\n\r\n\tname: \"IconToggleButton\",\r\n\r\n\tprops: {\r\n\t\tdisabled: {default: false, type: Boolean},\r\n\t\ticon: {type: String},\r\n\t\tpress: {type: Function}\r\n\t},\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn h(\r\n\t\t\t\"button\",\r\n\t\t\t{\r\n\t\t\t\tclass: `btn btn-icon btn-text btn-dark`,\r\n\t\t\t\tdomProps: {disabled: this.disabled},\r\n\t\t\t\ton: {click: evt => this.press(evt)}\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n});\r\n\r\nexport const IconToggleButton = Vue.extend({\r\n\r\n\tname: \"IconToggleButton\",\r\n\r\n\tprops: {\r\n\t\ticon: {type: String},\r\n\t\tcan: {type: Function},\r\n\t\tpress: {type: Function},\r\n\t\tpressed: {type: Function}\r\n\t},\r\n\r\n\tbeforeDestroy()\r\n\t{\r\n\t\tthis.tickSubscription.unsubscribe();\r\n\t},\r\n\r\n\tcreated()\r\n\t{\r\n\t\tthis.tickSubscription = L.action.on(\"latte:tick\", () =>\r\n\t\t{\r\n\t\t\tthis.canPress = this.can();\r\n\t\t\tthis.isPressed = this.pressed();\r\n\t\t});\r\n\t},\r\n\r\n\tdata()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcanPress: this.can(),\r\n\t\t\tisPressed: this.pressed(),\r\n\t\t\ttickSubscription: undefined\r\n\t\t};\r\n\t},\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn h(\r\n\t\t\t\"button\",\r\n\t\t\t{\r\n\t\t\t\tclass: `btn btn-icon ${this.isPressed ? \"btn-soft btn-primary\" : \"btn-text btn-dark\"}`,\r\n\t\t\t\tdomProps: {disabled: !this.canPress},\r\n\t\t\t\ton: {click: evt => this.press(evt)}\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-block-actions\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isFirst},on:{\"click\":function($event){return _vm.entry.rearrange(-1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-up\"})]),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isLast},on:{\"click\":function($event){return _vm.entry.rearrange(1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-down\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",on:{\"click\":function($event){return _vm.entry.remove()}}},[_c('i',{staticClass:\"mdi mdi-delete\"})]),_c('div',{staticClass:\"divider divider-vertical\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * anime.js v3.1.0\r\n * (c) 2019 Julian Garnier\r\n * Released under the MIT license\r\n * animejs.com\r\n */\r\n\r\n// Defaults\r\n\r\nvar defaultInstanceSettings = {\r\n\tupdate: null,\r\n\tbegin: null,\r\n\tloopBegin: null,\r\n\tchangeBegin: null,\r\n\tchange: null,\r\n\tchangeComplete: null,\r\n\tloopComplete: null,\r\n\tcomplete: null,\r\n\tloop: 1,\r\n\tdirection: 'normal',\r\n\tautoplay: true,\r\n\ttimelineOffset: 0\r\n};\r\n\r\nvar defaultTweenSettings = {\r\n\tduration: 1000,\r\n\tdelay: 0,\r\n\tendDelay: 0,\r\n\teasing: 'easeOutElastic(1, .5)',\r\n\tround: 0\r\n};\r\n\r\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\r\n\r\n// Caching\r\n\r\nvar cache = {\r\n\tCSS: {},\r\n\tsprings: {}\r\n};\r\n\r\n// Utils\r\n\r\nfunction minMax(val, min, max)\r\n{\r\n\treturn Math.min(Math.max(val, min), max);\r\n}\r\n\r\nfunction stringContains(str, text)\r\n{\r\n\treturn str.indexOf(text) > -1;\r\n}\r\n\r\nfunction applyArguments(func, args)\r\n{\r\n\treturn func.apply(null, args);\r\n}\r\n\r\nvar is = {\r\n\tarr: function (a)\r\n\t{\r\n\t\treturn Array.isArray(a);\r\n\t},\r\n\tobj: function (a)\r\n\t{\r\n\t\treturn stringContains(Object.prototype.toString.call(a), 'Object');\r\n\t},\r\n\tpth: function (a)\r\n\t{\r\n\t\treturn is.obj(a) && a.hasOwnProperty('totalLength');\r\n\t},\r\n\tsvg: function (a)\r\n\t{\r\n\t\treturn a instanceof SVGElement;\r\n\t},\r\n\tinp: function (a)\r\n\t{\r\n\t\treturn a instanceof HTMLInputElement;\r\n\t},\r\n\tdom: function (a)\r\n\t{\r\n\t\treturn a.nodeType || is.svg(a);\r\n\t},\r\n\tstr: function (a)\r\n\t{\r\n\t\treturn typeof a === 'string';\r\n\t},\r\n\tfnc: function (a)\r\n\t{\r\n\t\treturn typeof a === 'function';\r\n\t},\r\n\tund: function (a)\r\n\t{\r\n\t\treturn typeof a === 'undefined';\r\n\t},\r\n\thex: function (a)\r\n\t{\r\n\t\treturn /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);\r\n\t},\r\n\trgb: function (a)\r\n\t{\r\n\t\treturn /^rgb/.test(a);\r\n\t},\r\n\thsl: function (a)\r\n\t{\r\n\t\treturn /^hsl/.test(a);\r\n\t},\r\n\tcol: function (a)\r\n\t{\r\n\t\treturn (is.hex(a) || is.rgb(a) || is.hsl(a));\r\n\t},\r\n\tkey: function (a)\r\n\t{\r\n\t\treturn !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes';\r\n\t}\r\n};\r\n\r\n// Easings\r\n\r\nfunction parseEasingParameters(string)\r\n{\r\n\tvar match = /\\(([^)]+)\\)/.exec(string);\r\n\treturn match ? match[1].split(',').map(function (p)\r\n\t{\r\n\t\treturn parseFloat(p);\r\n\t}) : [];\r\n}\r\n\r\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\r\n\r\nfunction spring(string, duration)\r\n{\r\n\r\n\tvar params = parseEasingParameters(string);\r\n\tvar mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\r\n\tvar stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\r\n\tvar damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\r\n\tvar velocity = minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\r\n\tvar w0 = Math.sqrt(stiffness / mass);\r\n\tvar zeta = damping / (2 * Math.sqrt(stiffness * mass));\r\n\tvar wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\r\n\tvar a = 1;\r\n\tvar b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\r\n\r\n\tfunction solver(t)\r\n\t{\r\n\t\tvar progress = duration ? (duration * t) / 1000 : t;\r\n\t\tif (zeta < 1)\r\n\t\t{\r\n\t\t\tprogress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tprogress = (a + b * progress) * Math.exp(-progress * w0);\r\n\t\t}\r\n\t\tif (t === 0 || t === 1)\r\n\t\t{\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn 1 - progress;\r\n\t}\r\n\r\n\tfunction getDuration()\r\n\t{\r\n\t\tvar cached = cache.springs[string];\r\n\t\tif (cached)\r\n\t\t{\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar frame = 1 / 6;\r\n\t\tvar elapsed = 0;\r\n\t\tvar rest = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\telapsed += frame;\r\n\t\t\tif (solver(elapsed) === 1)\r\n\t\t\t{\r\n\t\t\t\trest++;\r\n\t\t\t\tif (rest >= 16)\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\trest = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar duration = elapsed * frame * 1000;\r\n\t\tcache.springs[string] = duration;\r\n\t\treturn duration;\r\n\t}\r\n\r\n\treturn duration ? solver : getDuration;\r\n\r\n}\r\n\r\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\r\n\r\nfunction steps(steps)\r\n{\r\n\tif (steps === void 0) steps = 10;\r\n\r\n\treturn function (t)\r\n\t{\r\n\t\treturn Math.round(t * steps) * (1 / steps);\r\n\t};\r\n}\r\n\r\n// BezierEasing https://github.com/gre/bezier-easing\r\n\r\nvar bezier = (function ()\r\n{\r\n\r\n\tvar kSplineTableSize = 11;\r\n\tvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n\tfunction A(aA1, aA2)\r\n\t{\r\n\t\treturn 1.0 - 3.0 * aA2 + 3.0 * aA1\r\n\t}\r\n\r\n\tfunction B(aA1, aA2)\r\n\t{\r\n\t\treturn 3.0 * aA2 - 6.0 * aA1\r\n\t}\r\n\r\n\tfunction C(aA1)\r\n\t{\r\n\t\treturn 3.0 * aA1\r\n\t}\r\n\r\n\tfunction calcBezier(aT, aA1, aA2)\r\n\t{\r\n\t\treturn ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT\r\n\t}\r\n\r\n\tfunction getSlope(aT, aA1, aA2)\r\n\t{\r\n\t\treturn 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1)\r\n\t}\r\n\r\n\tfunction binarySubdivide(aX, aA, aB, mX1, mX2)\r\n\t{\r\n\t\tvar currentX, currentT, i = 0;\r\n\t\tdo\r\n\t\t{\r\n\t\t\tcurrentT = aA + (aB - aA) / 2.0;\r\n\t\t\tcurrentX = calcBezier(currentT, mX1, mX2) - aX;\r\n\t\t\tif (currentX > 0.0)\r\n\t\t\t{\r\n\t\t\t\taB = currentT;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\taA = currentT;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (Math.abs(currentX) > 0.0000001 && ++i < 10);\r\n\t\treturn currentT;\r\n\t}\r\n\r\n\tfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2)\r\n\t{\r\n\t\tfor (var i = 0; i < 4; ++i)\r\n\t\t{\r\n\t\t\tvar currentSlope = getSlope(aGuessT, mX1, mX2);\r\n\t\t\tif (currentSlope === 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn aGuessT;\r\n\t\t\t}\r\n\t\t\tvar currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n\t\t\taGuessT -= currentX / currentSlope;\r\n\t\t}\r\n\t\treturn aGuessT;\r\n\t}\r\n\r\n\tfunction bezier(mX1, mY1, mX2, mY2)\r\n\t{\r\n\r\n\t\tif (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1))\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar sampleValues = new Float32Array(kSplineTableSize);\r\n\r\n\t\tif (mX1 !== mY1 || mX2 !== mY2)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < kSplineTableSize; ++i)\r\n\t\t\t{\r\n\t\t\t\tsampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getTForX(aX)\r\n\t\t{\r\n\r\n\t\t\tvar intervalStart = 0;\r\n\t\t\tvar currentSample = 1;\r\n\t\t\tvar lastSample = kSplineTableSize - 1;\r\n\r\n\t\t\tfor (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample)\r\n\t\t\t{\r\n\t\t\t\tintervalStart += kSampleStepSize;\r\n\t\t\t}\r\n\r\n\t\t\t--currentSample;\r\n\r\n\t\t\tvar dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\r\n\t\t\tvar guessForT = intervalStart + dist * kSampleStepSize;\r\n\t\t\tvar initialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n\t\t\tif (initialSlope >= 0.001)\r\n\t\t\t{\r\n\t\t\t\treturn newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n\t\t\t}\r\n\t\t\telse if (initialSlope === 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn guessForT;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function (x)\r\n\t\t{\r\n\t\t\tif (mX1 === mY1 && mX2 === mY2)\r\n\t\t\t{\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\tif (x === 0 || x === 1)\r\n\t\t\t{\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn calcBezier(getTForX(x), mY1, mY2);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn bezier;\r\n\r\n})();\r\n\r\nvar penner = (function ()\r\n{\r\n\r\n\t// Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\r\n\r\n\tvar eases = {\r\n\t\tlinear: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t;\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tvar functionEasings = {\r\n\t\tSine: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - Math.cos(t * Math.PI / 2);\r\n\t\t\t};\r\n\t\t},\r\n\t\tCirc: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - Math.sqrt(1 - t * t);\r\n\t\t\t};\r\n\t\t},\r\n\t\tBack: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t * t * (3 * t - 2);\r\n\t\t\t};\r\n\t\t},\r\n\t\tBounce: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\tvar pow2, b = 4;\r\n\t\t\t\twhile (t < ((pow2 = Math.pow(2, --b)) - 1) / 11)\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2)\r\n\t\t\t};\r\n\t\t},\r\n\t\tElastic: function (amplitude, period)\r\n\t\t{\r\n\t\t\tif (amplitude === void 0) amplitude = 1;\r\n\t\t\tif (period === void 0) period = .5;\r\n\r\n\t\t\tvar a = minMax(amplitude, 1, 10);\r\n\t\t\tvar p = minMax(period, .1, 2);\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn (t === 0 || t === 1) ? t :\r\n\t\t\t\t\t-a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\r\n\r\n\tbaseEasings.forEach(function (name, i)\r\n\t{\r\n\t\tfunctionEasings[name] = function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn Math.pow(t, i + 2);\r\n\t\t\t};\r\n\t\t};\r\n\t});\r\n\r\n\tObject.keys(functionEasings).forEach(function (name)\r\n\t{\r\n\t\tvar easeIn = functionEasings[name];\r\n\t\teases['easeIn' + name] = easeIn;\r\n\t\teases['easeOut' + name] = function (a, b)\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - easeIn(a, b)(1 - t);\r\n\t\t\t};\r\n\t\t};\r\n\t\teases['easeInOut' + name] = function (a, b)\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t < 0.5 ? easeIn(a, b)(t * 2) / 2 :\r\n\t\t\t\t\t1 - easeIn(a, b)(t * -2 + 2) / 2;\r\n\t\t\t};\r\n\t\t};\r\n\t});\r\n\r\n\treturn eases;\r\n\r\n})();\r\n\r\nfunction parseEasings(easing, duration)\r\n{\r\n\tif (is.fnc(easing))\r\n\t{\r\n\t\treturn easing;\r\n\t}\r\n\tvar name = easing.split('(')[0];\r\n\tvar ease = penner[name];\r\n\tvar args = parseEasingParameters(easing);\r\n\tswitch (name)\r\n\t{\r\n\t\tcase 'spring' :\r\n\t\t\treturn spring(easing, duration);\r\n\t\tcase 'cubicBezier' :\r\n\t\t\treturn applyArguments(bezier, args);\r\n\t\tcase 'steps' :\r\n\t\t\treturn applyArguments(steps, args);\r\n\t\tdefault :\r\n\t\t\treturn applyArguments(ease, args);\r\n\t}\r\n}\r\n\r\n// Strings\r\n\r\nfunction selectString(str)\r\n{\r\n\ttry\r\n\t{\r\n\t\tvar nodes = document.querySelectorAll(str);\r\n\t\treturn nodes;\r\n\t}\r\n\tcatch (e)\r\n\t{\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\n// Arrays\r\n\r\nfunction filterArray(arr, callback)\r\n{\r\n\tvar len = arr.length;\r\n\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\r\n\tvar result = [];\r\n\tfor (var i = 0; i < len; i++)\r\n\t{\r\n\t\tif (i in arr)\r\n\t\t{\r\n\t\t\tvar val = arr[i];\r\n\t\t\tif (callback.call(thisArg, val, i, arr))\r\n\t\t\t{\r\n\t\t\t\tresult.push(val);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction flattenArray(arr)\r\n{\r\n\treturn arr.reduce(function (a, b)\r\n\t{\r\n\t\treturn a.concat(is.arr(b) ? flattenArray(b) : b);\r\n\t}, []);\r\n}\r\n\r\nfunction toArray(o)\r\n{\r\n\tif (is.arr(o))\r\n\t{\r\n\t\treturn o;\r\n\t}\r\n\tif (is.str(o))\r\n\t{\r\n\t\to = selectString(o) || o;\r\n\t}\r\n\tif (o instanceof NodeList || o instanceof HTMLCollection)\r\n\t{\r\n\t\treturn [].slice.call(o);\r\n\t}\r\n\treturn [o];\r\n}\r\n\r\nfunction arrayContains(arr, val)\r\n{\r\n\treturn arr.some(function (a)\r\n\t{\r\n\t\treturn a === val;\r\n\t});\r\n}\r\n\r\n// Objects\r\n\r\nfunction cloneObject(o)\r\n{\r\n\tvar clone = {};\r\n\tfor (var p in o)\r\n\t{\r\n\t\tclone[p] = o[p];\r\n\t}\r\n\treturn clone;\r\n}\r\n\r\nfunction replaceObjectProps(o1, o2)\r\n{\r\n\tvar o = cloneObject(o1);\r\n\tfor (var p in o1)\r\n\t{\r\n\t\to[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p];\r\n\t}\r\n\treturn o;\r\n}\r\n\r\nfunction mergeObjects(o1, o2)\r\n{\r\n\tvar o = cloneObject(o1);\r\n\tfor (var p in o2)\r\n\t{\r\n\t\to[p] = is.und(o1[p]) ? o2[p] : o1[p];\r\n\t}\r\n\treturn o;\r\n}\r\n\r\n// Colors\r\n\r\nfunction rgbToRgba(rgbValue)\r\n{\r\n\tvar rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\r\n\treturn rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\r\n}\r\n\r\nfunction hexToRgba(hexValue)\r\n{\r\n\tvar rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\tvar hex = hexValue.replace(rgx, function (m, r, g, b)\r\n\t{\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\tvar rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\tvar r = parseInt(rgb[1], 16);\r\n\tvar g = parseInt(rgb[2], 16);\r\n\tvar b = parseInt(rgb[3], 16);\r\n\treturn (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\r\n}\r\n\r\nfunction hslToRgba(hslValue)\r\n{\r\n\tvar hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\r\n\tvar h = parseInt(hsl[1], 10) / 360;\r\n\tvar s = parseInt(hsl[2], 10) / 100;\r\n\tvar l = parseInt(hsl[3], 10) / 100;\r\n\tvar a = hsl[4] || 1;\r\n\r\n\tfunction hue2rgb(p, q, t)\r\n\t{\r\n\t\tif (t < 0)\r\n\t\t{\r\n\t\t\tt += 1;\r\n\t\t}\r\n\t\tif (t > 1)\r\n\t\t{\r\n\t\t\tt -= 1;\r\n\t\t}\r\n\t\tif (t < 1 / 6)\r\n\t\t{\r\n\t\t\treturn p + (q - p) * 6 * t;\r\n\t\t}\r\n\t\tif (t < 1 / 2)\r\n\t\t{\r\n\t\t\treturn q;\r\n\t\t}\r\n\t\tif (t < 2 / 3)\r\n\t\t{\r\n\t\t\treturn p + (q - p) * (2 / 3 - t) * 6;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\r\n\tvar r, g, b;\r\n\tif (s == 0)\r\n\t{\r\n\t\tr = g = b = l;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tvar p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\treturn (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\r\n}\r\n\r\nfunction colorToRgb(val)\r\n{\r\n\tif (is.rgb(val))\r\n\t{\r\n\t\treturn rgbToRgba(val);\r\n\t}\r\n\tif (is.hex(val))\r\n\t{\r\n\t\treturn hexToRgba(val);\r\n\t}\r\n\tif (is.hsl(val))\r\n\t{\r\n\t\treturn hslToRgba(val);\r\n\t}\r\n}\r\n\r\n// Units\r\n\r\nfunction getUnit(val)\r\n{\r\n\tvar split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\r\n\tif (split)\r\n\t{\r\n\t\treturn split[1];\r\n\t}\r\n}\r\n\r\nfunction getTransformUnit(propName)\r\n{\r\n\tif (stringContains(propName, 'translate') || propName === 'perspective')\r\n\t{\r\n\t\treturn 'px';\r\n\t}\r\n\tif (stringContains(propName, 'rotate') || stringContains(propName, 'skew'))\r\n\t{\r\n\t\treturn 'deg';\r\n\t}\r\n}\r\n\r\n// Values\r\n\r\nfunction getFunctionValue(val, animatable)\r\n{\r\n\tif (!is.fnc(val))\r\n\t{\r\n\t\treturn val;\r\n\t}\r\n\treturn val(animatable.target, animatable.id, animatable.total);\r\n}\r\n\r\nfunction getAttribute(el, prop)\r\n{\r\n\treturn el.getAttribute(prop);\r\n}\r\n\r\nfunction convertPxToUnit(el, value, unit)\r\n{\r\n\tvar valueUnit = getUnit(value);\r\n\tif (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit))\r\n\t{\r\n\t\treturn value;\r\n\t}\r\n\tvar cached = cache.CSS[value + unit];\r\n\tif (!is.und(cached))\r\n\t{\r\n\t\treturn cached;\r\n\t}\r\n\tvar baseline = 100;\r\n\tvar tempEl = document.createElement(el.tagName);\r\n\tvar parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\r\n\tparentEl.appendChild(tempEl);\r\n\ttempEl.style.position = 'absolute';\r\n\ttempEl.style.width = baseline + unit;\r\n\tvar factor = baseline / tempEl.offsetWidth;\r\n\tparentEl.removeChild(tempEl);\r\n\tvar convertedUnit = factor * parseFloat(value);\r\n\tcache.CSS[value + unit] = convertedUnit;\r\n\treturn convertedUnit;\r\n}\r\n\r\nfunction getCSSValue(el, prop, unit)\r\n{\r\n\tif (prop in el.style)\r\n\t{\r\n\t\tvar uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n\t\tvar value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\r\n\t\treturn unit ? convertPxToUnit(el, value, unit) : value;\r\n\t}\r\n}\r\n\r\nfunction getAnimationType(el, prop)\r\n{\r\n\tif (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop])))\r\n\t{\r\n\t\treturn 'attribute';\r\n\t}\r\n\tif (is.dom(el) && arrayContains(validTransforms, prop))\r\n\t{\r\n\t\treturn 'transform';\r\n\t}\r\n\tif (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop)))\r\n\t{\r\n\t\treturn 'css';\r\n\t}\r\n\tif (el[prop] != null)\r\n\t{\r\n\t\treturn 'object';\r\n\t}\r\n}\r\n\r\nfunction getElementTransforms(el)\r\n{\r\n\tif (!is.dom(el))\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\tvar str = el.style.transform || '';\r\n\tvar reg = /(\\w+)\\(([^)]*)\\)/g;\r\n\tvar transforms = new Map();\r\n\tvar m;\r\n\twhile (m = reg.exec(str))\r\n\t{\r\n\t\ttransforms.set(m[1], m[2]);\r\n\t}\r\n\treturn transforms;\r\n}\r\n\r\nfunction getTransformValue(el, propName, animatable, unit)\r\n{\r\n\tvar defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\r\n\tvar value = getElementTransforms(el).get(propName) || defaultVal;\r\n\tif (animatable)\r\n\t{\r\n\t\tanimatable.transforms.list.set(propName, value);\r\n\t\tanimatable.transforms['last'] = propName;\r\n\t}\r\n\treturn unit ? convertPxToUnit(el, value, unit) : value;\r\n}\r\n\r\nfunction getOriginalTargetValue(target, propName, unit, animatable)\r\n{\r\n\tswitch (getAnimationType(target, propName))\r\n\t{\r\n\t\tcase 'transform':\r\n\t\t\treturn getTransformValue(target, propName, animatable, unit);\r\n\t\tcase 'css':\r\n\t\t\treturn getCSSValue(target, propName, unit);\r\n\t\tcase 'attribute':\r\n\t\t\treturn getAttribute(target, propName);\r\n\t\tdefault:\r\n\t\t\treturn target[propName] || 0;\r\n\t}\r\n}\r\n\r\nfunction getRelativeValue(to, from)\r\n{\r\n\tvar operator = /^(\\*=|\\+=|-=)/.exec(to);\r\n\tif (!operator)\r\n\t{\r\n\t\treturn to;\r\n\t}\r\n\tvar u = getUnit(to) || 0;\r\n\tvar x = parseFloat(from);\r\n\tvar y = parseFloat(to.replace(operator[0], ''));\r\n\tswitch (operator[0][0])\r\n\t{\r\n\t\tcase '+':\r\n\t\t\treturn x + y + u;\r\n\t\tcase '-':\r\n\t\t\treturn x - y + u;\r\n\t\tcase '*':\r\n\t\t\treturn x * y + u;\r\n\t}\r\n}\r\n\r\nfunction validateValue(val, unit)\r\n{\r\n\tif (is.col(val))\r\n\t{\r\n\t\treturn colorToRgb(val);\r\n\t}\r\n\tif (/\\s/g.test(val))\r\n\t{\r\n\t\treturn val;\r\n\t}\r\n\tvar originalUnit = getUnit(val);\r\n\tvar unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\r\n\tif (unit)\r\n\t{\r\n\t\treturn unitLess + unit;\r\n\t}\r\n\treturn unitLess;\r\n}\r\n\r\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\r\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\r\n\r\nfunction getDistance(p1, p2)\r\n{\r\n\treturn Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n}\r\n\r\nfunction getCircleLength(el)\r\n{\r\n\treturn Math.PI * 2 * getAttribute(el, 'r');\r\n}\r\n\r\nfunction getRectLength(el)\r\n{\r\n\treturn (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\r\n}\r\n\r\nfunction getLineLength(el)\r\n{\r\n\treturn getDistance(\r\n\t\t{x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')},\r\n\t\t{x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\r\n\t);\r\n}\r\n\r\nfunction getPolylineLength(el)\r\n{\r\n\tvar points = el.points;\r\n\tvar totalLength = 0;\r\n\tvar previousPos;\r\n\tfor (var i = 0; i < points.numberOfItems; i++)\r\n\t{\r\n\t\tvar currentPos = points.getItem(i);\r\n\t\tif (i > 0)\r\n\t\t{\r\n\t\t\ttotalLength += getDistance(previousPos, currentPos);\r\n\t\t}\r\n\t\tpreviousPos = currentPos;\r\n\t}\r\n\treturn totalLength;\r\n}\r\n\r\nfunction getPolygonLength(el)\r\n{\r\n\tvar points = el.points;\r\n\treturn getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\r\n}\r\n\r\n// Path animation\r\n\r\nfunction getTotalLength(el)\r\n{\r\n\tif (el.getTotalLength)\r\n\t{\r\n\t\treturn el.getTotalLength();\r\n\t}\r\n\tswitch (el.tagName.toLowerCase())\r\n\t{\r\n\t\tcase 'circle':\r\n\t\t\treturn getCircleLength(el);\r\n\t\tcase 'rect':\r\n\t\t\treturn getRectLength(el);\r\n\t\tcase 'line':\r\n\t\t\treturn getLineLength(el);\r\n\t\tcase 'polyline':\r\n\t\t\treturn getPolylineLength(el);\r\n\t\tcase 'polygon':\r\n\t\t\treturn getPolygonLength(el);\r\n\t}\r\n}\r\n\r\nfunction setDashoffset(el)\r\n{\r\n\tvar pathLength = getTotalLength(el);\r\n\tel.setAttribute('stroke-dasharray', pathLength);\r\n\treturn pathLength;\r\n}\r\n\r\n// Motion path\r\n\r\nfunction getParentSvgEl(el)\r\n{\r\n\tvar parentEl = el.parentNode;\r\n\twhile (is.svg(parentEl))\r\n\t{\r\n\t\tif (!is.svg(parentEl.parentNode))\r\n\t\t{\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tparentEl = parentEl.parentNode;\r\n\t}\r\n\treturn parentEl;\r\n}\r\n\r\nfunction getParentSvg(pathEl, svgData)\r\n{\r\n\tvar svg = svgData || {};\r\n\tvar parentSvgEl = svg.el || getParentSvgEl(pathEl);\r\n\tvar rect = parentSvgEl.getBoundingClientRect();\r\n\tvar viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\r\n\tvar width = rect.width;\r\n\tvar height = rect.height;\r\n\tvar viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\r\n\treturn {\r\n\t\tel: parentSvgEl,\r\n\t\tviewBox: viewBox,\r\n\t\tx: viewBox[0] / 1,\r\n\t\ty: viewBox[1] / 1,\r\n\t\tw: width / viewBox[2],\r\n\t\th: height / viewBox[3]\r\n\t}\r\n}\r\n\r\nfunction getPath(path, percent)\r\n{\r\n\tvar pathEl = is.str(path) ? selectString(path)[0] : path;\r\n\tvar p = percent || 100;\r\n\treturn function (property)\r\n\t{\r\n\t\treturn {\r\n\t\t\tproperty: property,\r\n\t\t\tel: pathEl,\r\n\t\t\tsvg: getParentSvg(pathEl),\r\n\t\t\ttotalLength: getTotalLength(pathEl) * (p / 100)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getPathProgress(path, progress)\r\n{\r\n\tfunction point(offset)\r\n\t{\r\n\t\tif (offset === void 0) offset = 0;\r\n\r\n\t\tvar l = progress + offset >= 1 ? progress + offset : 0;\r\n\t\treturn path.el.getPointAtLength(l);\r\n\t}\r\n\r\n\tvar svg = getParentSvg(path.el, path.svg);\r\n\tvar p = point();\r\n\tvar p0 = point(-1);\r\n\tvar p1 = point(+1);\r\n\tswitch (path.property)\r\n\t{\r\n\t\tcase 'x':\r\n\t\t\treturn (p.x - svg.x) * svg.w;\r\n\t\tcase 'y':\r\n\t\t\treturn (p.y - svg.y) * svg.h;\r\n\t\tcase 'angle':\r\n\t\t\treturn Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\r\n\t}\r\n}\r\n\r\n// Decompose value\r\n\r\nfunction decomposeValue(val, unit)\r\n{\r\n\t// const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\r\n\t// const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n\tvar rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n\tvar value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\r\n\treturn {\r\n\t\toriginal: value,\r\n\t\tnumbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\r\n\t\tstrings: (is.str(val) || unit) ? value.split(rgx) : []\r\n\t}\r\n}\r\n\r\n// Animatables\r\n\r\nfunction parseTargets(targets)\r\n{\r\n\tvar targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\r\n\treturn filterArray(targetsArray, function (item, pos, self)\r\n\t{\r\n\t\treturn self.indexOf(item) === pos;\r\n\t});\r\n}\r\n\r\nfunction getAnimatables(targets)\r\n{\r\n\tvar parsed = parseTargets(targets);\r\n\treturn parsed.map(function (t, i)\r\n\t{\r\n\t\treturn {target: t, id: i, total: parsed.length, transforms: {list: getElementTransforms(t)}};\r\n\t});\r\n}\r\n\r\n// Properties\r\n\r\nfunction normalizePropertyTweens(prop, tweenSettings)\r\n{\r\n\tvar settings = cloneObject(tweenSettings);\r\n\t// Override duration if easing is a spring\r\n\tif (/^spring/.test(settings.easing))\r\n\t{\r\n\t\tsettings.duration = spring(settings.easing);\r\n\t}\r\n\tif (is.arr(prop))\r\n\t{\r\n\t\tvar l = prop.length;\r\n\t\tvar isFromTo = (l === 2 && !is.obj(prop[0]));\r\n\t\tif (!isFromTo)\r\n\t\t{\r\n\t\t\t// Duration divided by the number of tweens\r\n\t\t\tif (!is.fnc(tweenSettings.duration))\r\n\t\t\t{\r\n\t\t\t\tsettings.duration = tweenSettings.duration / l;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Transform [from, to] values shorthand to a valid tween value\r\n\t\t\tprop = {value: prop};\r\n\t\t}\r\n\t}\r\n\tvar propArray = is.arr(prop) ? prop : [prop];\r\n\treturn propArray.map(function (v, i)\r\n\t{\r\n\t\tvar obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\r\n\t\t// Default delay value should only be applied to the first tween\r\n\t\tif (is.und(obj.delay))\r\n\t\t{\r\n\t\t\tobj.delay = !i ? tweenSettings.delay : 0;\r\n\t\t}\r\n\t\t// Default endDelay value should only be applied to the last tween\r\n\t\tif (is.und(obj.endDelay))\r\n\t\t{\r\n\t\t\tobj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0;\r\n\t\t}\r\n\t\treturn obj;\r\n\t}).map(function (k)\r\n\t{\r\n\t\treturn mergeObjects(k, settings);\r\n\t});\r\n}\r\n\r\n\r\nfunction flattenKeyframes(keyframes)\r\n{\r\n\tvar propertyNames = filterArray(flattenArray(keyframes.map(function (key)\r\n\t{\r\n\t\treturn Object.keys(key);\r\n\t})), function (p)\r\n\t{\r\n\t\treturn is.key(p);\r\n\t})\r\n\t\t.reduce(function (a, b)\r\n\t\t{\r\n\t\t\tif (a.indexOf(b) < 0)\r\n\t\t\t{\r\n\t\t\t\ta.push(b);\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t}, []);\r\n\tvar properties = {};\r\n\tvar loop = function (i)\r\n\t{\r\n\t\tvar propName = propertyNames[i];\r\n\t\tproperties[propName] = keyframes.map(function (key)\r\n\t\t{\r\n\t\t\tvar newKey = {};\r\n\t\t\tfor (var p in key)\r\n\t\t\t{\r\n\t\t\t\tif (is.key(p))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (p == propName)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewKey.value = key[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tnewKey[p] = key[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newKey;\r\n\t\t});\r\n\t};\r\n\r\n\tfor (var i = 0; i < propertyNames.length; i++) loop(i);\r\n\treturn properties;\r\n}\r\n\r\nfunction getProperties(tweenSettings, params)\r\n{\r\n\tvar properties = [];\r\n\tvar keyframes = params.keyframes;\r\n\tif (keyframes)\r\n\t{\r\n\t\tparams = mergeObjects(flattenKeyframes(keyframes), params);\r\n\t}\r\n\tfor (var p in params)\r\n\t{\r\n\t\tif (is.key(p))\r\n\t\t{\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: p,\r\n\t\t\t\ttweens: normalizePropertyTweens(params[p], tweenSettings)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn properties;\r\n}\r\n\r\n// Tweens\r\n\r\nfunction normalizeTweenValues(tween, animatable)\r\n{\r\n\tvar t = {};\r\n\tfor (var p in tween)\r\n\t{\r\n\t\tvar value = getFunctionValue(tween[p], animatable);\r\n\t\tif (is.arr(value))\r\n\t\t{\r\n\t\t\tvalue = value.map(function (v)\r\n\t\t\t{\r\n\t\t\t\treturn getFunctionValue(v, animatable);\r\n\t\t\t});\r\n\t\t\tif (value.length === 1)\r\n\t\t\t{\r\n\t\t\t\tvalue = value[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tt[p] = value;\r\n\t}\r\n\tt.duration = parseFloat(t.duration);\r\n\tt.delay = parseFloat(t.delay);\r\n\treturn t;\r\n}\r\n\r\nfunction normalizeTweens(prop, animatable)\r\n{\r\n\tvar previousTween;\r\n\treturn prop.tweens.map(function (t)\r\n\t{\r\n\t\tvar tween = normalizeTweenValues(t, animatable);\r\n\t\tvar tweenValue = tween.value;\r\n\t\tvar to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\r\n\t\tvar toUnit = getUnit(to);\r\n\t\tvar originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\r\n\t\tvar previousValue = previousTween ? previousTween.to.original : originalValue;\r\n\t\tvar from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\r\n\t\tvar fromUnit = getUnit(from) || getUnit(originalValue);\r\n\t\tvar unit = toUnit || fromUnit;\r\n\t\tif (is.und(to))\r\n\t\t{\r\n\t\t\tto = previousValue;\r\n\t\t}\r\n\t\ttween.from = decomposeValue(from, unit);\r\n\t\ttween.to = decomposeValue(getRelativeValue(to, from), unit);\r\n\t\ttween.start = previousTween ? previousTween.end : 0;\r\n\t\ttween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\r\n\t\ttween.easing = parseEasings(tween.easing, tween.duration);\r\n\t\ttween.isPath = is.pth(tweenValue);\r\n\t\ttween.isColor = is.col(tween.from.original);\r\n\t\tif (tween.isColor)\r\n\t\t{\r\n\t\t\ttween.round = 1;\r\n\t\t}\r\n\t\tpreviousTween = tween;\r\n\t\treturn tween;\r\n\t});\r\n}\r\n\r\n// Tween progress\r\n\r\nvar setProgressValue = {\r\n\tcss: function (t, p, v)\r\n\t{\r\n\t\treturn t.style[p] = v;\r\n\t},\r\n\tattribute: function (t, p, v)\r\n\t{\r\n\t\treturn t.setAttribute(p, v);\r\n\t},\r\n\tobject: function (t, p, v)\r\n\t{\r\n\t\treturn t[p] = v;\r\n\t},\r\n\ttransform: function (t, p, v, transforms, manual)\r\n\t{\r\n\t\ttransforms.list.set(p, v);\r\n\t\tif (p === transforms.last || manual)\r\n\t\t{\r\n\t\t\tvar str = '';\r\n\t\t\ttransforms.list.forEach(function (value, prop)\r\n\t\t\t{\r\n\t\t\t\tstr += prop + \"(\" + value + \") \";\r\n\t\t\t});\r\n\t\t\tt.style.transform = str;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Set Value helper\r\n\r\nfunction setTargetsValue(targets, properties)\r\n{\r\n\tvar animatables = getAnimatables(targets);\r\n\tanimatables.forEach(function (animatable)\r\n\t{\r\n\t\tfor (var property in properties)\r\n\t\t{\r\n\t\t\tvar value = getFunctionValue(properties[property], animatable);\r\n\t\t\tvar target = animatable.target;\r\n\t\t\tvar valueUnit = getUnit(value);\r\n\t\t\tvar originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\r\n\t\t\tvar unit = valueUnit || getUnit(originalValue);\r\n\t\t\tvar to = getRelativeValue(validateValue(value, unit), originalValue);\r\n\t\t\tvar animType = getAnimationType(target, property);\r\n\t\t\tsetProgressValue[animType](target, property, to, animatable.transforms, true);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Animations\r\n\r\nfunction createAnimation(animatable, prop)\r\n{\r\n\tvar animType = getAnimationType(animatable.target, prop.name);\r\n\tif (animType)\r\n\t{\r\n\t\tvar tweens = normalizeTweens(prop, animatable);\r\n\t\tvar lastTween = tweens[tweens.length - 1];\r\n\t\treturn {\r\n\t\t\ttype: animType,\r\n\t\t\tproperty: prop.name,\r\n\t\t\tanimatable: animatable,\r\n\t\t\ttweens: tweens,\r\n\t\t\tduration: lastTween.end,\r\n\t\t\tdelay: tweens[0].delay,\r\n\t\t\tendDelay: lastTween.endDelay\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getAnimations(animatables, properties)\r\n{\r\n\treturn filterArray(flattenArray(animatables.map(function (animatable)\r\n\t{\r\n\t\treturn properties.map(function (prop)\r\n\t\t{\r\n\t\t\treturn createAnimation(animatable, prop);\r\n\t\t});\r\n\t})), function (a)\r\n\t{\r\n\t\treturn !is.und(a);\r\n\t});\r\n}\r\n\r\n// Create Instance\r\n\r\nfunction getInstanceTimings(animations, tweenSettings)\r\n{\r\n\tvar animLength = animations.length;\r\n\tvar getTlOffset = function (anim)\r\n\t{\r\n\t\treturn anim.timelineOffset ? anim.timelineOffset : 0;\r\n\t};\r\n\tvar timings = {};\r\n\ttimings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.duration;\r\n\t})) : tweenSettings.duration;\r\n\ttimings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.delay;\r\n\t})) : tweenSettings.delay;\r\n\ttimings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.duration - anim.endDelay;\r\n\t})) : tweenSettings.endDelay;\r\n\treturn timings;\r\n}\r\n\r\nvar instanceID = 0;\r\n\r\nfunction createNewInstance(params)\r\n{\r\n\tvar instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\r\n\tvar tweenSettings = replaceObjectProps(defaultTweenSettings, params);\r\n\tvar properties = getProperties(tweenSettings, params);\r\n\tvar animatables = getAnimatables(params.targets);\r\n\tvar animations = getAnimations(animatables, properties);\r\n\tvar timings = getInstanceTimings(animations, tweenSettings);\r\n\tvar id = instanceID;\r\n\tinstanceID++;\r\n\treturn mergeObjects(instanceSettings, {\r\n\t\tid: id,\r\n\t\tchildren: [],\r\n\t\tanimatables: animatables,\r\n\t\tanimations: animations,\r\n\t\tduration: timings.duration,\r\n\t\tdelay: timings.delay,\r\n\t\tendDelay: timings.endDelay\r\n\t});\r\n}\r\n\r\n// Core\r\n\r\nvar activeInstances = [];\r\nvar pausedInstances = [];\r\nvar raf;\r\n\r\nvar engine = (function ()\r\n{\r\n\tfunction play()\r\n\t{\r\n\t\traf = requestAnimationFrame(step);\r\n\t}\r\n\r\n\tfunction step(t)\r\n\t{\r\n\t\tvar activeInstancesLength = activeInstances.length;\r\n\t\tif (activeInstancesLength)\r\n\t\t{\r\n\t\t\tvar i = 0;\r\n\t\t\twhile (i < activeInstancesLength)\r\n\t\t\t{\r\n\t\t\t\tvar activeInstance = activeInstances[i];\r\n\t\t\t\tif (!activeInstance.paused)\r\n\t\t\t\t{\r\n\t\t\t\t\tactiveInstance.tick(t);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar instanceIndex = activeInstances.indexOf(activeInstance);\r\n\t\t\t\t\tif (instanceIndex > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tactiveInstances.splice(instanceIndex, 1);\r\n\t\t\t\t\t\tactiveInstancesLength = activeInstances.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tplay();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\traf = cancelAnimationFrame(raf);\r\n\t\t}\r\n\t}\r\n\r\n\treturn play;\r\n})();\r\n\r\nfunction handleVisibilityChange()\r\n{\r\n\tif (document.hidden)\r\n\t{\r\n\t\tactiveInstances.forEach(function (ins)\r\n\t\t{\r\n\t\t\treturn ins.pause();\r\n\t\t});\r\n\t\tpausedInstances = activeInstances.slice(0);\r\n\t\tanime.running = activeInstances = [];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tpausedInstances.forEach(function (ins)\r\n\t\t{\r\n\t\t\treturn ins.play();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (typeof document !== 'undefined')\r\n{\r\n\tdocument.addEventListener('visibilitychange', handleVisibilityChange);\r\n}\r\n\r\n// Public Instance\r\n\r\nfunction anime(params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\r\n\tvar startTime = 0, lastTime = 0, now = 0;\r\n\tvar children, childrenLength = 0;\r\n\tvar resolve = null;\r\n\r\n\tfunction makePromise(instance)\r\n\t{\r\n\t\tvar promise = window.Promise && new Promise(function (_resolve)\r\n\t\t{\r\n\t\t\treturn resolve = _resolve;\r\n\t\t});\r\n\t\tinstance.finished = promise;\r\n\t\treturn promise;\r\n\t}\r\n\r\n\tvar instance = createNewInstance(params);\r\n\tvar promise = makePromise(instance);\r\n\r\n\tfunction toggleInstanceDirection()\r\n\t{\r\n\t\tvar direction = instance.direction;\r\n\t\tif (direction !== 'alternate')\r\n\t\t{\r\n\t\t\tinstance.direction = direction !== 'normal' ? 'normal' : 'reverse';\r\n\t\t}\r\n\t\tinstance.reversed = !instance.reversed;\r\n\t\tchildren.forEach(function (child)\r\n\t\t{\r\n\t\t\treturn child.reversed = instance.reversed;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction adjustTime(time)\r\n\t{\r\n\t\treturn instance.reversed ? instance.duration - time : time;\r\n\t}\r\n\r\n\tfunction resetTime()\r\n\t{\r\n\t\tstartTime = 0;\r\n\t\tlastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\r\n\t}\r\n\r\n\tfunction seekChild(time, child)\r\n\t{\r\n\t\tif (child)\r\n\t\t{\r\n\t\t\tchild.seek(time - child.timelineOffset);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction syncInstanceChildren(time)\r\n\t{\r\n\t\tif (!instance.reversePlayback)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < childrenLength; i++)\r\n\t\t\t{\r\n\t\t\t\tseekChild(time, children[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var i$1 = childrenLength; i$1--;)\r\n\t\t\t{\r\n\t\t\t\tseekChild(time, children[i$1]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setAnimationsProgress(insTime)\r\n\t{\r\n\t\tvar i = 0;\r\n\t\tvar animations = instance.animations;\r\n\t\tvar animationsLength = animations.length;\r\n\t\twhile (i < animationsLength)\r\n\t\t{\r\n\t\t\tvar anim = animations[i];\r\n\t\t\tvar animatable = anim.animatable;\r\n\t\t\tvar tweens = anim.tweens;\r\n\t\t\tvar tweenLength = tweens.length - 1;\r\n\t\t\tvar tween = tweens[tweenLength];\r\n\t\t\t// Only check for keyframes if there is more than one tween\r\n\t\t\tif (tweenLength)\r\n\t\t\t{\r\n\t\t\t\ttween = filterArray(tweens, function (t)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn (insTime < t.end);\r\n\t\t\t\t})[0] || tween;\r\n\t\t\t}\r\n\t\t\tvar elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\r\n\t\t\tvar eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\r\n\t\t\tvar strings = tween.to.strings;\r\n\t\t\tvar round = tween.round;\r\n\t\t\tvar numbers = [];\r\n\t\t\tvar toNumbersLength = tween.to.numbers.length;\r\n\t\t\tvar progress = (void 0);\r\n\t\t\tfor (var n = 0; n < toNumbersLength; n++)\r\n\t\t\t{\r\n\t\t\t\tvar value = (void 0);\r\n\t\t\t\tvar toNumber = tween.to.numbers[n];\r\n\t\t\t\tvar fromNumber = tween.from.numbers[n] || 0;\r\n\t\t\t\tif (!tween.isPath)\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue = fromNumber + (eased * (toNumber - fromNumber));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue = getPathProgress(tween.value, eased * toNumber);\r\n\t\t\t\t}\r\n\t\t\t\tif (round)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!(tween.isColor && n > 2))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = Math.round(value * round) / round;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnumbers.push(value);\r\n\t\t\t}\r\n\t\t\t// Manual Array.reduce for better performances\r\n\t\t\tvar stringsLength = strings.length;\r\n\t\t\tif (!stringsLength)\r\n\t\t\t{\r\n\t\t\t\tprogress = numbers[0];\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tprogress = strings[0];\r\n\t\t\t\tfor (var s = 0; s < stringsLength; s++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar a = strings[s];\r\n\t\t\t\t\tvar b = strings[s + 1];\r\n\t\t\t\t\tvar n$1 = numbers[s];\r\n\t\t\t\t\tif (!isNaN(n$1))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (!b)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprogress += n$1 + ' ';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprogress += n$1 + b;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\r\n\t\t\tanim.currentValue = progress;\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setCallback(cb)\r\n\t{\r\n\t\tif (instance[cb] && !instance.passThrough)\r\n\t\t{\r\n\t\t\tinstance[cb](instance);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction countIteration()\r\n\t{\r\n\t\tif (instance.remaining && instance.remaining !== true)\r\n\t\t{\r\n\t\t\tinstance.remaining--;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setInstanceProgress(engineTime)\r\n\t{\r\n\t\tvar insDuration = instance.duration;\r\n\t\tvar insDelay = instance.delay;\r\n\t\tvar insEndDelay = insDuration - instance.endDelay;\r\n\t\tvar insTime = adjustTime(engineTime);\r\n\t\tinstance.progress = minMax((insTime / insDuration) * 100, 0, 100);\r\n\t\tinstance.reversePlayback = insTime < instance.currentTime;\r\n\t\tif (children)\r\n\t\t{\r\n\t\t\tsyncInstanceChildren(insTime);\r\n\t\t}\r\n\t\tif (!instance.began && instance.currentTime > 0)\r\n\t\t{\r\n\t\t\tinstance.began = true;\r\n\t\t\tsetCallback('begin');\r\n\t\t}\r\n\t\tif (!instance.loopBegan && instance.currentTime > 0)\r\n\t\t{\r\n\t\t\tinstance.loopBegan = true;\r\n\t\t\tsetCallback('loopBegin');\r\n\t\t}\r\n\t\tif (insTime <= insDelay && instance.currentTime !== 0)\r\n\t\t{\r\n\t\t\tsetAnimationsProgress(0);\r\n\t\t}\r\n\t\tif ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration)\r\n\t\t{\r\n\t\t\tsetAnimationsProgress(insDuration);\r\n\t\t}\r\n\t\tif (insTime > insDelay && insTime < insEndDelay)\r\n\t\t{\r\n\t\t\tif (!instance.changeBegan)\r\n\t\t\t{\r\n\t\t\t\tinstance.changeBegan = true;\r\n\t\t\t\tinstance.changeCompleted = false;\r\n\t\t\t\tsetCallback('changeBegin');\r\n\t\t\t}\r\n\t\t\tsetCallback('change');\r\n\t\t\tsetAnimationsProgress(insTime);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (instance.changeBegan)\r\n\t\t\t{\r\n\t\t\t\tinstance.changeCompleted = true;\r\n\t\t\t\tinstance.changeBegan = false;\r\n\t\t\t\tsetCallback('changeComplete');\r\n\t\t\t}\r\n\t\t}\r\n\t\tinstance.currentTime = minMax(insTime, 0, insDuration);\r\n\t\tif (instance.began)\r\n\t\t{\r\n\t\t\tsetCallback('update');\r\n\t\t}\r\n\t\tif (engineTime >= insDuration)\r\n\t\t{\r\n\t\t\tlastTime = 0;\r\n\t\t\tcountIteration();\r\n\t\t\tif (!instance.remaining)\r\n\t\t\t{\r\n\t\t\t\tinstance.paused = true;\r\n\t\t\t\tif (!instance.completed)\r\n\t\t\t\t{\r\n\t\t\t\t\tinstance.completed = true;\r\n\t\t\t\t\tsetCallback('loopComplete');\r\n\t\t\t\t\tsetCallback('complete');\r\n\t\t\t\t\tif (!instance.passThrough && 'Promise' in window)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\tpromise = makePromise(instance);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tstartTime = now;\r\n\t\t\t\tsetCallback('loopComplete');\r\n\t\t\t\tinstance.loopBegan = false;\r\n\t\t\t\tif (instance.direction === 'alternate')\r\n\t\t\t\t{\r\n\t\t\t\t\ttoggleInstanceDirection();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinstance.reset = function ()\r\n\t{\r\n\t\tvar direction = instance.direction;\r\n\t\tinstance.passThrough = false;\r\n\t\tinstance.currentTime = 0;\r\n\t\tinstance.progress = 0;\r\n\t\tinstance.paused = true;\r\n\t\tinstance.began = false;\r\n\t\tinstance.loopBegan = false;\r\n\t\tinstance.changeBegan = false;\r\n\t\tinstance.completed = false;\r\n\t\tinstance.changeCompleted = false;\r\n\t\tinstance.reversePlayback = false;\r\n\t\tinstance.reversed = direction === 'reverse';\r\n\t\tinstance.remaining = instance.loop;\r\n\t\tchildren = instance.children;\r\n\t\tchildrenLength = children.length;\r\n\t\tfor (var i = childrenLength; i--;)\r\n\t\t{\r\n\t\t\tinstance.children[i].reset();\r\n\t\t}\r\n\t\tif (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1))\r\n\t\t{\r\n\t\t\tinstance.remaining++;\r\n\t\t}\r\n\t\tsetAnimationsProgress(instance.reversed ? instance.duration : 0);\r\n\t};\r\n\r\n\t// Set Value helper\r\n\r\n\tinstance.set = function (targets, properties)\r\n\t{\r\n\t\tsetTargetsValue(targets, properties);\r\n\t\treturn instance;\r\n\t};\r\n\r\n\tinstance.tick = function (t)\r\n\t{\r\n\t\tnow = t;\r\n\t\tif (!startTime)\r\n\t\t{\r\n\t\t\tstartTime = now;\r\n\t\t}\r\n\t\tsetInstanceProgress((now + (lastTime - startTime)) * anime.speed);\r\n\t};\r\n\r\n\tinstance.seek = function (time)\r\n\t{\r\n\t\tsetInstanceProgress(adjustTime(time));\r\n\t};\r\n\r\n\tinstance.pause = function ()\r\n\t{\r\n\t\tinstance.paused = true;\r\n\t\tresetTime();\r\n\t};\r\n\r\n\tinstance.play = function ()\r\n\t{\r\n\t\tif (!instance.paused)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (instance.completed)\r\n\t\t{\r\n\t\t\tinstance.reset();\r\n\t\t}\r\n\t\tinstance.paused = false;\r\n\t\tactiveInstances.push(instance);\r\n\t\tresetTime();\r\n\t\tif (!raf)\r\n\t\t{\r\n\t\t\tengine();\r\n\t\t}\r\n\t};\r\n\r\n\tinstance.reverse = function ()\r\n\t{\r\n\t\ttoggleInstanceDirection();\r\n\t\tresetTime();\r\n\t};\r\n\r\n\tinstance.restart = function ()\r\n\t{\r\n\t\tinstance.reset();\r\n\t\tinstance.play();\r\n\t};\r\n\r\n\tinstance.reset();\r\n\r\n\tif (instance.autoplay)\r\n\t{\r\n\t\tinstance.play();\r\n\t}\r\n\r\n\treturn instance;\r\n\r\n}\r\n\r\n// Remove targets from animation\r\n\r\nfunction removeTargetsFromAnimations(targetsArray, animations)\r\n{\r\n\tfor (var a = animations.length; a--;)\r\n\t{\r\n\t\tif (arrayContains(targetsArray, animations[a].animatable.target))\r\n\t\t{\r\n\t\t\tanimations.splice(a, 1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction removeTargets(targets)\r\n{\r\n\tvar targetsArray = parseTargets(targets);\r\n\tfor (var i = activeInstances.length; i--;)\r\n\t{\r\n\t\tvar instance = activeInstances[i];\r\n\t\tvar animations = instance.animations;\r\n\t\tvar children = instance.children;\r\n\t\tremoveTargetsFromAnimations(targetsArray, animations);\r\n\t\tfor (var c = children.length; c--;)\r\n\t\t{\r\n\t\t\tvar child = children[c];\r\n\t\t\tvar childAnimations = child.animations;\r\n\t\t\tremoveTargetsFromAnimations(targetsArray, childAnimations);\r\n\t\t\tif (!childAnimations.length && !child.children.length)\r\n\t\t\t{\r\n\t\t\t\tchildren.splice(c, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!animations.length && !children.length)\r\n\t\t{\r\n\t\t\tinstance.pause();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Stagger helpers\r\n\r\nfunction stagger(val, params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\tvar direction = params.direction || 'normal';\r\n\tvar easing = params.easing ? parseEasings(params.easing) : null;\r\n\tvar grid = params.grid;\r\n\tvar axis = params.axis;\r\n\tvar fromIndex = params.from || 0;\r\n\tvar fromFirst = fromIndex === 'first';\r\n\tvar fromCenter = fromIndex === 'center';\r\n\tvar fromLast = fromIndex === 'last';\r\n\tvar isRange = is.arr(val);\r\n\tvar val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\r\n\tvar val2 = isRange ? parseFloat(val[1]) : 0;\r\n\tvar unit = getUnit(isRange ? val[1] : val) || 0;\r\n\tvar start = params.start || 0 + (isRange ? val1 : 0);\r\n\tvar values = [];\r\n\tvar maxValue = 0;\r\n\treturn function (el, i, t)\r\n\t{\r\n\t\tif (fromFirst)\r\n\t\t{\r\n\t\t\tfromIndex = 0;\r\n\t\t}\r\n\t\tif (fromCenter)\r\n\t\t{\r\n\t\t\tfromIndex = (t - 1) / 2;\r\n\t\t}\r\n\t\tif (fromLast)\r\n\t\t{\r\n\t\t\tfromIndex = t - 1;\r\n\t\t}\r\n\t\tif (!values.length)\r\n\t\t{\r\n\t\t\tfor (var index = 0; index < t; index++)\r\n\t\t\t{\r\n\t\t\t\tif (!grid)\r\n\t\t\t\t{\r\n\t\t\t\t\tvalues.push(Math.abs(fromIndex - index));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar fromX = !fromCenter ? fromIndex % grid[0] : (grid[0] - 1) / 2;\r\n\t\t\t\t\tvar fromY = !fromCenter ? Math.floor(fromIndex / grid[0]) : (grid[1] - 1) / 2;\r\n\t\t\t\t\tvar toX = index % grid[0];\r\n\t\t\t\t\tvar toY = Math.floor(index / grid[0]);\r\n\t\t\t\t\tvar distanceX = fromX - toX;\r\n\t\t\t\t\tvar distanceY = fromY - toY;\r\n\t\t\t\t\tvar value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\r\n\t\t\t\t\tif (axis === 'x')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = -distanceX;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (axis === 'y')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = -distanceY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues.push(value);\r\n\t\t\t\t}\r\n\t\t\t\tmaxValue = Math.max.apply(Math, values);\r\n\t\t\t}\r\n\t\t\tif (easing)\r\n\t\t\t{\r\n\t\t\t\tvalues = values.map(function (val)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn easing(val / maxValue) * maxValue;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (direction === 'reverse')\r\n\t\t\t{\r\n\t\t\t\tvalues = values.map(function (val)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar spacing = isRange ? (val2 - val1) / maxValue : val1;\r\n\t\treturn start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\r\n\t}\r\n}\r\n\r\n// Timeline\r\n\r\nfunction timeline(params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\tvar tl = anime(params);\r\n\ttl.duration = 0;\r\n\ttl.add = function (instanceParams, timelineOffset)\r\n\t{\r\n\t\tvar tlIndex = activeInstances.indexOf(tl);\r\n\t\tvar children = tl.children;\r\n\t\tif (tlIndex > -1)\r\n\t\t{\r\n\t\t\tactiveInstances.splice(tlIndex, 1);\r\n\t\t}\r\n\r\n\t\tfunction passThrough(ins)\r\n\t\t{\r\n\t\t\tins.passThrough = true;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < children.length; i++)\r\n\t\t{\r\n\t\t\tpassThrough(children[i]);\r\n\t\t}\r\n\t\tvar insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\r\n\t\tinsParams.targets = insParams.targets || params.targets;\r\n\t\tvar tlDuration = tl.duration;\r\n\t\tinsParams.autoplay = false;\r\n\t\tinsParams.direction = tl.direction;\r\n\t\tinsParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\r\n\t\tpassThrough(tl);\r\n\t\ttl.seek(insParams.timelineOffset);\r\n\t\tvar ins = anime(insParams);\r\n\t\tpassThrough(ins);\r\n\t\tchildren.push(ins);\r\n\t\tvar timings = getInstanceTimings(children, params);\r\n\t\ttl.delay = timings.delay;\r\n\t\ttl.endDelay = timings.endDelay;\r\n\t\ttl.duration = timings.duration;\r\n\t\ttl.seek(0);\r\n\t\ttl.reset();\r\n\t\tif (tl.autoplay)\r\n\t\t{\r\n\t\t\ttl.play();\r\n\t\t}\r\n\t\treturn tl;\r\n\t};\r\n\treturn tl;\r\n}\r\n\r\nanime.version = '3.1.0';\r\nanime.speed = 1;\r\nanime.running = activeInstances;\r\nanime.remove = removeTargets;\r\nanime.get = getOriginalTargetValue;\r\nanime.set = setTargetsValue;\r\nanime.convertPx = convertPxToUnit;\r\nanime.path = getPath;\r\nanime.setDashoffset = setDashoffset;\r\nanime.stagger = stagger;\r\nanime.timeline = timeline;\r\nanime.easing = parseEasings;\r\nanime.penner = penner;\r\nanime.random = function (min, max)\r\n{\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\nexport default anime;\r\n","/*\r\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n *\r\n * This file is part of the Latte Framework package.\r\n *\r\n * For the full copyright and license information, please view the\r\n * LICENSE file that was distributed with this source code.\r\n */\r\n\r\nimport anime from \"../lib/animejs\";\r\nimport { getElementDimensions } from \"./element\";\r\nimport { getLatte } from \"../utils\";\r\n\r\nexport const easeSwiftOut = \"cubicBezier(.55, 0, .1, 1)\";\r\n\r\nexport function swapBlocks(options, fn)\r\n{\r\n\tconst {firstElement, scrollingContainer, secondElement} = options;\r\n\tconst duration = 360;\r\n\r\n\tconst firstDim = getElementDimensions(firstElement);\r\n\tconst secondDim = getElementDimensions(secondElement);\r\n\tconst scrollingDim = getElementDimensions(scrollingContainer);\r\n\r\n\tlet firstY;\r\n\tlet secondY;\r\n\r\n\tif (firstDim.offset.top > secondDim.offset.top)\r\n\t{\r\n\t\tfirstY = -secondDim.outer.height;\r\n\t\tsecondY = firstDim.outer.height;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tfirstY = secondDim.outer.height;\r\n\t\tsecondY = -firstDim.outer.height;\r\n\t}\r\n\r\n\tconst targetScrollTop = Math.max(0, ((firstDim.offset.top - scrollingDim.offset.top) + scrollingContainer.scrollTop + firstY) + (firstDim.dimensions.height / 2) - (scrollingDim.dimensions.height / 2));\r\n\r\n\tanime({targets: firstElement, translateY: firstY, duration, easing: easeSwiftOut, loop: false});\r\n\tanime({targets: secondElement, translateY: secondY, duration, easing: easeSwiftOut, loop: false});\r\n\tanime({targets: scrollingContainer, scrollTop: targetScrollTop, duration, easing: easeSwiftOut, loop: false}).finished.then(() =>\r\n\t{\r\n\t\tfirstElement.style.removeProperty(\"transform\");\r\n\t\tsecondElement.style.removeProperty(\"transform\");\r\n\r\n\t\tfn();\r\n\t});\r\n}\r\n","import { isInputOrTextarea } from \"./element\";\r\n\r\nconst {\r\n\tDOCUMENT_POSITION_FOLLOWING,\r\n\tDOCUMENT_POSITION_PRECEDING\r\n} = window.Node;\r\n\r\nexport function atEdge(elm, atEnd = false, onlyLines = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\tif (elm.selectionStart !== elm.selectionEnd)\r\n\t\t\treturn false;\r\n\r\n\t\tif (atEnd)\r\n\t\t\treturn elm.value.length === elm.selectionStart;\r\n\r\n\t\treturn elm.selectionStart === 0;\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\r\n\tif (selection.rangeCount === 0)\r\n\t\treturn false;\r\n\r\n\tconst range = selection.getRangeAt(0).cloneRange();\r\n\tconst isCollapsed = selection.isCollapsed;\r\n\tconst isForward = isForwardSelection(selection);\r\n\r\n\tif (!isCollapsed)\r\n\t\trange.collapse(!isForward);\r\n\r\n\tconst rangeRect = getRectFromRange(range);\r\n\r\n\tconst computedStyle = window.getComputedStyle(elm);\r\n\tconst lineHeight = parseInt(computedStyle.lineHeight, 10) || 0;\r\n\r\n\tif (!isCollapsed && rangeRect.height > lineHeight && isForward !== atEnd)\r\n\t\treturn false;\r\n\r\n\tconst padding = parseInt(computedStyle[`padding${atEnd ? \"Bottom\" : \"Top\"}`], 10) || 0;\r\n\tconst buffer = 3 * lineHeight / 4;\r\n\tconst elmRect = elm.getBoundingClientRect();\r\n\tconst verticalEdge = atEnd ? elmRect.bottom - padding < rangeRect.bottom + buffer : elmRect.top + padding > rangeRect.top - buffer;\r\n\r\n\tif (!verticalEdge)\r\n\t\treturn false;\r\n\r\n\tif (onlyLines)\r\n\t\treturn true;\r\n\r\n\tconst {direction} = computedStyle;\r\n\tconst isReverseDirection = direction === \"rtl\" ? atEnd : !atEnd;\r\n\r\n\tconst x = isReverseDirection ? elmRect.left + 1 : elmRect.right - 1;\r\n\tconst y = atEnd ? elmRect.bottom - buffer : elmRect.top + buffer;\r\n\tconst testRange = hiddenCaretRangeFromPoint(document, x, y, elm);\r\n\r\n\tif (!testRange)\r\n\t\treturn false;\r\n\r\n\tconst side = isReverseDirection ? \"left\" : \"right\";\r\n\tconst testRect = getRectFromRange(testRange);\r\n\r\n\treturn Math.round(testRect[side]) === Math.round(rangeRect[side]);\r\n}\r\n\r\nexport function caretPosition(elm)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tconst position = {anchorOffset: 0, focusOffset: 0};\r\n\tconst {anchorNode, anchorOffset, isCollapsed, focusNode, focusOffset} = window.getSelection();\r\n\r\n\tlet currentNode;\r\n\tlet isBeyondStart = false;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tif (!isBeyondStart && currentNode === anchorNode)\r\n\t\t{\r\n\t\t\tisBeyondStart = true;\r\n\t\t\tposition.anchorOffset += anchorOffset;\r\n\r\n\t\t\tif (!isCollapsed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tposition.focusOffset = position.anchorOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isBeyondStart)\r\n\t\t{\r\n\t\t\tposition.anchorOffset += currentNode.length;\r\n\t\t}\r\n\r\n\t\tif (!isCollapsed && currentNode === focusNode)\r\n\t\t{\r\n\t\t\tposition.focusOffset += focusOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isCollapsed)\r\n\t\t{\r\n\t\t\tposition.focusOffset += currentNode.length;\r\n\t\t}\r\n\t}\r\n\r\n\treturn position;\r\n}\r\n\r\nexport function caretRangeFromPoint(doc, x, y)\r\n{\r\n\tif (doc.caretRangeFromPoint)\r\n\t\treturn doc.caretRangeFromPoint(x, y);\r\n\r\n\tif (!doc.caretPositionFromPoint)\r\n\t\treturn null;\r\n\r\n\tconst point = doc.caretPositionFromPoint(x, y);\r\n\r\n\tif (!point)\r\n\t\treturn null;\r\n\r\n\tconst range = doc.createRange();\r\n\trange.setStart(point.offsetNode, point.offset);\r\n\trange.collapse(true);\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function getRectFromRange(range)\r\n{\r\n\tif (!range.collapsed)\r\n\t\treturn range.getBoundingClientRect();\r\n\r\n\tconst {startContainer} = range;\r\n\r\n\tif (startContainer.nodeName === \"BR\")\r\n\t{\r\n\t\tconst {parentNode} = startContainer;\r\n\t\tconst index = Array.from(parentNode.childNodes).indexOf(startContainer);\r\n\r\n\t\trange = document.createRange();\r\n\t\trange.setStart(parentNode, index);\r\n\t\trange.setEnd(parentNode, index);\r\n\t}\r\n\r\n\tlet rect = range.getClientRects()[0];\r\n\r\n\tif (!rect)\r\n\t{\r\n\t\tconst padNode = document.createTextNode(\"\\u200b\");\r\n\t\trange = range.cloneRange();\r\n\t\trange.insertNode(padNode);\r\n\t\trect = range.getClientRects()[0];\r\n\t\tpadNode.remove();\r\n\t}\r\n\r\n\treturn rect;\r\n}\r\n\r\nexport function hiddenCaretRangeFromPoint(doc, x, y, elm)\r\n{\r\n\telm.style.zIndex = \"10000\";\r\n\r\n\tconst range = caretRangeFromPoint(doc, x, y);\r\n\r\n\telm.style.zIndex = null;\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function isForwardSelection(selection)\r\n{\r\n\tconst {anchorNode, anchorOffset, focusNode, focusOffset} = selection;\r\n\tconst position = anchorNode.compareDocumentPosition(focusNode);\r\n\r\n\tif (position & DOCUMENT_POSITION_PRECEDING)\r\n\t\treturn false;\r\n\r\n\tif (position & DOCUMENT_POSITION_FOLLOWING)\r\n\t\treturn true;\r\n\r\n\tif (position === 0)\r\n\t\treturn anchorOffset <= focusOffset;\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function placeCaretAt(elm, offset = 0)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tlet currentNode;\r\n\tlet currentOffset = 0;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tcurrentOffset += currentNode.length;\r\n\r\n\t\tif (currentOffset < offset)\r\n\t\t\tcontinue;\r\n\r\n\t\tconst previousOffset = currentOffset - currentNode.length;\r\n\t\tconst realOffset = offset - previousOffset;\r\n\r\n\t\tconst range = document.createRange();\r\n\t\trange.setStart(currentNode, realOffset);\r\n\t\trange.collapse(true);\r\n\r\n\t\tconst selection = window.getSelection();\r\n\t\tselection.removeAllRanges();\r\n\t\tselection.addRange(range);\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport function placeCaretAtEdge(elm, atEnd = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tif (atEnd)\r\n\t\t\telm.selectionStart = elm.selectionEnd = elm.value.length;\r\n\t\telse\r\n\t\t\telm.selectionStart = elm.selectionEnd = 0;\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!elm.isContentEditable)\r\n\t\treturn;\r\n\r\n\tlet target = elm[atEnd ? \"lastChild\" : \"firstChild\"];\r\n\r\n\tif (!target)\r\n\t{\r\n\t\ttarget = document.createTextNode(\"\");\r\n\t\telm.appendChild(target);\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\tconst range = document.createRange();\r\n\r\n\trange.selectNodeContents(target);\r\n\trange.collapse(!atEnd);\r\n\r\n\tselection.removeAllRanges();\r\n\tselection.addRange(range);\r\n}\r\n\r\nfunction createNodeIterator(node)\r\n{\r\n\treturn document.createNodeIterator(node, NodeFilter.SHOW_TEXT, {\r\n\r\n\t\tacceptNode()\r\n\t\t{\r\n\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t}\r\n\r\n\t});\r\n}\r\n","export function handleComponentError(err, component = undefined, data = undefined)\r\n{\r\n\tconsole.error(`${component ? `Got a selection error in component ${component}` : \"Got a selection error\"}: ${err.message}`);\r\n\r\n\tif (data)\r\n\t\tconsole.dir(data);\r\n}\r\n","export function createElement(tag, props = undefined, content = undefined)\r\n{\r\n\tif (tag === \"template\")\r\n\t\ttag = \"be-template\";\r\n\r\n\tif (typeof props !== \"object\" && content === undefined)\r\n\t{\r\n\t\tcontent = props;\r\n\t\tprops = {};\r\n\t}\r\n\r\n\tconst el = document.createElement(tag);\r\n\r\n\tif (props.class)\r\n\t{\r\n\t\tif (typeof props.class === \"string\")\r\n\t\t\tel.classList.add(...props.class.split(\" \").filter(t => t.trim() !== \"\"));\r\n\t\telse\r\n\t\t\tel.classList.add(...props.class);\r\n\t}\r\n\r\n\tif (props.domProps)\r\n\t{\r\n\t\tfor (let prop in props.domProps)\r\n\t\t{\r\n\t\t\tconst val = props.domProps[prop];\r\n\r\n\t\t\tif (val === undefined)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (prop === \"innerHTML\")\r\n\t\t\t\tcontent = val;\r\n\t\t\telse\r\n\t\t\t\tel.setAttribute(prop, val);\r\n\t\t}\r\n\t}\r\n\r\n\tif (props.style)\r\n\t\tfor (let prop in props.style)\r\n\t\t\tel.style[prop] = props.style[prop];\r\n\r\n\tif (content !== undefined)\r\n\t{\r\n\t\tif (typeof content === \"string\")\r\n\t\t{\r\n\t\t\tel.innerHTML = content;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (let child of content)\r\n\t\t\t\tel.appendChild(child);\r\n\t\t}\r\n\t}\r\n\r\n\treturn el;\r\n}\r\n\r\nexport function fixHTMLString(html)\r\n{\r\n\treturn html\r\n\t\t.replace(/v-bind:/g, \":\")\r\n\t\t.replace(/v-on:/g, \"@\")\r\n\t\t.replace(/<be-template/g, \"<template\")\r\n\t\t.replace(/<\\/be-template/g, \"</template\")\r\n\t\t.replace(/=\"\"/g, \"\");\r\n}\r\n","import { swapBlocks } from \"./helper/animation\";\r\nimport { entriesAreDifferent } from \"./helper/array\";\r\nimport { placeCaretAtEdge } from \"./helper/selection\";\r\nimport { defaultFocusOptions } from \"./block\";\r\nimport { BlockRegistry } from \"./registry\";\r\nimport { getLatte } from \"./utils\";\r\nimport { handleComponentError } from \"./helper/error\";\r\nimport { createElement, fixHTMLString } from \"./create-element\";\r\n\r\nlet blockToFocus = undefined;\r\nlet blocksToUpdateChildren = [];\r\nlet blocksToUpdateEditor = [];\r\nlet isTransaction = false;\r\n\r\nexport class BlockEntry\r\n{\r\n\r\n\t#hash;\r\n\t#block;\r\n\t#editor;\r\n\t#id;\r\n\t#depth;\r\n\t#index;\r\n\t#children;\r\n\t#options;\r\n\t#parent;\r\n\r\n\t#node;\r\n\r\n\t#isRemoving = false;\r\n\t#isSelected = false;\r\n\t#isSwapping = false;\r\n\r\n\tget hash()\r\n\t{\r\n\t\treturn this.#hash;\r\n\t}\r\n\r\n\tget block()\r\n\t{\r\n\t\treturn this.#block;\r\n\t}\r\n\r\n\tget editor()\r\n\t{\r\n\t\treturn this.#editor;\r\n\t}\r\n\r\n\tget id()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tget depth()\r\n\t{\r\n\t\treturn this.#depth;\r\n\t}\r\n\r\n\tget index()\r\n\t{\r\n\t\treturn this.#index;\r\n\t}\r\n\r\n\tget children()\r\n\t{\r\n\t\treturn this.#children;\r\n\t}\r\n\r\n\tget options()\r\n\t{\r\n\t\treturn this.#options;\r\n\t}\r\n\r\n\tget nextSibbling()\r\n\t{\r\n\t\treturn this.getRelative(1);\r\n\t}\r\n\r\n\tget previousSibbling()\r\n\t{\r\n\t\treturn this.getRelative(-1);\r\n\t}\r\n\r\n\tget context()\r\n\t{\r\n\t\treturn this.#node ? this.#node.context : undefined;\r\n\t}\r\n\r\n\tget element()\r\n\t{\r\n\t\treturn this.#node ? this.#node.elm : undefined;\r\n\t}\r\n\r\n\tget parent()\r\n\t{\r\n\t\treturn this.#parent;\r\n\t}\r\n\r\n\tget isFirst()\r\n\t{\r\n\t\treturn this.#parent ? this.index === 0 : false;\r\n\t}\r\n\r\n\tget isLast()\r\n\t{\r\n\t\treturn this.#parent ? this.index === this.#parent.children.length - 1 : false;\r\n\t}\r\n\r\n\tget isRemoving()\r\n\t{\r\n\t\treturn this.#isRemoving;\r\n\t}\r\n\r\n\tget isSelected()\r\n\t{\r\n\t\treturn this.#block.id !== \"root\" && (this.#isSelected || (this.#block.canHaveChildren && this.#children.filter(c => c.isSelected).length > 0));\r\n\t}\r\n\r\n\tconstructor(editor, index, id, options, children = [], parent = undefined)\r\n\t{\r\n\t\tthis.#block = BlockRegistry.findById(id) || BlockRegistry.findById(\"missing\");\r\n\t\tthis.#editor = editor;\r\n\t\tthis.#id = id;\r\n\t\tthis.#depth = parent ? parent.#block.canHaveGroups ? parent.depth : parent.depth + 1 : 0;\r\n\t\tthis.#index = index;\r\n\t\tthis.#options = Object.assign({}, this.#block.defaultOptions, options);\r\n\t\tthis.#parent = parent;\r\n\r\n\t\tif (this.#block.canHaveGroups)\r\n\t\t\tchildren = children.map(g => ({\r\n\t\t\t\tid: this.#block.groupBlock,\r\n\t\t\t\tchildren: g\r\n\t\t\t}));\r\n\r\n\t\tif (this.#block.canHaveChildren)\r\n\t\t\tthis.#children = convertBlocks(this.#editor, children, this);\r\n\t\telse\r\n\t\t\tthis.#children = undefined;\r\n\r\n\t\tthis.#editor.$on(\"be:reset-block-selection\", () => this.select(false));\r\n\r\n\t\tthis.calculateHash();\r\n\t}\r\n\r\n\tcalculateHash()\r\n\t{\r\n\t\tthis.#hash = getLatte().api.id();\r\n\t}\r\n\r\n\tdata()\r\n\t{\r\n\t\tconst data = {\r\n\t\t\tid: this.#id,\r\n\t\t\toptions: this.#options\r\n\t\t};\r\n\r\n\t\tif (this.#block.canHaveGroups)\r\n\t\t\tdata.children = this.#children.map(c => c.children.map(d => d.data()));\r\n\t\telse if (this.#block.canHaveChildren)\r\n\t\t\tdata.children = this.#children.map(c => c.data());\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tnextTick(fn)\r\n\t{\r\n\t\tif (this.context)\r\n\t\t\tthis.context.$nextTick(fn);\r\n\t}\r\n\r\n\traf(fn)\r\n\t{\r\n\t\tgetLatte().util.dom.raf(fn);\r\n\t}\r\n\r\n\ttransaction(fn)\r\n\t{\r\n\t\tisTransaction = true;\r\n\r\n\t\tfn();\r\n\r\n\t\tisTransaction = false;\r\n\r\n\t\twhile (blocksToUpdateEditor.length > 0)\r\n\t\t\tblocksToUpdateEditor.shift().updateEditor();\r\n\r\n\t\twhile (blocksToUpdateChildren.length > 0)\r\n\t\t\tblocksToUpdateChildren.shift().updateChildren();\r\n\r\n\t\tif (blockToFocus)\r\n\t\t{\r\n\t\t\tblockToFocus[0].focus(blockToFocus[1], blockToFocus[2]);\r\n\t\t\tblockToFocus = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tfocus(options = defaultFocusOptions, fn = undefined)\r\n\t{\r\n\t\tif (isTransaction)\r\n\t\t\treturn blockToFocus = [this, options, fn];\r\n\r\n\t\toptions = Object.assign(defaultFocusOptions, options || {});\r\n\r\n\t\tconst withElement = elm =>\r\n\t\t{\r\n\t\t\tthis.editor.selection.removeAllRanges();\r\n\r\n\t\t\telm.click();\r\n\t\t\telm.focus();\r\n\r\n\t\t\tif (!elm.isContentEditable)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (options.select)\r\n\t\t\t{\r\n\t\t\t\tif (options.selectAll === false)\r\n\t\t\t\t\tplaceCaretAtEdge(elm, options.placeAtEnd);\r\n\t\t\t\telse\r\n\t\t\t\t\tdocument.execCommand(\"selectAll\");\r\n\t\t\t}\r\n\r\n\t\t\tif (fn)\r\n\t\t\t\tfn(elm);\r\n\t\t};\r\n\r\n\t\tif (this.element)\r\n\t\t\treturn withElement(this.element);\r\n\r\n\t\tthis.raf(() =>\r\n\t\t{\r\n\t\t\tif (!this.element)\r\n\t\t\t\treturn handleComponentError(new Error(\"Cannot focus, block element is undefined.\"), \"api/focus\", {block: this});\r\n\r\n\t\t\twithElement(this.element);\r\n\t\t});\r\n\t}\r\n\r\n\tgetRelative(dir)\r\n\t{\r\n\t\treturn this.#parent.children[this.#index + dir] || undefined;\r\n\t}\r\n\r\n\tinsertBlock(id, index = undefined, options = {}, focusOptions = defaultFocusOptions, parent = undefined)\r\n\t{\r\n\t\tthis.insertBlocks([{id, options}], index, focusOptions, true, parent);\r\n\t}\r\n\r\n\tinsertBlocks(spec, index = undefined, focusOptions = defaultFocusOptions, focusLast = true, parent = undefined)\r\n\t{\r\n\t\tparent = parent || this.#parent;\r\n\r\n\t\tconst blocks = convertBlocks(this.#editor, spec, parent);\r\n\t\tconst children = parent.children;\r\n\r\n\t\tif (index === undefined)\r\n\t\t\tchildren.push(...blocks);\r\n\t\telse\r\n\t\t\tchildren.splice(index, 0, ...blocks);\r\n\r\n\t\tparent.setChildren(children, true);\r\n\r\n\t\tif (!focusOptions)\r\n\t\t\treturn;\r\n\r\n\t\tblocks[focusLast ? blocks.length - 1 : 0].focus(focusOptions);\r\n\t}\r\n\r\n\trearrange(dir, animate = true)\r\n\t{\r\n\t\tif (this.#isRemoving || this.#isSwapping)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isSwapping = true;\r\n\r\n\t\tconst children = this.#parent.children;\r\n\t\tconst self = children[this.#index];\r\n\t\tconst other = children[this.#index + dir];\r\n\t\tconst L = getLatte();\r\n\r\n\t\tconst rearrange = () =>\r\n\t\t{\r\n\t\t\tchildren.splice(this.#index + dir, 0, children.splice(this.#index, 1)[0]);\r\n\r\n\t\t\tthis.#parent.setChildren(children, true);\r\n\t\t\tthis.nextTick(() => this.focus());\r\n\r\n\t\t\tthis.#isSwapping = false;\r\n\t\t};\r\n\r\n\t\tif (!self || !other)\r\n\t\t\treturn;\r\n\r\n\t\tif (!animate)\r\n\t\t\treturn rearrange();\r\n\r\n\t\tconst selfElement = L.util.dom.closest(self.element, \".be-block-mount\");\r\n\t\tconst otherElement = L.util.dom.closest(other.element, \".be-block-mount\");\r\n\r\n\t\tswapBlocks({\r\n\t\t\tfirstElement: selfElement,\r\n\t\t\tsecondElement: otherElement,\r\n\t\t\tscrollingContainer: L.util.dom.closest(selfElement, \".be-content-mount\"),\r\n\t\t\traf: L.util.dom.raf\r\n\t\t}, () => rearrange());\r\n\t}\r\n\r\n\tremove(focusSibbling = true)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isRemoving = true;\r\n\r\n\t\tif (focusSibbling)\r\n\t\t{\r\n\t\t\tif (this.previousSibbling)\r\n\t\t\t\tthis.previousSibbling.focus();\r\n\t\t\telse if (this.nextSibbling)\r\n\t\t\t\tthis.nextSibbling.focus();\r\n\t\t\telse\r\n\t\t\t\tthis.editor.onEditorClick();\r\n\t\t}\r\n\r\n\t\tconst children = this.#parent.children;\r\n\t\tchildren.splice(this.#index, 1);\r\n\r\n\t\tthis.#parent.setChildren(children, true);\r\n\t}\r\n\r\n\tselect(is = true)\r\n\t{\r\n\t\tif (this.#isRemoving || this.#isSelected === is)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isSelected = is;\r\n\t\tthis.updateEditor(false, true);\r\n\t}\r\n\r\n\tsetChildren(children, updateIndices = false, fn = undefined)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#children = children;\r\n\r\n\t\tif (updateIndices)\r\n\t\t\tthis.#children.forEach((child, index) => child.#index = index);\r\n\r\n\t\tthis.calculateHash();\r\n\t\tthis.updateChildren();\r\n\r\n\t\tif (fn)\r\n\t\t\tfn();\r\n\t}\r\n\r\n\tsetOptions(options, fn = undefined)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (!entriesAreDifferent(this.#options, options))\r\n\t\t{\r\n\t\t\tif (fn)\r\n\t\t\t\tfn();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#options = Object.assign({}, this.#options, options);\r\n\t\tthis.calculateHash();\r\n\t\tthis.updateEditor();\r\n\r\n\t\tif (fn)\r\n\t\t\tfn();\r\n\t}\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn this.block.render(h, this);\r\n\t}\r\n\r\n\trenderEditor(h)\r\n\t{\r\n\t\treturn this.#node = this.block.renderEditor(h, this);\r\n\t}\r\n\r\n\tupdateChildren()\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (isTransaction)\r\n\t\t\treturn blocksToUpdateChildren.push(this);\r\n\r\n\t\tif (!this.context)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#editor.onInput();\r\n\r\n\t\tconst blocks = this.context.$children.find(c => c.$options.name === \"BEBlocks\");\r\n\r\n\t\tif (blocks)\r\n\t\t\tblocks.updateBlocks();\r\n\t}\r\n\r\n\tupdateEditor(dataUpdate = true, bubble = false)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (isTransaction)\r\n\t\t\treturn blocksToUpdateEditor.push(this);\r\n\r\n\t\tif (bubble && this.#parent)\r\n\t\t\tthis.#parent.updateEditor(dataUpdate, bubble);\r\n\r\n\t\tif (dataUpdate)\r\n\t\t\tthis.#editor.onInput();\r\n\r\n\t\tif (this.context)\r\n\t\t\tthis.context.$forceUpdate();\r\n\t}\r\n\r\n}\r\n\r\nexport function convertBlock(editor, index, block, parent = undefined)\r\n{\r\n\treturn new BlockEntry(editor, index, block.id, block.options, block.children || [], parent);\r\n}\r\n\r\nexport function convertBlocks(editor, blocks, parent = undefined)\r\n{\r\n\treturn blocks.map((block, index) => convertBlock(editor, index, block, parent));\r\n}\r\n\r\nexport function convertToBlocks(editor, data)\r\n{\r\n\treturn new BlockEntry(editor, -1, \"root\", {}, data);\r\n}\r\n\r\nexport function convertToData(root)\r\n{\r\n\treturn root.children\r\n\t\t.filter(entry => entry !== undefined)\r\n\t\t.map(entry => entry.data());\r\n}\r\n\r\nexport function convertToHtml(root)\r\n{\r\n\tconst tmp = document.createElement(\"div\");\r\n\r\n\trenderChildren(root)\r\n\t\t.forEach(dom => tmp.appendChild(dom));\r\n\r\n\treturn fixHTMLString(tmp.innerHTML);\r\n}\r\n\r\nexport function convertToJson(root)\r\n{\r\n\treturn JSON.stringify(convertToData(root));\r\n}\r\n\r\nexport function renderChildren(entry)\r\n{\r\n\treturn entry.children\r\n\t\t.map(child => child.render(createElement))\r\n\t\t.filter(dom => !!dom);\r\n}\r\n","<template>\r\n\r\n\t<div class=\"be-block-actions\" @click.stop>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(-1)\" :disabled=\"entry.isFirst\"><i class=\"mdi mdi-arrow-up\"></i></button>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(1)\" :disabled=\"entry.isLast\"><i class=\"mdi mdi-arrow-down\"></i></button>\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.remove()\"><i class=\"mdi mdi-delete\"></i></button>\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlockActions\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEBlockActions.vue?vue&type=template&id=5a023ae2&\"\nimport script from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-group\"},[_c('div',{staticClass:\"be-settings-header\",on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}},[_c('div',{staticClass:\"be-settings-group-label\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(_vm.title)))]),(_vm.depth > -1)?_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Level @0\",_vm.depth)))]):_vm._e()]),_vm._t(\"header\"),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !_vm.isOpen && _vm.hasBody, 'mdi-chevron-up': _vm.isOpen && _vm.hasBody}})],2),(_vm.isOpen && _vm.hasBody)?_c('div',{staticClass:\"be-settings-body\",class:{'padded': _vm.padded}},[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-settings-group\">\r\n\t\t<div class=\"be-settings-header\" @click=\"isOpen = !isOpen\">\r\n\t\t\t<div class=\"be-settings-group-label\">\r\n\t\t\t\t<span>{{ title | beTranslate }}</span>\r\n\t\t\t\t<span v-if=\"depth > -1\">{{ \"Level @0\" | beTranslate(depth) }}</span>\r\n\t\t\t</div>\r\n\t\t\t<slot name=\"header\"></slot>\r\n\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !isOpen && hasBody, 'mdi-chevron-up': isOpen && hasBody}\"></i>\r\n\t\t</div>\r\n\t\t<div class=\"be-settings-body\" :class=\"{'padded': padded}\" v-if=\"isOpen && hasBody\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BESettingsGroup\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tprops: {\r\n\t\t\tdepth: {default: -1, type: Number},\r\n\t\t\topened: {default: true, type: Boolean},\r\n\t\t\tpadded: {default: false, type: Boolean},\r\n\t\t\ttitle: {default: \"Unknown group\", required: true, type: String}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisOpen: this.opened\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\thasBody()\r\n\t\t\t{\r\n\t\t\t\treturn this.$slots.default;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\r\n\t\t\topened()\r\n\t\t\t{\r\n\t\t\t\tthis.isOpen = this.opened;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsGroup.vue?vue&type=template&id=142deeca&\"\nimport script from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import BEBlockActions from \"../BEBlockActions\";\r\nimport BESettingsGroup from \"../BESettingsGroup\";\r\n\r\nexport function blockActions(h, entry)\r\n{\r\n\treturn h(BEBlockActions, {props: {entry}, slot: \"header\"});\r\n}\r\n\r\nexport function comboBox(h, title, options, getValue, setValue)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"select\", {class: \"custom-select\", domProps: {value: getValue()}, on: {change: evt => setValue(evt.target.value)}}, options.map(option =>\r\n\t\t\th(\"option\", {domProps: {value: option.value}}, option.label)\r\n\t\t))\r\n\t])\r\n}\r\n\r\nexport function optional(condition, fn, defaultValue = undefined)\r\n{\r\n\tif (!condition)\r\n\t\treturn defaultValue;\r\n\r\n\treturn fn();\r\n}\r\n\r\nexport function radioButtons(h, title, getValue, setValue, name, options)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", title),\r\n\t\toptions.map(option => h(\"label\", {class: \"d-flex align-items-center my-1 w-100\"}, [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"radio-button radio-button-primary mr-3\",\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tchecked: getValue() === option.id,\r\n\t\t\t\t\ttype: \"radio\",\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tvalue: option.id\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tclick: () => setValue(option.id)\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\th(\"span\", {class: \"m-0\"}, option.label)\r\n\t\t]))\r\n\t])\r\n}\r\n\r\nexport function rangeField(h, title, getValue, setValue, min = 0, max = 1, step = 0.1)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"div\", [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"custom-range\",\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tmin,\r\n\t\t\t\t\tmax,\r\n\t\t\t\t\tstep,\r\n\t\t\t\t\tvalue: getValue(),\r\n\t\t\t\t\ttype: \"range\"\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tinput: evt => setValue(parseInt(evt.target.value))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t])\r\n\t]);\r\n}\r\n\r\nexport function settingsGroup(h, title, children)\r\n{\r\n\treturn h(BESettingsGroup, {props: {title}}, children);\r\n}\r\n\r\nexport function settingsGroupWithDepth(h, depth, title, children)\r\n{\r\n\treturn h(BESettingsGroup, {props: {title, depth}}, children);\r\n}\r\n\r\nexport function textField(h, title, getValue, setValue)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"input\", {\r\n\t\t\tclass: \"form-control\",\r\n\t\t\tdomProps: {\r\n\t\t\t\ttype: \"text\",\r\n\t\t\t\tvalue: getValue()\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tinput: evt => setValue(evt.target.value)\r\n\t\t\t}\r\n\t\t})\r\n\t]);\r\n}\r\n\r\nexport function toggleButton(h, title, getValue, setValue)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"input\", {\r\n\t\t\tclass: \"toggle-button toggle-button-primary\",\r\n\t\t\tdomProps: {\r\n\t\t\t\tchecked: getValue(),\r\n\t\t\t\ttype: \"checkbox\"\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tinput: evt => setValue(evt.target.checked)\r\n\t\t\t}\r\n\t\t})\r\n\t]);\r\n}\r\n","import { IconButton, IconToggleButton } from \"./icon-button\";\r\nimport { optional, textField } from \"./settings\";\r\nimport { getLatte, translate } from \"../utils\";\r\n\r\nexport function commandIconToggleButton(h, executeAndFocus, entry, icon, command)\r\n{\r\n\treturn h(IconToggleButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tcan: () => document.queryCommandEnabled(command),\r\n\t\t\tpress: () => executeAndFocus(entry, () => document.execCommand(command)),\r\n\t\t\tpressed: () => document.queryCommandState(command)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function functionIconButton(h, executeAndFocus, entry, icon, onClick, disabled = false)\r\n{\r\n\treturn h(IconButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tdisabled: disabled,\r\n\t\t\tpress: () => executeAndFocus(entry, onClick)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function functionIconToggleButton(h, executeAndFocus, entry, icon, onClick, isPressed)\r\n{\r\n\treturn h(IconToggleButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tcan: () => true,\r\n\t\t\tpress: () => executeAndFocus(entry, onClick),\r\n\t\t\tpressed: isPressed\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function button(h, options, fn)\r\n{\r\n\tconst classes = [\"btn\", `btn-${options.style || \"contained\"}`];\r\n\r\n\tif (options.icon && !options.label)\r\n\t\tclasses.push(\"btn-icon\");\r\n\r\n\tif (options.color)\r\n\t\tclasses.push(`btn-${options.color}`);\r\n\r\n\tif (options.class)\r\n\t\tclasses.push(options.class);\r\n\r\n\tlet params = {\r\n\t\tattrs: {},\r\n\t\tclass: classes,\r\n\t\ton: {click: fn}\r\n\t};\r\n\r\n\tif (options.tooltip)\r\n\t\tparams.attrs[\"data-tooltip\"] = options.tooltip;\r\n\r\n\treturn h(\"button\", params, [\r\n\t\toptional(options.icon, () => icon(h, options.icon)),\r\n\t\toptional(options.label, () => h(\"span\", options.label))\r\n\t]);\r\n}\r\n\r\nexport function divider(h, vertical = false)\r\n{\r\n\treturn h(\"div\", {\r\n\t\tclass: `divider divider-${vertical ? \"vertical\" : \"horizontal\"}`\r\n\t});\r\n}\r\n\r\nexport function icon(h, icon)\r\n{\r\n\treturn h(\"i\", {\r\n\t\tclass: `mdi mdi-${icon}`\r\n\t});\r\n}\r\n\r\nexport function optionAdditionalClasses(h, entry)\r\n{\r\n\treturn textField(h, translate(\"Additional classes\"), () => entry.options.class, classes => entry.setOptions({class: classes}));\r\n}\r\n\r\nexport function optionButtons(h, title, buttons, getValue, setValue)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"div\", {class: \"d-flex my-n1\"}, buttons.map(btn => button(h, {\r\n\t\t\t...btn,\r\n\t\t\tclass: \"m-0\",\r\n\t\t\tcolor: getValue() === btn.value ? \"primary\" : \"dark\",\r\n\t\t\tstyle: getValue() === btn.value ? \"outline\" : \"text\"\r\n\t\t}, () => setValue(btn.value))))\r\n\t]);\r\n}\r\n\r\nexport function optionTextColor(h, entry)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", translate(\"Color\")),\r\n\t\th(\"div\", {class: \"be-settings-text-colors\"}, entry.editor.colorPalette.map(color => h(\"button\", {\r\n\t\t\tattrs: {\"data-tooltip\": translate(color.name)},\r\n\t\t\tclass: `color ${color.value === entry.options.color ? \"is-active\" : \"\"}`,\r\n\t\t\tstyle: {color: color.value},\r\n\t\t\ton: {click: () => entry.setOptions({color: entry.options.color === color.value ? undefined : color.value})}\r\n\t\t})))\r\n\t])\r\n}\r\n\r\nexport function optionTextSize(h, entry, min = 0.7, max = 3, step = 0.1)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", translate(\"Size\")),\r\n\t\th(\"div\", [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"custom-range\",\r\n\t\t\t\tdomProps: {min, max, step, value: entry.options.fontSize, type: \"range\"},\r\n\t\t\t\ton: {\r\n\t\t\t\t\t\"!mouseup\": () => getLatte().action.dispatch(\"latte:tooltip:hide\"),\r\n\t\t\t\t\tinput: evt =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst fontSize = parseFloat(evt.target.value);\r\n\t\t\t\t\t\tconst latte = getLatte();\r\n\t\t\t\t\t\tconst {top, left, width} = evt.target.getBoundingClientRect();\r\n\t\t\t\t\t\tconst p = (fontSize - min) / (max - min);\r\n\r\n\t\t\t\t\t\tlatte.action.dispatch(\"latte:tooltip\", {\r\n\t\t\t\t\t\t\tx: left + (p * (width - 24)) + 12,\r\n\t\t\t\t\t\t\ty: top,\r\n\t\t\t\t\t\t\tclasses: [\"tooltip-top\"],\r\n\t\t\t\t\t\t\tcontent: `${fontSize}rem`,\r\n\t\t\t\t\t\t\tposition: null\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tentry.setOptions({fontSize});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t])\r\n\t])\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { translate } from \"../utils\";\r\nimport { icon } from \"../primitive/element\";\r\n\r\nexport class MissingBlock extends BlockBase\r\n{\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"missing\", \"\", \"\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"notice notice-error notice-outline mb-3\"}, [\r\n\t\t\ticon(h, \"alert-circle\"),\r\n\t\t\th(\"div\", {class: \"d-flex flex-column\"}, [\r\n\t\t\t\th(\"strong\", translate(\"Missing block\")),\r\n\t\t\t\th(\"span\", translate(\"Block @0 is missing from the library. It won't be included in the rendered content.\", entry.id))\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","var render, staticRenderFns\nimport script from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./BEBlocks.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlocks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-expanded\",on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle-outline\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Add block\")))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.assiciatedElement,\"margin-x\":_vm.marginX,\"margin-y\":_vm.marginY},on:{\"close\":_vm.onClose,\"open\":_vm.onOpen}},[_c('div',{staticClass:\"be-inserter be-inserter-popup\"},_vm._l((_vm.blocksCategorized),function(category){return _c('div',{staticClass:\"be-inserter-category\"},[_c('div',{staticClass:\"be-inserter-header\",class:{'is-open': (_vm.currentCategory === category.id)},on:{\"click\":function($event){_vm.currentCategory = category.id}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (category.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(category.name)))]),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !(_vm.currentCategory === category.id), 'mdi-chevron-up': (_vm.currentCategory === category.id)}})]),(_vm.currentCategory === category.id)?_c('div',{staticClass:\"be-inserter-body\"},[(category.blocks.length > 0)?_vm._l((category.blocks),function(block){return _c('button',{staticClass:\"be-inserter-block\",on:{\"click\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])}):[_c('div',{staticClass:\"be-inserter-empty\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"There are no blocks in this category.\")))])])]],2):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<latte-popup ref=\"popup\" :associate-with=\"assiciatedElement\" :margin-x=\"marginX\" :margin-y=\"marginY\" @close=\"onClose\" @open=\"onOpen\">\r\n\r\n\t\t<div class=\"be-inserter be-inserter-popup\">\r\n\t\t\t<div class=\"be-inserter-category\" v-for=\"category of blocksCategorized\">\r\n\r\n\t\t\t\t<div class=\"be-inserter-header\" :class=\"{'is-open': (currentCategory === category.id)}\" @click=\"currentCategory = category.id\">\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${category.icon}`\"></i>\r\n\t\t\t\t\t<span>{{ category.name | beTranslate }}</span>\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !(currentCategory === category.id), 'mdi-chevron-up': (currentCategory === category.id)}\"></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"be-inserter-body\" v-if=\"currentCategory === category.id\">\r\n\t\t\t\t\t<template v-if=\"category.blocks.length > 0\">\r\n\r\n\t\t\t\t\t\t<button class=\"be-inserter-block\" @click=\"select(block.id)\" v-for=\"block of category.blocks\">\r\n\t\t\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\r\n\t\t\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\r\n\t\t\t\t\t\t<div class=\"be-inserter-empty\">\r\n\t\t\t\t\t\t\t<span>{{ \"There are no blocks in this category.\" | beTranslate }}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</latte-popup>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\timport { BlockRegistry, CategoryRegistry } from \"./registry\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterPopup\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tassiciatedElement: undefined,\r\n\t\t\t\tcurrentCategory: null,\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tfn: undefined,\r\n\t\t\t\tisOpen: false,\r\n\t\t\t\tmarginX: 0,\r\n\t\t\t\tmarginY: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tblocksCategorized()\r\n\t\t\t{\r\n\t\t\t\treturn CategoryRegistry.categories.map(c =>\r\n\t\t\t\t{\r\n\t\t\t\t\tc.blocks = BlockRegistry.blocks\r\n\t\t\t\t\t\t.filter(b => b.category === c.id)\r\n\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClose()\r\n\t\t\t{\r\n\t\t\t\tthis.assiciatedElement = undefined;\r\n\t\t\t\tthis.isOpen = false;\r\n\t\t\t},\r\n\r\n\t\t\tonOpen()\r\n\t\t\t{\r\n\t\t\t\tthis.currentCategory = this.currentCategory || CategoryRegistry.categories[0].id;\r\n\t\t\t\tthis.isOpen = true;\r\n\t\t\t},\r\n\r\n\t\t\topen(associateWith, fn, marginX = 0, marginY = 0)\r\n\t\t\t{\r\n\t\t\t\tthis.assiciatedElement = associateWith;\r\n\t\t\t\tthis.fn = fn;\r\n\t\t\t\tthis.marginX = marginX;\r\n\t\t\t\tthis.marginY = marginY;\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$refs.popup.close();\r\n\r\n\t\t\t\tif (this.fn)\r\n\t\t\t\t\tthis.fn(id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterPopup.vue?vue&type=template&id=62cb1ee2&\"\nimport script from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"be-inserter be-inserter-expanded\" @click=\"onClick\">\r\n\t\t<i class=\"mdi mdi-plus-circle-outline\"></i>\r\n\t\t<span>{{ \"Add block\" | beTranslate }}</span>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterExpanded\",\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEInserterPopup\r\n\t\t},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\teditorInstance(this).inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15, 9);\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"select\", id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterExpanded.vue?vue&type=template&id=28a92cd9&\"\nimport script from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-mini\"},[_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",class:{'is-open': _vm.isOpen},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-inserter be-inserter-mini\">\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" :class=\"{'is-open': isOpen}\" @click=\"onClick\">\r\n\t\t\t<i class=\"mdi mdi-plus\"></i>\r\n\t\t</button>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport { editorInstance } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {BEInserterPopup},\r\n\r\n\t\tname: \"BEInserterMini\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisOpen: false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\teditorInstance(this).inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15);\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"select\", id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterMini.vue?vue&type=template&id=59d7873e&\"\nimport script from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n\r\n\timport BEInserterMini from \"./BEInserterMini\";\r\n\timport { handleComponentError } from \"./helper/error\";\r\n\timport { divider, icon } from \"./primitive/element\";\r\n\timport { getLatte } from \"./utils\";\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlockMount\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisFirst: this.entry.isFirst,\r\n\t\t\t\tisLast: this.entry.isLast,\r\n\t\t\t\tisSelected: this.entry.isSelected,\r\n\t\t\t\th: 0,\r\n\t\t\t\tw: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.onUpdate();\r\n\t\t},\r\n\r\n\t\trender(h)\r\n\t\t{\r\n\t\t\tif (this.entry.parent && this.entry.parent.block.canHaveGroups)\r\n\t\t\t\treturn this.entry.renderEditor(h);\r\n\r\n\t\t\treturn h(\"div\", {class: this.classes, style: this.styles, on: {click: evt => this.onClick(evt)}}, [\r\n\t\t\t\tthis.renderInserter(h, this.entry.index === 0, this.entry.index, \"top\"),\r\n\t\t\t\tthis.renderInserter(h, true, this.entry.index, \"bottom\"),\r\n\t\t\t\tthis.renderOptions(h),\r\n\t\t\t\tthis.renderOptionsSide(h),\r\n\t\t\t\tthis.entry.renderEditor(h)\r\n\t\t\t]);\r\n\t\t},\r\n\r\n\t\tupdated()\r\n\t\t{\r\n\t\t\tthis.onUpdate();\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tclasses()\r\n\t\t\t{\r\n\t\t\t\tconst classes = [\"be-block-mount\", `be-block-${this.entry.block.id}`, \"be-editing\"];\r\n\r\n\t\t\t\tif (this.isSelected)\r\n\t\t\t\t\tclasses.push(\"is-selected\");\r\n\r\n\t\t\t\tif (this.isFirst)\r\n\t\t\t\t\tclasses.push(\"is-first\");\r\n\r\n\t\t\t\tif (this.isLast)\r\n\t\t\t\t\tclasses.push(\"is-last\");\r\n\r\n\t\t\t\treturn classes;\r\n\t\t\t},\r\n\r\n\t\t\tstyles()\r\n\t\t\t{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\"--editor-rect-h\": `${this.h}px`,\r\n\t\t\t\t\t\"--editor-rect-w\": `${this.w}px`\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\tif (this.entry.isSelected)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.entry.select();\r\n\t\t\t},\r\n\r\n\t\t\tonUpdate()\r\n\t\t\t{\r\n\t\t\t\tthis.isFirst = this.entry.isFirst;\r\n\t\t\t\tthis.isLast = this.entry.isLast;\r\n\t\t\t\tthis.isSelected = this.entry.isSelected;\r\n\r\n\t\t\t\tif (!this.entry.isSelected)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tconst {height, width} = this.entry.block.calculateSelectionBorder(this.entry);\r\n\t\t\t\tthis.h = height;\r\n\t\t\t\tthis.w = width;\r\n\t\t\t},\r\n\r\n\t\t\trenderInserter(h, shouldRender, index, mode)\r\n\t\t\t{\r\n\t\t\t\tif (!shouldRender || this.entry.block.id === \"root\")\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\treturn h(BEInserterMini, {\r\n\t\t\t\t\tclass: mode,\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tselect: id => this.entry.insertBlock(id, mode === \"top\" ? index : index + 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\trenderOptions(h)\r\n\t\t\t{\r\n\t\t\t\tconst {depth, isSelected} = this.entry;\r\n\r\n\t\t\t\tif (!isSelected)\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\treturn h(\"latte-portal\", {props: {depth, order: -depth, to: `be-settings-pane-${this.entry.editor.uniqueId}`}}, [\r\n\t\t\t\t\t\tthis.entry.block.renderOptions(h, this.entry)\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err)\r\n\t\t\t\t{\r\n\t\t\t\t\thandleComponentError(err, \"BEBlocks/renderOptions\", this.entry);\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trenderOptionsSide(h)\r\n\t\t\t{\r\n\t\t\t\tif (!this.entry.isSelected || this.entry.block.canHaveChildren)\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\treturn h(\"div\", {class: \"be-options-side\", on: {click: evt => L.util.dom.terminateEvent(evt)}}, [\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === 0},\r\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(-1)}\r\n\t\t\t\t\t}, [icon(h, \"arrow-up\")]),\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === this.entry.parent.children.length - 1},\r\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(1)}\r\n\t\t\t\t\t}, [icon(h, \"arrow-down\")]),\r\n\r\n\t\t\t\t\tdivider(h),\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\ton: {click: () => this.entry.remove()}\r\n\t\t\t\t\t}, [icon(h, \"delete\")])\r\n\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"","<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\timport { getLatte } from \"./utils\";\r\n\r\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\r\n\timport BEBlockMount from \"./BEBlockMount\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlocks\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tblocks: this.entry.children || []\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\trender(h)\r\n\t\t{\r\n\t\t\treturn h(\r\n\t\t\t\t\"div\",\r\n\t\t\t\t{class: \"be-blocks\"},\r\n\t\t\t\tthis.blocks && this.blocks.length > 0 ? this.renderBlocks(h) : this.renderEmptyInserter(h)\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\trenderBlocks(h)\r\n\t\t\t{\r\n\t\t\t\treturn this.blocks.map(entry => h(BEBlockMount, {\r\n\t\t\t\t\tkey: entry.hash,\r\n\t\t\t\t\tprops: {entry}\r\n\t\t\t\t}));\r\n\t\t\t},\r\n\r\n\t\t\trenderEmptyInserter(h)\r\n\t\t\t{\r\n\t\t\t\treturn [\r\n\t\t\t\t\th(BEInserterExpanded, {\r\n\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\tselect: id =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.entry.insertBlock(id, undefined, {}, {}, this.entry);\r\n\t\t\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t];\r\n\t\t\t},\r\n\r\n\t\t\tupdateBlocks()\r\n\t\t\t{\r\n\t\t\t\tthis.blocks = this.entry.children || [];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"","import { BlockBase } from \"../block\";\r\nimport BEBlocks from \"../BEBlocks\";\r\n\r\nexport class RootBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"root\", \"\", \"\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { translate } from \"../utils\";\r\nimport { blockActions, settingsGroup, textField, toggleButton } from \"../primitive/settings\";\r\nimport { optionAdditionalClasses, optionButtons } from \"../primitive/element\";\r\n\r\nconst buttonSizes = [\r\n\t{value: \"sm\", icon: \"alpha-s\", tooltip: translate(\"Small\")},\r\n\t{value: \"md\", icon: \"alpha-m\", tooltip: translate(\"Medium\")},\r\n\t{value: \"lg\", icon: \"alpha-l\", tooltip: translate(\"Large\")}\r\n];\r\n\r\nconst buttonStyles = [\r\n\t{value: \"contained\", icon: \"alpha-a-box\", tooltip: translate(\"Solid\")},\r\n\t{value: \"outline\", icon: \"alpha-a-box-outline\", tooltip: translate(\"Outline\")},\r\n\t{value: \"text\", icon: \"alpha-a\", tooltip: translate(\"Text\")}\r\n];\r\n\r\nfunction getButtonClasses(options)\r\n{\r\n\tconst classes = [\"btn\", `btn-${options.type}`, options.class];\r\n\r\n\tif (options.pillButton)\r\n\t\tclasses.push(\"btn-pill\");\r\n\r\n\tif (options.size && options.size !== \"md\")\r\n\t\tclasses.push(`btn-${options.size}`);\r\n\r\n\treturn classes.filter(c => c.trim() !== \"\").join(\" \");\r\n}\r\n\r\nexport class ButtonBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\",\r\n\t\t\tpillButton: false,\r\n\t\t\trippleButton: false,\r\n\t\t\tsize: \"md\",\r\n\t\t\ttext: translate(\"Button\"),\r\n\t\t\ttype: \"contained\",\r\n\t\t\turl: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"A button that can link to an action or url.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"button\", \"link\", \"action\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Button\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"button\", \"layout\", \"card-text\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\r\n\t\t\tclass: getButtonClasses(entry.options),\r\n\t\t\tdomProps: {href: entry.options.url},\r\n\t\t\tprops: {as: \"button\"}\r\n\t\t}, [\r\n\t\t\th(\"span\", entry.options.text)\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\r\n\t\t\tclass: getButtonClasses(entry.options),\r\n\t\t\tprops: {as: \"button\"}\r\n\t\t}, [\r\n\t\t\th(\"span\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tcontentEditable: \"plaintext-only\",\r\n\t\t\t\t\tinnerHTML: entry.options.text\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tblur: evt => entry.setOptions({text: evt.target.innerText})\r\n\t\t\t\t},\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tminWidth: \"18px\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\ttoggleButton(h, translate(\"Ripple\"), () => entry.options.rippleButton, rippleButton => entry.setOptions({rippleButton})),\r\n\t\t\ttoggleButton(h, translate(\"Pill\"), () => entry.options.pillButton, pillButton => entry.setOptions({pillButton})),\r\n\t\t\toptionButtons(h, translate(\"Size\"), buttonSizes, () => entry.options.size, size => entry.setOptions({size})),\r\n\t\t\toptionButtons(h, translate(\"Style\"), buttonStyles, () => entry.options.type, type => entry.setOptions({type})),\r\n\t\t\ttextField(h, translate(\"URL\"), () => entry.options.url, url => entry.setOptions({url})),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import BEBlocks from \"../BEBlocks\";\r\n\r\nimport { convertBlock, renderChildren } from \"../api\";\r\nimport { BlockBase } from \"../block\";\r\nimport { notNullOrUndefined, translate } from \"../utils\";\r\nimport { blockActions, optional, rangeField, settingsGroupWithDepth, toggleButton } from \"../primitive/settings\";\r\nimport { optionAdditionalClasses } from \"../primitive/element\";\r\nimport { getElementDimensions, querySelector, querySelectorAll } from \"../helper/element\";\r\nimport { range } from \"../helper/array\";\r\n\r\nconst presets = [\r\n\t{\r\n\t\tcolumns: 2,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-4\",\r\n\t\t\t\"col-12 col-lg-8\"\r\n\t\t],\r\n\t\tpreview: [33, 67]\r\n\t},\r\n\t{\r\n\t\tcolumns: 2,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-8\",\r\n\t\t\t\"col-12 col-lg-4\"\r\n\t\t],\r\n\t\tpreview: [67, 33]\r\n\t},\r\n\t{\r\n\t\tcolumns: 3,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-3\",\r\n\t\t\t\"col-12 col-lg-6\",\r\n\t\t\t\"col-12 col-lg-3\"\r\n\t\t],\r\n\t\tpreview: [25, 50, 25]\r\n\t}\r\n];\r\n\r\nexport function entryChildOrDefault(block, entry, index)\r\n{\r\n\tif (entry.children[index])\r\n\t\treturn entry.children[index];\r\n\r\n\treturn convertBlock(entry.editor, index, {id: block.groupBlock, children: []}, entry);\r\n}\r\n\r\nexport class ColumnBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"A single column used in the columns block.\";\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Column\";\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"column\", \"\", \"\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\r\n\r\n\t\treturn h(\"div\", {class: preset ? preset.classes[entry.index] : \"col-12 col-lg\"}, renderChildren(entry));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\r\n\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tclass: `be-block-column ${preset ? preset.classes[entry.index] : \"col-12 col-lg\"}`,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nexport class ColumnsBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget canHaveGroups()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget groupBlock()\r\n\t{\r\n\t\treturn \"column\";\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\",\r\n\t\t\tcolumns: 2,\r\n\t\t\tgutters: true,\r\n\t\t\tpreset: -1\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Displays blocks in a column view.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"column\", \"columns\", \"grid\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Columns\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"columns\", \"layout\", \"view-column\");\r\n\t}\r\n\r\n\tcalculateSelectionBorder(entry)\r\n\t{\r\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\r\n\r\n\t\tlet hgutters = margin.horizontal;\r\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\r\n\r\n\t\tlet columns = querySelectorAll(entry.element, \".col-12\");\r\n\t\tlet columnsLast = columns.map(column => querySelector(column, \".be-block-mount:last-child\")).filter(column => notNullOrUndefined(column));\r\n\t\tlet lastDimensions = columnsLast.map(l => getElementDimensions(l).margin.bottom);\r\n\r\n\t\treturn {\r\n\t\t\theight: dimensions.height + vgutters - Math.max(0, ...lastDimensions),\r\n\t\t\twidth: dimensions.width + hgutters\r\n\t\t};\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.options.preset] || undefined;\r\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\r\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\r\n\r\n\t\trange(0, columns, index =>\r\n\t\t{\r\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\r\n\r\n\t\t\tif (!entry.children[index])\r\n\t\t\t\tentry.children.push(child);\r\n\t\t});\r\n\r\n\t\treturn h(\"div\", {class: classes}, renderChildren(entry));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.options.preset] || undefined;\r\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\r\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\r\n\r\n\t\trange(0, columns, index =>\r\n\t\t{\r\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\r\n\r\n\t\t\tif (!entry.children[index])\r\n\t\t\t\tentry.children.push(child);\r\n\t\t});\r\n\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tkey: entry.hash,\r\n\t\t\tclass: classes,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\th(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\t\t\th(\"span\", translate(\"Preset\")),\r\n\t\t\t\th(\"div\", {class: \"d-flex flex-wrap be-settings-columns-presets\"}, presets.map((preset, index) =>\r\n\t\t\t\t\th(\"div\", {\r\n\t\t\t\t\t\t\tclass: `preset ${entry.options.preset === index ? \"is-active\" : \"\"}`,\r\n\t\t\t\t\t\t\ton: {click: () => entry.setOptions({preset: index === entry.options.preset ? -1 : index})}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tArray(preset.columns)\r\n\t\t\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t\t\t.map((_, column) => h(\"div\", {class: \"column\", style: {flexGrow: preset.preview[column]}}))\r\n\t\t\t\t\t)\r\n\t\t\t\t))\r\n\t\t\t]),\r\n\t\t\toptional(entry.options.preset === -1, () => rangeField(h, translate(\"Amount of columns\"), () => entry.options.columns, columns =>\r\n\t\t\t{\r\n\t\t\t\tentry.setChildren(entry.children.slice(0, columns));\r\n\t\t\t\tentry.setOptions({columns});\r\n\t\t\t}, 2, 6, 1)),\r\n\t\t\ttoggleButton(h, translate(\"Gutters\"), () => entry.options.gutters, gutters => entry.setOptions({gutters})),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","let decoder;\r\n\r\nexport function decodeEntities(text)\r\n{\r\n\tif (typeof text !== \"string\" || text.indexOf(\"&\") === -1)\r\n\t\treturn text;\r\n\r\n\tif (!decoder)\r\n\t{\r\n\t\tif (document.implementation && document.implementation.createHTMLDocument)\r\n\t\t\tdecoder = document.implementation.createHTMLDocument().createElement(\"textarea\");\r\n\t\telse\r\n\t\t\tdecoder = document.createElement(\"textarea\");\r\n\t}\r\n\r\n\tdecoder.innerHTML = text;\r\n\tconst decoded = decoder.textContent;\r\n\tdecoder.innerHTML = \"\";\r\n\r\n\treturn decoded.trim();\r\n}\r\n\r\nexport function removeEmptyDivs(text)\r\n{\r\n\treturn text.replace(/<div><\\/div>/g, \"\");\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nexport class PageBreakBlock extends BlockBase\r\n{\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Breaks the page into multiple pages\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"page break\", \"break\", \"pages\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Page Break\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"page-break\", \"layout\", \"format-page-break\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn document.createComment(\"page-break\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {\r\n\t\t\tattrs: {\r\n\t\t\t\t\"data-text\": translate(\"Page break\")\r\n\t\t\t},\r\n\t\t\tclass: \"be-page-break\"\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import BEBlocks from \"../BEBlocks\";\r\nimport { BlockBase } from \"../block\";\r\nimport { optionAdditionalClasses } from \"../primitive/element\";\r\nimport { blockActions, settingsGroupWithDepth } from \"../primitive/settings\";\r\nimport { renderChildren } from \"../api\";\r\n\r\nexport class WrapperBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Wraps blocks into a wrapper.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"wrapper\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Wrapper\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"wrapper\", \"layout\", \"border-none-variant\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: `row be-block-wrapper ${entry.options.class}`}, [\r\n\t\t\th(\"div\", {class: \"col-12\"}, renderChildren(entry))\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tclass: `be-block-wrapper ${entry.options.class}`,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { commandIconToggleButton, divider, functionIconButton, functionIconToggleButton } from \"./element\";\r\nimport { decodeEntities, removeEmptyDivs } from \"../helper/html-entities\";\r\nimport { atEdge, caretPosition, getRectFromRange, placeCaretAt, placeCaretAtEdge } from \"../helper/selection\";\r\nimport { optional } from \"./settings\";\r\nimport { translate } from \"../utils\";\r\nimport { handleComponentError } from \"../helper/error\";\r\nimport { BlockRegistry } from \"../registry\";\r\n\r\nconst allowAppend = [\"heading\", \"paragraph\"];\r\nconst defaultFormattingOptions = {\r\n\tboldItalicUnderline: true,\r\n\tcreateLinks: true,\r\n\ttextAlignment: true,\r\n\ttextIdentation: true\r\n};\r\n\r\nlet canUpdate = true;\r\nlet lastSelectionRange;\r\n\r\nfunction ensureTextNode(elm)\r\n{\r\n\tif (elm instanceof Element)\r\n\t{\r\n\t\tif (elm.childNodes[0])\r\n\t\t\treturn elm.childNodes[0];\r\n\r\n\t\tconst dummy = document.createTextNode(\"\");\r\n\t\telm.appendChild(dummy);\r\n\r\n\t\treturn dummy;\r\n\t}\r\n\r\n\treturn elm;\r\n}\r\n\r\nfunction executeAndFocus(entry, fn)\r\n{\r\n\tentry.focus({select: false}, elm =>\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tentry.editor.selection.setBaseAndExtent(\r\n\t\t\tlastSelectionRange.startContainer,\r\n\t\t\tlastSelectionRange.startOffset,\r\n\t\t\tlastSelectionRange.endContainer,\r\n\t\t\tlastSelectionRange.endOffset\r\n\t\t);\r\n\r\n\t\tfn();\r\n\t\tsaveLastSelection();\r\n\t});\r\n}\r\n\r\nfunction saveLastSelection()\r\n{\r\n\tcanUpdate = false;\r\n\r\n\tconst current = window.getSelection().getRangeAt(0);\r\n\tconst range = document.createRange();\r\n\r\n\ttry\r\n\t{\r\n\t\trange.setStart(ensureTextNode(current.startContainer), current.startOffset);\r\n\t\trange.setEnd(ensureTextNode(current.endContainer), current.endOffset);\r\n\r\n\t\tlastSelectionRange = range;\r\n\t}\r\n\tcatch (err)\r\n\t{\r\n\t\thandleComponentError(err, \"text/saveLastSelection\", current);\r\n\t}\r\n}\r\n\r\nexport function getStyles(options)\r\n{\r\n\treturn {\r\n\t\tmarginLeft: options.indent ? `${options.indent}rem` : undefined,\r\n\t\tcolor: options.color ? options.color : undefined,\r\n\t\tfontSize: options.fontSize ? `${options.fontSize}rem` : undefined,\r\n\t\ttextAlign: options.align || undefined\r\n\t};\r\n}\r\n\r\nexport function onBlur(evt, entry)\r\n{\r\n\tif (!canUpdate)\r\n\t\treturn;\r\n\r\n\tentry.editor.inserterList.close();\r\n\r\n\tif (entry.isRemoved)\r\n\t\treturn;\r\n\r\n\tremoveEmptyElements(evt);\r\n\tentry.setOptions({text: evt.target.innerHTML});\r\n}\r\n\r\nexport function onInput(evt, tag, entry)\r\n{\r\n\tconst text = evt.target.innerText;\r\n\r\n\tentry.updateEditor(false, true);\r\n\r\n\tif (tag !== \"p\")\r\n\t\treturn;\r\n\r\n\tconst selection = entry.editor.selection;\r\n\r\n\tif (!text.startsWith(\"/\") || selection.focusOffset < text.length)\r\n\t\treturn entry.editor.inserterList.close();\r\n\r\n\tconst searchTerm = text.substr(1).toLowerCase();\r\n\tconst foundBlocks = BlockRegistry.blocks\r\n\t\t.filter(entry => entry.keywords.map(keyword => translate(keyword)).find(keyword => keyword.startsWith(searchTerm)))\r\n\t\t.slice(0, 5)\r\n\t\t.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n\tentry.editor.inserterList.open(getRectFromRange(selection.getRangeAt(0)), foundBlocks, blockId =>\r\n\t{\r\n\t\tentry.remove();\r\n\t\tentry.insertBlock(blockId, entry.index);\r\n\t});\r\n}\r\n\r\nexport function onKeyDown(evt, entry)\r\n{\r\n\tconst {anchorOffset, focusOffset} = entry.editor.selection;\r\n\tconst text = evt.target.innerHTML;\r\n\r\n\tif (entry.editor.inserterList.isOpen)\r\n\t\treturn entry.editor.inserterList.handleKeyDown(evt);\r\n\r\n\tif (evt.key === \"Enter\" && !evt.shiftKey)\r\n\t\treturn kdHandleEnterWhenNotShift(evt, text, entry);\r\n\r\n\tif (evt.key === \"Backspace\" && text.trim() === \"\")\r\n\t\treturn kdHandleBackspaceWhenEmpty(evt, entry);\r\n\r\n\tif (evt.key === \"Backspace\" && anchorOffset === 0 && focusOffset === 0)\r\n\t\treturn kdHandleBackspaceWhenAtStart(evt, text, entry);\r\n\r\n\tif (evt.key === \"ArrowDown\" && atEdge(evt.target, true, true))\r\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowUp\" && atEdge(evt.target, false, true))\r\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowRight\" && atEdge(evt.target, true))\r\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowLeft\" && atEdge(evt.target, false))\r\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\r\n}\r\n\r\nexport function onPaste(evt, entry)\r\n{\r\n\tconst textData = evt.clipboardData.getData(\"Text\");\r\n\r\n\tif (!textData.match(/\\r\\n|\\r|\\n/))\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tconst contents = textData\r\n\t\t.split(/\\r\\n|\\r|\\n/g)\r\n\t\t.map(paragraph => paragraph.trim())\r\n\t\t.filter(paragrap => paragrap.length > 0);\r\n\r\n\tconst parent = entry.parent;\r\n\r\n\tparent.transaction(() =>\r\n\t{\r\n\t\tconst blocks = contents.map(text => ({id: \"paragraph\", options: {text}}));\r\n\t\tparent.insertBlocks(blocks, entry.index, {placeAtEnd: true}, true, parent);\r\n\t\tentry.remove();\r\n\t});\r\n}\r\n\r\nexport function render(tag, h, {options})\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tinnerHTML: options.text\r\n\t\t},\r\n\t\tstyle: getStyles(options)\r\n\t});\r\n}\r\n\r\nexport function renderEditor(tag, h, entry, placeholder = \"Start writing...\")\r\n{\r\n\tcanUpdate = true;\r\n\r\n\treturn h(tag, {\r\n\t\tattrs: {\r\n\t\t\t\"data-placeholder\": translate(placeholder)\r\n\t\t},\r\n\t\tdomProps: {\r\n\t\t\tcontentEditable: \"true\",\r\n\t\t\tinnerHTML: removeEmptyDivs(entry.options.text)\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options),\r\n\t\ton: {\r\n\t\t\tblur: evt => onBlur(evt, entry),\r\n\t\t\tinput: evt => onInput(evt, tag, entry),\r\n\t\t\tkeydown: evt => onKeyDown(evt, entry),\r\n\t\t\tpaste: evt => onPaste(evt, entry)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function renderTextFormatToolbar(h, entry, formattingOptions = {})\r\n{\r\n\tif (entry.isRemoving)\r\n\t\treturn undefined;\r\n\r\n\tformattingOptions = Object.assign({}, defaultFormattingOptions, formattingOptions);\r\n\r\n\treturn h(\"latte-portal\", {props: {to: entry.editor.toolbar.beforePortalId}}, [\r\n\t\th(\"div\", {class: \"d-flex align-items-center\", on: {mousedown: () => saveLastSelection()}}, [\r\n\t\t\th(\"div\", {class: \"divider divider-vertical\"}),\r\n\r\n\t\t\t...optional(formattingOptions.boldItalicUnderline, () => [\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-bold\", \"bold\"),\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-italic\", \"italic\"),\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-underline\", \"underline\")\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.textAlignment, () => [\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-left\", () => entry.setOptions({align: \"left\"}), () => entry.options.align === \"left\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-center\", () => entry.setOptions({align: \"center\"}), () => entry.options.align === \"center\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-right\", () => entry.setOptions({align: \"right\"}), () => entry.options.align === \"right\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-justify\", () => entry.setOptions({align: \"justify\"}), () => entry.options.align === \"justify\")\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.createLinks, () => [\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"link\", () =>\r\n\t\t\t\t{\r\n\t\t\t\t})\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.textIdentation, () => [\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-decrease\", () => entry.setOptions({indent: entry.options.indent - 1}), entry.options.indent === 0),\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-increase\", () => entry.setOptions({indent: entry.options.indent + 1}), entry.options.indent >= 10)\r\n\t\t\t], [])\r\n\t\t])\r\n\t])\r\n}\r\n\r\nexport function removeEmptyElements(evt)\r\n{\r\n\tArray.from(evt.target.querySelectorAll(\"br,b:empty,i:empty,p:empty\"))\r\n\t\t.forEach(br => br.remove());\r\n}\r\n\r\nfunction kdHandleArrowDownAtEnd(evt, entry)\r\n{\r\n\tif (!entry.nextSibbling)\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tentry.nextSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, false));\r\n}\r\n\r\nfunction kdHandleArrowUpAtStart(evt, entry)\r\n{\r\n\tif (!entry.previousSibbling)\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tentry.previousSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, true));\r\n}\r\n\r\nfunction kdHandleBackspaceWhenAtStart(evt, text, entry)\r\n{\r\n\tevt.preventDefault();\r\n\r\n\tconst sibbling = entry.previousSibbling;\r\n\r\n\tif (!sibbling || allowAppend.indexOf(sibbling.block.id) === -1)\r\n\t\treturn;\r\n\r\n\tplaceCaretAtEdge(sibbling.element, true);\r\n\r\n\tconst sibblingText = sibbling.options.text.trim();\r\n\tconst {anchorOffset} = caretPosition(sibbling.element);\r\n\tconst offsetAdjustment = (text !== \"\" && sibblingText !== \"\" && !sibblingText.endsWith(\"&nbsp;\")) ? 1 : 0;\r\n\tconst combinedText = decodeEntities(sibblingText + (offsetAdjustment === 1 ? \" \" : \"\") + text).trim();\r\n\r\n\tconst offset = anchorOffset + offsetAdjustment;\r\n\r\n\tsibbling.setOptions({text: combinedText});\r\n\tsibbling.nextTick(() =>\r\n\t{\r\n\t\tentry.remove(false);\r\n\t\tsibbling.nextTick(() => sibbling.focus({}, () => placeCaretAt(sibbling.element, offset)));\r\n\t});\r\n}\r\n\r\nfunction kdHandleBackspaceWhenEmpty(evt, entry)\r\n{\r\n\tevt.preventDefault();\r\n\r\n\tconst sibbling = entry.previousSibbling;\r\n\r\n\tif (!sibbling)\r\n\t\treturn;\r\n\r\n\tsibbling.focus({select: true, placeAtEnd: true});\r\n\tentry.remove(false);\r\n}\r\n\r\nfunction kdHandleEnterWhenNotShift(evt, text, entry)\r\n{\r\n\tentry.editor.inserterList.close();\r\n\r\n\tif (atEdge(evt.target))\r\n\t{\r\n\t\tevt.preventDefault();\r\n\t\tentry.insertBlock(\"paragraph\", entry.index, {}, null);\r\n\t\tentry.focus({placeAtEnd: false});\r\n\t}\r\n\telse if (atEdge(evt.target, true))\r\n\t{\r\n\t\tevt.preventDefault();\r\n\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \"\"}, {});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tentry.raf(() =>\r\n\t\t{\r\n\t\t\tconst childElements = Array.from(evt.target.getElementsByTagName(\"div\"));\r\n\t\t\tconst newElement = childElements[childElements.length - 1];\r\n\r\n\t\t\tif (!newElement)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst html = decodeEntities(newElement.innerHTML);\r\n\t\t\tnewElement.remove();\r\n\r\n\t\t\tentry.setOptions({text: decodeEntities(evt.target.innerHTML)});\r\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {...entry.options, text: html}, {placeAtEnd: false});\r\n\t\t});\r\n\t}\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/text\";\r\nimport { optionButtons, optionTextColor } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nconst headerTypes = [\r\n\t{value: \"h1\", icon: \"format-header-1\", tooltip: translate(\"Header 1\")},\r\n\t{value: \"h2\", icon: \"format-header-2\", tooltip: translate(\"Header 2\")},\r\n\t{value: \"h3\", icon: \"format-header-3\", tooltip: translate(\"Header 3\")},\r\n\t{value: \"h4\", icon: \"format-header-4\", tooltip: translate(\"Header 4\")},\r\n\t{value: \"h5\", icon: \"format-header-5\", tooltip: translate(\"Header 5\")},\r\n\t{value: \"h6\", icon: \"format-header-6\", tooltip: translate(\"Header 6\")}\r\n];\r\n\r\nexport class HeadingBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcolor: undefined,\r\n\t\t\ttype: \"h3\",\r\n\t\t\ttext: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Represents a header text.\"\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"header\", \"heading\", \"text\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Header\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"heading\", \"text\", \"format-header-1\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(entry.options.type, h, entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(entry.options.type, h, entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionButtons(h, translate(\"Type\"), headerTypes, () => entry.options.type, type => entry.setOptions({type}))\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { getStyles, onBlur, onKeyDown as textOnKeyDown, removeEmptyElements } from \"./text\";\r\nimport { atEdge } from \"../helper/selection\";\r\nimport { first, last } from \"../helper/array\";\r\n\r\nexport function render(h, tag, entry)\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tinnerHTML: entry.options.text\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options)\r\n\t});\r\n}\r\n\r\nexport function renderEditor(h, tag, entry)\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tcontentEditable: \"true\",\r\n\t\t\tinnerHTML: entry.options.text\r\n\t\t},\r\n\t\ton: {\r\n\t\t\tblur: evt => onBlur(evt, entry),\r\n\t\t\tinput: () => entry.updateEditor(false),\r\n\t\t\tkeydown: evt => onKeyDown(evt, entry)\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options)\r\n\t});\r\n}\r\n\r\nfunction onKeyDown(evt, entry)\r\n{\r\n\tconst list = evt.target;\r\n\tconst items = Array.from(list.getElementsByTagName(\"li\"));\r\n\r\n\tconst firstItem = first(items);\r\n\tconst lastItem = last(items);\r\n\r\n\tif (evt.key === \"Enter\")\r\n\t{\r\n\t\tremoveEmptyElements(evt);\r\n\r\n\t\tif (atEdge(list, true) && lastItem.innerHTML.trim() === \"\")\r\n\t\t{\r\n\t\t\tevt.preventDefault();\r\n\t\t\tlastItem.remove();\r\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \" \"}, {placeAtEnd: false});\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (evt.key === \"Backspace\")\r\n\t{\r\n\t\tremoveEmptyElements(evt);\r\n\r\n\t\tif (atEdge(list) && items.length === 1 && firstItem.innerHTML.trim() === \"\")\r\n\t\t{\r\n\t\t\tevt.preventDefault();\r\n\t\t\tentry.remove();\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\ttextOnKeyDown(evt, entry);\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/list\";\r\nimport { renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class OrderedListBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\ttext: \"<li></li>\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"An list that is ordered with numbers.\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"list\", \"ordered\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Ordered List\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"ordered-list\", \"text\", \"format-list-numbered\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(h, \"ol\", entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(h, \"ol\", entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { render, renderEditor, renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class ParagraphBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\tindent: 0,\r\n\t\t\ttext: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Represents some text.\"\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"paragraph\", \"text\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Paragraph\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"paragraph\", \"text\", \"format-paragraph\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(\"p\", h, entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(\"p\", h, entry, \"Start writing or type / to insert a block...\");\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/list\";\r\nimport { renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class UnorderedListBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\ttext: \"<li></li>\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"An list that is not ordered.\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"list\", \"unordered\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Unordered List\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"unordered-list\", \"text\", \"format-list-bulleted\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(h, \"ul\", entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(h, \"ul\", entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup, textField } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nexport class YouTubeEmbedBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tvideoId: \"2TuyT0knklM\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Embeds a YouTube-video.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"youtube\", \"embed\", \"video\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"YouTube video\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"youtube-embed\", \"embeds\", \"youtube\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\r\n\t\t\th(\"iframe\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\r\n\t\t\th(\"iframe\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\ttextField(h, translate(\"Video ID\"), () => entry.options.videoId, videoId => entry.setOptions({videoId}))\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import Vue from \"vue\";\r\n\r\nimport { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { getLatte, translate } from \"../utils\";\r\n\r\nexport class HtmlBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcode: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Allows you to add custom HTML code.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"html\", \"custom\", \"code\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Custom HTML\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"html\", \"other\", \"language-html5\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn getLatte().util.dom.toDOM(entry.options.code.replace(/\\t/g, \"\").replace(/\\r?\\n|\\r/g, \" \"));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"latte-tab-container\", {style: {zIndex: \"0\"}}, [\r\n\t\t\th(\"div\", {class: \"position-relative d-flex align-items-center mb-1\", style: {zIndex: \"1\"}}, [\r\n\t\t\t\th(\"strong\", translate(this.name)),\r\n\t\t\t\th(\"latte-tab-bar\", {class: \"ml-auto\"})\r\n\t\t\t]),\r\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Visual\")}}, [\r\n\t\t\t\th(Vue.extend({\r\n\t\t\t\t\ttemplate: entry.options.code\r\n\t\t\t\t\t\t.replace(/href=/g, \"data-be-href=\")\r\n\t\t\t\t\t\t.replace(/data-action=/g, \"data-be-action=\")\r\n\t\t\t\t}))\r\n\t\t\t]),\r\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Code\")}}, [\r\n\t\t\t\th(\"textarea\", {\r\n\t\t\t\t\tclass: \"form-control\",\r\n\t\t\t\t\tdomProps: {\r\n\t\t\t\t\t\trows: 10,\r\n\t\t\t\t\t\tvalue: entry.options.code\r\n\t\t\t\t\t},\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tinput: evt => entry.setOptions({code: evt.target.value})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { first } from \"./helper/array\";\r\nimport * as DefaultBlocks from \"./blocks\";\r\nimport { defaultCategories } from \"./block\";\r\n\r\nexport class BlockRegistry\r\n{\r\n\r\n\tstatic #blocks = [];\r\n\r\n\tstatic get blocks()\r\n\t{\r\n\t\treturn BlockRegistry.#blocks\r\n\t\t\t.filter(b => b.showInInserter);\r\n\t}\r\n\r\n\tstatic findById(id)\r\n\t{\r\n\t\treturn first(BlockRegistry.#blocks.filter(b => b.id === id));\r\n\t}\r\n\r\n\tstatic register(block)\r\n\t{\r\n\t\tBlockRegistry.#blocks.push(block);\r\n\t}\r\n\r\n\tstatic registerDefaults()\r\n\t{\r\n\t\tconst defaultBlocks = Object.values(DefaultBlocks);\r\n\t\tdefaultBlocks.forEach(Block => BlockRegistry.register(new Block()));\r\n\t}\r\n\r\n\tstatic unregister(block)\r\n\t{\r\n\t\tBlockRegistry.#blocks = BlockRegistry.#blocks\r\n\t\t\t.filter(b => b.id !== block.id);\r\n\t}\r\n\r\n}\r\n\r\nexport class CategoryRegistry\r\n{\r\n\r\n\tstatic #categories = [];\r\n\r\n\tstatic get categories()\r\n\t{\r\n\t\treturn CategoryRegistry.#categories;\r\n\t}\r\n\r\n\tstatic register(category)\r\n\t{\r\n\t\tCategoryRegistry.#categories.push(category);\r\n\t}\r\n\r\n\tstatic registerDefaults()\r\n\t{\r\n\t\tdefaultCategories.forEach(cat => CategoryRegistry.register(cat));\r\n\t}\r\n\r\n\tstatic unregister(category)\r\n\t{\r\n\t\tCategoryRegistry.#categories = CategoryRegistry.#categories\r\n\t\t\t.filter(c => c.id !== category.id);\r\n\t}\r\n\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-editor\",attrs:{\"spellcheck\":\"false\"}},[_c('div',{staticClass:\"be-content-pane\",on:{\"!click\":function($event){return _vm.onEditorClick($event)}}},[_c('BEToolbar',{ref:\"toolbar\",scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_vm._t(\"toolbar-before\")]},proxy:true},{key:\"after\",fn:function(){return [(false)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Last update: \"+_vm._s(_vm.moment(_vm.lastUpdate).format(\"HH:mm:ss.SSSS\"))+\" (\"+_vm._s(_vm.updateCount)+\")\")]):_vm._e(),_vm._t(\"toolbar-after\")]},proxy:true}],null,true)}),_c('div',{staticClass:\"be-content-mount\"},[_c('div',{staticClass:\"be-content-wrapper be-editing\"},[(_vm.content)?_c('BEBlockMount',{attrs:{\"entry\":_vm.content}}):_vm._e()],1)])],1),_c('BEInserterList',{ref:\"inserterList\"}),_c('BEInserterPopup',{ref:\"inserter\"}),_c('BESettingsPane',{scopedSlots:_vm._u([{key:\"before\",fn:function(api){return [_vm._t(\"settings-pane-before\",null,null,api)]}},{key:\"after\",fn:function(api){return [_vm._t(\"settings-pane-after\",null,null,api)]}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",staticClass:\"be-inserter be-inserter-list\",attrs:{\"animate-transform\":false,\"margin-x\":-27,\"margin-y\":15}},[(_vm.blocks.length > 0)?_c('nav',{staticClass:\"nav nav-list\"},[_vm._l((_vm.blocks),function(block,index){return [_c('latte-ripple',{staticClass:\"nav-link\",class:{'is-active': _vm.selectedIndex === index},attrs:{\"as\":\"button\"},on:{\"mousedown\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])]})],2):_c('div',{staticClass:\"p-3 text-center\",staticStyle:{\"max-width\":\"240px\"}},[_c('i',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"No blocks found matching your search term.\")))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<latte-popup class=\"be-inserter be-inserter-list\" ref=\"popup\" :animate-transform=\"false\" :margin-x=\"-27\" :margin-y=\"15\">\r\n\t\t<nav class=\"nav nav-list\" v-if=\"blocks.length > 0\">\r\n\r\n\t\t\t<template v-for=\"(block, index) of blocks\">\r\n\r\n\t\t\t\t<latte-ripple as=\"button\" class=\"nav-link\" :class=\"{'is-active': selectedIndex === index}\" @mousedown=\"select(block.id)\">\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\r\n\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\r\n\t\t\t\t</latte-ripple>\r\n\r\n\t\t\t</template>\r\n\r\n\t\t</nav>\r\n\t\t<div class=\"p-3 text-center\" style=\"max-width: 240px\" v-else>\r\n\r\n\t\t\t<i>{{ \"No blocks found matching your search term.\" | beTranslate }}</i>\r\n\r\n\t\t</div>\r\n\t</latte-popup>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterList\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tblocks: [],\r\n\t\t\t\tfn: undefined,\r\n\t\t\t\tselectedIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tisOpen()\r\n\t\t\t{\r\n\t\t\t\treturn this.popup.isOpen;\r\n\t\t\t},\r\n\r\n\t\t\tpopup()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.popup;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tclose()\r\n\t\t\t{\r\n\t\t\t\tif (!this.isOpen)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.popup.close();\r\n\t\t\t},\r\n\r\n\t\t\thandleKeyDown(evt)\r\n\t\t\t{\r\n\t\t\t\tswitch (evt.key)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tthis.selectedIndex = (this.selectedIndex + 1) % this.blocks.length;\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\t\tthis.selectedIndex = this.selectedIndex === 0 ? this.blocks.length - 1 : this.selectedIndex - 1;\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\tif (this.blocks.length > 0)\r\n\t\t\t\t\t\t\tthis.select(this.blocks[this.selectedIndex].id);\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\topen(rect, blocks, fn)\r\n\t\t\t{\r\n\t\t\t\tthis.blocks = blocks;\r\n\t\t\t\tthis.fn = fn;\r\n\t\t\t\tthis.selectedIndex = 0;\r\n\t\t\t\tthis.popup.rect = rect;\r\n\t\t\t\tthis.popup.open();\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tif (this.fn)\r\n\t\t\t\t\tthis.fn(id);\r\n\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterList.vue?vue&type=template&id=33ad8ded&\"\nimport script from \"./BEInserterList.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-pane\"},[_vm._t(\"before\",null,null,{blockSettingsShown: _vm.portalHasPassengers}),[(_vm.portalHasPassengers)?_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Block settings\")))])]):_vm._e(),_c('latte-portal-target',{ref:\"portal\",attrs:{\"name\":_vm.uniqueId,\"multiple\":\"\"}})],_vm._t(\"after\",null,null,{blockSettingsShown: _vm.portalHasPassengers})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-settings-pane\">\r\n\t\t<slot name=\"before\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\r\n\r\n\t\t<template>\r\n\t\t\t<div class=\"panel-header\" v-if=\"portalHasPassengers\">\r\n\t\t\t\t<span class=\"panel-title\">{{ \"Block settings\" | beTranslate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<latte-portal-target ref=\"portal\" :name=\"uniqueId\" multiple></latte-portal-target>\r\n\t\t</template>\r\n\r\n\t\t<slot name=\"after\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BESettingsPane\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tisInitialized: false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.isInitialized = true;\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tportalHasPassengers()\r\n\t\t\t{\r\n\t\t\t\tif (!this.isInitialized || !this.$refs.portal)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\treturn this.$refs.portal.passengers.length > 0;\r\n\t\t\t},\r\n\r\n\t\t\tuniqueId()\r\n\t\t\t{\r\n\t\t\t\treturn `be-settings-pane-${this.editor.uniqueId}`;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsPane.vue?vue&type=template&id=1d934cfd&\"\nimport script from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-header be-toolbar\"},[_c('span'),_c('button',{staticClass:\"btn btn-outline btn-primary\",on:{\"click\":_vm.onInserterClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Insert\")))])]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('View code')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-code-tags\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Undo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-undo\"})]),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Redo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-redo\"})]),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.beforePortalId,\"multiple\":\"\"}}),_vm._t(\"before\"),_c('div',{staticClass:\"mx-auto\"}),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.afterPortalId,\"multiple\":\"\"}}),_vm._t(\"after\"),_c('span')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('View hierarchy')}},[_c('i',{staticClass:\"mdi mdi-notification-clear-all mdi-flip-v\"}),_c('latte-portal',{attrs:{\"to\":\"be-hierarchy\"}},[_c('div',{staticClass:\"panel panel-blank be-hierarchy\"},[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title mr-3\"},[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Hierarchy\")))]),_c('latte-ripple',{staticClass:\"btn btn-outline btn-error ml-auto\",attrs:{\"as\":\"button\"},on:{\"click\":_vm.deleteEverything}},[_c('i',{staticClass:\"mdi mdi-delete\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Remove all\")))])])],1),(_vm.entry)?_c('div',{staticClass:\"be-hierarchy-group\"},_vm._l((_vm.entry.children),function(child){return _c('BEHierarchyItem',{key:child.hash,attrs:{\"entry\":child}})}),1):_vm._e()])]),_c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.$el,\"margin-x\":-9,\"margin-y\":6}},[_c('latte-portal-target',{attrs:{\"name\":\"be-hierarchy\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-hierarchy-item\"},[_c('div',{staticClass:\"be-hierarchy-header\"},[_c('div',{staticClass:\"block-name\"},[_vm._v(_vm._s(_vm.entry.block.name))]),_c('div',{staticClass:\"block-actions\"},[_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"data-close\":\"\"},on:{\"click\":function($event){return _vm.entry.focus()}}},[_c('i',{staticClass:\"mdi mdi-cursor-default-outline\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isFirst},on:{\"click\":function($event){return _vm.entry.rearrange(-1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-up\"})]),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isLast},on:{\"click\":function($event){return _vm.entry.rearrange(1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-down\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",on:{\"click\":function($event){return _vm.entry.remove()}}},[_c('i',{staticClass:\"mdi mdi-delete\"})])])]),_c('div',{staticClass:\"be-hierarchy-group\"},_vm._l((_vm.entry.children),function(child){return _c('BEHierarchyItem',{key:child.hash,attrs:{\"entry\":child}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-hierarchy-item\">\r\n\t\t<div class=\"be-hierarchy-header\">\r\n\t\t\t<div class=\"block-name\">{{ entry.block.name }}</div>\r\n\t\t\t<div class=\"block-actions\">\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" data-close @click=\"entry.focus()\"><i class=\"mdi mdi-cursor-default-outline\"></i></button>\r\n\t\t\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" :disabled=\"entry.isFirst\" @click=\"entry.rearrange(-1)\"><i class=\"mdi mdi-arrow-up\"></i></button>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" :disabled=\"entry.isLast\" @click=\"entry.rearrange(1)\"><i class=\"mdi mdi-arrow-down\"></i></button>\r\n\t\t\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" @click=\"entry.remove()\"><i class=\"mdi mdi-delete\"></i></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"be-hierarchy-group\">\r\n\t\t\t<BEHierarchyItem :entry=\"child\" :key=\"child.hash\" v-for=\"child of entry.children\"></BEHierarchyItem>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEHierarchyItem\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchyItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchyItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEHierarchyItem.vue?vue&type=template&id=78c8913d&\"\nimport script from \"./BEHierarchyItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BEHierarchyItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<button class=\"btn btn-icon btn-text btn-dark\" :data-tooltip=\"'View hierarchy' | beTranslate\">\r\n\t\t<i class=\"mdi mdi-notification-clear-all mdi-flip-v\"></i>\r\n\r\n\t\t<latte-portal to=\"be-hierarchy\">\r\n\t\t\t<div class=\"panel panel-blank be-hierarchy\">\r\n\t\t\t\t<div class=\"panel-header\">\r\n\t\t\t\t\t<span class=\"panel-title mr-3\">{{ \"Hierarchy\" | beTranslate }}</span>\r\n\t\t\t\t\t<latte-ripple as=\"button\" class=\"btn btn-outline btn-error ml-auto\" @click=\"deleteEverything\">\r\n\t\t\t\t\t\t<i class=\"mdi mdi-delete\"></i>\r\n\t\t\t\t\t\t<span>{{ \"Remove all\" | beTranslate }}</span>\r\n\t\t\t\t\t</latte-ripple>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"be-hierarchy-group\" v-if=\"entry\">\r\n\t\t\t\t\t<BEHierarchyItem :entry=\"child\" :key=\"child.hash\" v-for=\"child of entry.children\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</latte-portal>\r\n\r\n\t\t<latte-popup ref=\"popup\" :associate-with=\"$el\" :margin-x=\"-9\" :margin-y=\"6\">\r\n\t\t\t<latte-portal-target name=\"be-hierarchy\"></latte-portal-target>\r\n\t\t</latte-popup>\r\n\t</button>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\r\n\timport BEHierarchyItem from \"./BEHierarchyItem\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {BEHierarchyItem},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tname: \"BEHierarchy\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tentry: undefined\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tthis.editor.$off(\"be:content-ready\", this.updateEntry);\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.editor.$on(\"be:content-ready\", this.updateEntry);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tdeleteEverything()\r\n\t\t\t{\r\n\t\t\t\tif (!this.entry)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.entry.children.forEach(c => c.remove());\r\n\t\t\t},\r\n\r\n\t\t\tupdateEntry(entry)\r\n\t\t\t{\r\n\t\t\t\tthis.entry = entry;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEHierarchy.vue?vue&type=template&id=86563558&\"\nimport script from \"./BEHierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./BEHierarchy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"panel-header be-toolbar\">\r\n\t\t<span></span>\r\n\r\n\t\t<button class=\"btn btn-outline btn-primary\" @click=\"onInserterClick\"><i class=\"mdi mdi-plus-circle\"></i><span>{{ \"Insert\" | beTranslate }}</span></button>\r\n\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'View code' | beTranslate\"><i class=\"mdi mdi-code-tags\"></i></button>\r\n\t\t<!--\t\t<BEHierarchy/>-->\r\n\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Undo' | beTranslate\"><i class=\"mdi mdi-undo\"></i></button>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Redo' | beTranslate\"><i class=\"mdi mdi-redo\"></i></button>\r\n\r\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"beforePortalId\" multiple></latte-portal-target>\r\n\t\t<slot name=\"before\"></slot>\r\n\r\n\t\t<div class=\"mx-auto\"></div>\r\n\r\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"afterPortalId\" multiple></latte-portal-target>\r\n\t\t<slot name=\"after\"></slot>\r\n\r\n\t\t<span></span>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, getLatte, translate } from \"./utils\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport BEHierarchy from \"./BEHierarchy\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEHierarchy,\r\n\t\t\tBEInserterPopup\r\n\t\t},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tname: \"BEToolbar\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this)\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tafterPortalId()\r\n\t\t\t{\r\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-after`;\r\n\t\t\t},\r\n\r\n\t\t\tbeforePortalId()\r\n\t\t\t{\r\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-before`;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tnotImplemented()\r\n\t\t\t{\r\n\t\t\t\tL.ui.message.alert(\"Notice\", \"This feature is not yet implemented.\");\r\n\t\t\t},\r\n\r\n\t\t\tonInserterClick(evt)\r\n\t\t\t{\r\n\t\t\t\tconst el = L.util.dom.closest(evt.target, \".btn\").querySelector(\"i.mdi\");\r\n\r\n\t\t\t\tthis.editor.inserter.open(el, id => this.editor.content.insertBlock(id, undefined, {}, {}, this.editor.content), -15, 12);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEToolbar.vue?vue&type=template&id=542dbdb4&\"\nimport script from \"./BEToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./BEToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"be-editor\" spellcheck=\"false\">\r\n\r\n\t\t<div class=\"be-content-pane\" @click.capture=\"onEditorClick\">\r\n\t\t\t<BEToolbar ref=\"toolbar\">\r\n\t\t\t\t<template #before>\r\n\t\t\t\t\t<slot name=\"toolbar-before\"></slot>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template #after>\r\n\t\t\t\t\t<span class=\"text-muted\" v-if=\"false\">Last update: {{ moment(lastUpdate).format(\"HH:mm:ss.SSSS\") }} ({{ updateCount }})</span>\r\n\t\t\t\t\t<slot name=\"toolbar-after\"></slot>\r\n\t\t\t\t</template>\r\n\t\t\t</BEToolbar>\r\n\r\n\t\t\t<div class=\"be-content-mount\">\r\n\t\t\t\t<div class=\"be-content-wrapper be-editing\">\r\n\t\t\t\t\t<BEBlockMount :entry=\"content\" v-if=\"content\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<BEInserterList ref=\"inserterList\"/>\r\n\t\t<BEInserterPopup ref=\"inserter\"/>\r\n\r\n\t\t<BESettingsPane>\r\n\t\t\t<template #before=\"api\">\r\n\t\t\t\t<slot name=\"settings-pane-before\" v-bind=\"api\"></slot>\r\n\t\t\t</template>\r\n\t\t\t<template #after=\"api\">\r\n\t\t\t\t<slot name=\"settings-pane-after\" v-bind=\"api\"></slot>\r\n\t\t\t</template>\r\n\t\t</BESettingsPane>\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { getLatte } from \"./utils\";\r\n\r\n\timport BEBlocks from \"./BEBlocks\";\r\n\timport BEBlockMount from \"./BEBlockMount\";\r\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\r\n\timport BEInserterList from \"./BEInserterList\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport BESettingsPane from \"./BESettingsPane\";\r\n\timport BEToolbar from \"./BEToolbar\";\r\n\r\n\timport { convertToBlocks, convertToData } from \"./api\";\r\n\r\n\tconst L = getLatte();\r\n\tconst defaultColorPalette = [\r\n\t\t{name: \"Primary\", value: \"rgb(var(--color-primary))\"},\r\n\t\t{name: \"Black\", value: \"rgb(0, 0, 0)\"},\r\n\t\t{name: \"White\", value: \"rgb(255, 255, 255)\"},\r\n\t\t{name: \"Chili\", value: \"rgb(194, 24, 7)\"},\r\n\t\t{name: \"Ginger\", value: \"rgb(247, 54, 43)\"},\r\n\t\t{name: \"Pineapple\", value: \"rgb(255, 173, 0)\"},\r\n\t\t{name: \"Lemon\", value: \"rgb(245, 214, 0)\"},\r\n\t\t{name: \"Lime\", value: \"rgb(110, 204, 84)\"},\r\n\t\t{name: \"Fern\", value: \"rgb(79, 121, 66)\"},\r\n\t\t{name: \"Elderflower\", value: \"rgb(74, 204, 207)\"},\r\n\t\t{name: \"Cream Soda\", value: \"rgb(0, 171, 255)\"},\r\n\t\t{name: \"Sapphire\", value: \"rgb(24, 103, 192)\"},\r\n\t\t{name: \"Blackberry\", value: \"rgb(69, 56, 140)\"},\r\n\t\t{name: \"Grape\", value: \"rgb(102, 61, 166)\"},\r\n\t\t{name: \"Blueberry\", value: \"rgb(143, 120, 232)\"},\r\n\t\t{name: \"Tropical\", value: \"rgb(204, 120, 209)\"},\r\n\t\t{name: \"Bubble Gum\", value: \"rgb(247, 140, 191)\"},\r\n\t\t{name: \"Raspberry\", value: \"rgb(252, 0, 122)\"},\r\n\t\t{name: \"Hibiscus\", value: \"rgb(180, 55, 87)\"},\r\n\t\t{name: \"Tortilla\", value: \"rgb(153, 121, 80)\"},\r\n\t\t{name: \"Flint\", value: \"rgb(126, 123, 158)\"},\r\n\t\t{name: \"Slate\", value: \"rgb(63, 59, 84)\"}\r\n\t];\r\n\tconst testBlocks = [\r\n\t\t{\r\n\t\t\tid: \"columns\",\r\n\t\t\tchildren: [\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"youtube-embed\",\r\n\t\t\t\t\t\toptions: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"heading\",\r\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Gavin DeGraw - Soldier\"}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"paragraph\",\r\n\t\t\t\t\t\toptions: {text: \"Nice music from YouTube.\"}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"heading\",\r\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Related videos\"}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t],\r\n\t\t\toptions: {\r\n\t\t\t\tpreset: 1\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEEditor\",\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEBlockMount,\r\n\t\t\tBEBlocks,\r\n\t\t\tBEInserterExpanded,\r\n\t\t\tBEInserterList,\r\n\t\t\tBEInserterPopup,\r\n\t\t\tBESettingsPane,\r\n\t\t\tBEToolbar\r\n\t\t},\r\n\r\n\t\tprops: {\r\n\t\t\tcolorPalette: {default: () => defaultColorPalette, type: Array},\r\n\t\t\tvalue: {default: () => testBlocks, type: Array}\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tdocument.removeEventListener(\"selectionchange\", this.onSelectionChanged);\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tlastUpdate: Date.now(),\r\n\t\t\t\tupdateCount: 0,\r\n\t\t\t\tuniqueId: L.api.id(),\r\n\t\t\t\tcontent: undefined,\r\n\t\t\t\tselection: window.getSelection()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tdocument.addEventListener(\"selectionchange\", this.onSelectionChanged, {passive: true});\r\n\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"div\");\r\n\r\n\t\t\tthis.onValueChanged();\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tinserter()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.inserter;\r\n\t\t\t},\r\n\r\n\t\t\tinserterList()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.inserterList;\r\n\t\t\t},\r\n\r\n\t\t\ttoolbar()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.toolbar;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonEditorClick(evt = undefined)\r\n\t\t\t{\r\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-options-side\") !== null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-toolbar\") !== null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.$emit(\"be:reset-block-selection\");\r\n\t\t\t},\r\n\r\n\t\t\tonInput()\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"be:content-ready\", this.content);\r\n\t\t\t\tthis.$emit(\"change\", convertToData(this.content));\r\n\t\t\t\tthis.lastUpdate = Date.now();\r\n\t\t\t\tthis.updateCount++;\r\n\t\t\t},\r\n\r\n\t\t\tonSelectionChanged()\r\n\t\t\t{\r\n\t\t\t\t/** @var {*} anchorElement */\r\n\t\t\t\tconst anchorElement = this.selection.anchorNode;\r\n\r\n\t\t\t\tif (L.util.dom.closest(anchorElement, this.$el) === null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.$emit(\"be:selection-changed\", this.selection);\r\n\t\t\t},\r\n\r\n\t\t\tonValueChanged()\r\n\t\t\t{\r\n\t\t\t\tthis.content = convertToBlocks(this, this.value);\r\n\t\t\t\tthis.$emit(\"be:content-ready\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\r\n\t\t\tvalue()\r\n\t\t\t{\r\n\t\t\t\tthis.content = undefined;\r\n\t\t\t\tthis.$nextTick(() => this.onValueChanged());\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEEditor.vue?vue&type=template&id=7408aee1&\"\nimport script from \"./BEEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BEEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { BlockRegistry, CategoryRegistry } from \"./registry\";\r\nimport \"./scss/index.scss\";\r\n\r\nexport { default as BEEditor } from \"./BEEditor.vue\";\r\n\r\nBlockRegistry.registerDefaults();\r\nCategoryRegistry.registerDefaults();\r\n\r\n","<!--\r\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n  -\r\n  - This file is part of the Latte UI package.\r\n  -\r\n  - For the full copyright and license information, please view the\r\n  - LICENSE file that was distributed with this source code.\r\n  -->\r\n\r\n<template>\r\n\r\n\t<div class=\"panel radius-none\" style=\"height: calc(100vh - 60px)\">\r\n\t\t<BEEditor v-model=\"content\">\r\n\t\t\t<template #settings-pane-after=\"{ blockSettingsShown }\">\r\n\t\t\t\t<template v-if=\"!blockSettingsShown\">\r\n\t\t\t\t\t<div class=\"panel-header\"><span class=\"panel-title\">Page settings</span></div>\r\n\t\t\t\t\t<BESettingsGroup title=\"General\" :padded=\"true\">\r\n\t\t\t\t\t\tThis panel was added with a slot.\r\n\t\t\t\t\t</BESettingsGroup>\r\n\t\t\t\t\t<BESettingsGroup title=\"View\" :opened=\"false\" :padded=\"true\">\r\n\t\t\t\t\t\tThis panel was also added with a slot.\r\n\t\t\t\t\t</BESettingsGroup>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</BEEditor>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BEEditor } from \"../../../block-editor/src\";\r\n\r\n\timport BESettingsGroup from \"../../../block-editor/src/BESettingsGroup\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {\r\n\t\t\tBESettingsGroup,\r\n\t\t\tBEEditor\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tcontent: [{\"id\": \"heading\", \"options\": {\"color\": \"rgb(247, 54, 43)\", \"type\": \"h1\", \"text\": \"This is my amazing page!\"}},\r\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in lorem eget est commodo vulputate eu quis ipsum. Nam dictum quis dui eget cursus. Phasellus tellus sapien, auctor et cursus eget, tempus ut justo. Donec placerat scelerisque nibh, eu consectetur elit imperdiet eu. Curabitur id ligula quis eros ullamcorper elementum. Fusce diam nibh, porttitor vel sagittis et, hendrerit in mauris. Nam elementum nibh in ipsum tempus, non semper lorem fringilla. In turpis dolor, venenatis lobortis malesuada non, posuere tempor tortor. Cras interdum mauris ut lorem volutpat, sit amet varius ex scelerisque.&nbsp;Suspendisse quam urna, varius ut pretium quis, lacinia a eros. Duis non nisi eu neque luctus ultricies et vel lectus.&nbsp;\"}},\r\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"right\", \"color\": \"rgb(126, 123, 158)\", \"fontSize\": 1.35, \"indent\": 10, \"text\": \"<i>\\\"Aenean varius pretium tortor eu porttitor. Vivamus finibus sagittis tellus, sit amet porta tortor tempor ac. Aenean ac mauris lobortis ipsum feugiat volutpat nec sit amet ex.\\\"</i>\"}},\r\n\t\t\t\t\t{\"id\": \"button\", \"options\": {\"class\": \"mx-auto mb-3\", \"pillButton\": false, \"rippleButton\": true, \"size\": \"lg\", \"text\": \"My awesome button\", \"type\": \"outline\", \"url\": \"\"}},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"columns\", \"options\": {\"class\": \"mb-3\", \"columns\": 2, \"gutters\": true, \"preset\": 1}, \"children\": [[{\"id\": \"youtube-embed\", \"options\": {\"videoId\": \"2TuyT0knklM\"}}], [{\"id\": \"heading\", \"options\": {\"type\": \"h5\", \"text\": \"Gavin DeGraw - Soldier\"}},\r\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Phasellus commodo, lacus non viverra imperdiet, libero orci lacinia velit, sit amet malesuada dui diam eu lectus. Sed maximus eu orci ut condimentum.&nbsp;\"}},\r\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Vivamus auctor sapien nisl, varius interdum libero malesuada sit amet. Integer vulputate facilisis urna id sollicitudin.\"}}]]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"paragraph\",\r\n\t\t\t\t\t\t\"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Integer ac vestibulum dolor, et euismod sem. Vivamus volutpat, lectus eget vulputate eleifend, nibh quam aliquet lorem, quis efficitur neque magna ac elit. Vestibulum ac risus eu ligula auctor cursus. Curabitur purus enim, accumsan nec magna vel, ornare sagittis nisi. Pellentesque libero lorem, rhoncus placerat mauris et, vehicula tempor turpis. Duis nec luctus metus. Maecenas consequat libero id nulla pharetra luctus. Donec ultricies tincidunt tincidunt. Suspendisse sollicitudin lacus nunc, sed ultricies tellus efficitur nec. Phasellus eget sem nec enim molestie venenatis nec ut tortor. Aliquam dictum tempus neque, at luctus elit mollis sed. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed pellentesque, metus pharetra auctor luctus, sem nunc mattis purus, at mattis turpis mauris nec dolor. Curabitur cursus enim non libero sodales tristique.\"}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Aliquam urna sapien, gravida eget cursus at, fringilla eu metus. In sapien odio, gravida hendrerit iaculis id, sodales sit amet nibh. Nunc nec efficitur diam. Fusce sagittis at nibh eget tristique. Integer elit felis, consequat nec fermentum ut, dignissim sit amet purus. Ut aliquam imperdiet faucibus. Etiam maximus mauris id sem aliquam, vel posuere leo viverra. Nulla eleifend leo in sapien cursus, congue mollis nunc ultrices.\"}}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tdocument.body.style.removeProperty(\"overflow\");\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tdocument.body.style.setProperty(\"overflow\", \"hidden\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockEditor.vue?vue&type=template&id=3ecf697e&\"\nimport script from \"./BlockEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","module.exports = require(\"core-js/library/fn/object/get-prototype-of\");","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n"],"sourceRoot":""}