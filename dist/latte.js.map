{"version":3,"file":"latte.js","sources":["../src/js/z.js","../src/js/util/dom.js","../src/js/hid/OutsideEvent.js","../src/js/api.js","../src/js/hid/PointerEvents.js","../node_modules/vue-runtime-helpers/normalize-component.js","../src/vue/component/Autocomplete.vue","../src/js/core.js","../src/js/actions.js","../src/vue/component/Chart.vue","../node_modules/vue-runtime-helpers/inject-style/browser.js","../src/vue/component/ComboBox.vue","../src/js/util/string.js","../src/vue/component/Draggable.vue","../src/js/ui/grid.js","../src/vue/component/Grid.vue","../src/vue/component/OffscreenContainer.vue","../src/js/ui/overlays.js","../src/vue/component/PdfViewer.vue","../src/vue/directive/ClickAway.js","../src/vue/directive/ContextMenu.js","../src/vue/mixin/LatteApisMixin.js","../src/vue/mixin/MomentMixin.js","../src/js/i18n.js","../src/js/operators.js","../src/js/ui/messages.js","../src/js/util/cookies.js","../src/js/ui/root.js","../src/js/ui/forms.js","../src/js/ui/notices.js","../src/js/ui/panels.js","../src/js/ui/tooltip.js","../src/js/houdini-apis.js","../src/js/util/clipboard.js","../src/js/util/json.js","../src/js/sdk.js","../src/js/app.js"],"sourcesContent":["/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nlet currentZ = 2000;\n\n/**\n * Generates a z-value to be used with z-index.\n *\n * @param {Function} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function needsZIndex(fn)\n{\n\tfn(currentZ);\n\tcurrentZ++;\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet lattePath = null;\n\nexport function closest(element, selector)\n{\n\tfor (; element && element !== document; element = element.parentNode)\n\t\tif (element === selector || (typeof selector === \"string\" && element.matches(selector)))\n\t\t\treturn element;\n\n\treturn null;\n}\n\nexport function createElement(element, fn = undefined)\n{\n\tconst el = document.createElement(element);\n\n\tif (fn !== undefined)\n\t\tfn(el);\n\n\treturn el;\n}\n\nexport function downloadFile(fileName, url)\n{\n\tcreateElement(\"a\", a =>\n\t{\n\t\ta.download = fileName;\n\t\ta.href = url;\n\n\t\tdocument.body.appendChild(a);\n\n\t\ta.click();\n\t\ta.remove();\n\t});\n}\n\nexport function getLattePath()\n{\n\tif (lattePath !== null)\n\t\treturn lattePath;\n\n\tconst lattejs = document.querySelector(`script[src*=\"latte.js\"]`);\n\n\tif (lattejs === null)\n\t\tthrow new Error(\"Could not get latte.js path. The world ends here...\");\n\n\treturn lattePath = lattejs.getAttribute(\"src\").split(\"latte.js\")[0] || null;\n}\n\nexport function isTouchOnlyDevice()\n{\n\treturn \"ontouchstart\" in window || navigator.msMaxTouchPoints;\n}\n\nexport function live(root, selector, event, callback, options = {passive: true})\n{\n\tif (event.indexOf(\" \") > -1)\n\t{\n\t\tconst events = event.split(\" \");\n\n\t\tevents.forEach(event => live(root, selector, event, callback));\n\n\t\treturn;\n\t}\n\n\troot.addEventListener(event, function (evt)\n\t{\n\t\tconst qs = root.querySelectorAll(selector);\n\n\t\tif (!qs)\n\t\t\treturn;\n\n\t\tlet el = evt.target, index;\n\n\t\twhile (el && ((index = Array.prototype.indexOf.call(qs, el)) === -1))\n\t\t\tel = el.parentElement;\n\n\t\tif (index > -1)\n\t\t\tcallback(el, evt)\n\n\t}, options);\n}\n\nexport function printDocument(url)\n{\n\tconst wnd = window.open(url);\n\twnd.addEventListener(\"load\", () =>\n\t{\n\t\twnd.print();\n\t\twnd.addEventListener(\"focus\", () => wnd.close());\n\t});\n}\n\nexport function raf(fn, delay = undefined)\n{\n\tif (delay !== undefined)\n\t\treturn setTimeout(() => requestAnimationFrame(fn), delay);\n\n\trequestAnimationFrame(fn);\n}\n\nexport function relativeCoordsTo(element, evt)\n{\n\tif (!evt.clientX || !evt.clientY)\n\t\treturn undefined;\n\n\tconst rect = element.getBoundingClientRect();\n\n\treturn {\n\t\tx: evt.clientX - rect.left,\n\t\ty: evt.clientY - rect.top\n\t};\n}\n\nexport function toDOM(str)\n{\n\tconst temp = document.createElement(\"div\");\n\tconst fragment = document.createDocumentFragment();\n\n\tlet child;\n\n\ttemp.innerHTML = str;\n\n\twhile ((child = temp.firstChild))\n\t\tfragment.appendChild(child);\n\n\treturn fragment;\n}\n\nexport default {\n\n\tclosest,\n\n\tcreateElement,\n\n\tdownloadFile,\n\n\tlive,\n\n\tprintDocument,\n\n\traf,\n\n\trelativeCoordsTo,\n\n\ttoDOM\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { closest } from \"../util/dom\";\n\nclass OutsideEvent\n{\n\n\tconstructor(source)\n\t{\n\t\tthis.listeners = [];\n\t\tthis.source = source;\n\t}\n\n\taddEventListener(type, listener, options = {})\n\t{\n\t\tlistener.id = this.listeners.length;\n\n\t\tthis.listeners.push(listener);\n\n\t\tconst fn = evt =>\n\t\t{\n\t\t\tif (this.isWithinSource(evt))\n\t\t\t\treturn;\n\n\t\t\tlistener(evt);\n\t\t};\n\n\t\tdocument.addEventListener(type, fn, options);\n\t}\n\n\tremoveEventListener(type, listener, options = {})\n\t{\n\t\tconst index = this.listeners.findIndex(l => l.id === listener.id);\n\n\t\tif (index === -1)\n\t\t\treturn;\n\n\t\tdocument.removeEventListener(type, this.listeners[index], options);\n\n\t\tthis.listeners.splice(index, 1);\n\t}\n\n\tisWithinSource(evt)\n\t{\n\t\tif (evt.pageX === undefined)\n\t\t\treturn false;\n\n\t\tconst documentElement = document.scrollingElement;\n\t\tconst element = document.elementFromPoint(evt.pageX - documentElement.scrollLeft, evt.pageY - documentElement.scrollTop);\n\n\t\treturn closest(element, this.source) !== null;\n\t}\n\n}\n\nEventTarget.prototype.addOutsideEventListener = function (type, listener, options = {})\n{\n\tif (this.outsideEvent === undefined)\n\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\tthis.outsideEvent.addEventListener(type, listener, options);\n};\n\nEventTarget.prototype.removeOutsideEventListener = function (type, listener, options = {})\n{\n\tif (this.outsideEvent === undefined)\n\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\tthis.outsideEvent.removeEventListener(type, listener, options);\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\n/**\n * Generates a random unique ID using the browsers crypto capabilities.\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function id()\n{\n\tconst array = new Uint32Array(3);\n\n\twindow.crypto.getRandomValues(array);\n\n\treturn \"latte-\" + array.join(\"-\");\n}\n\n/**\n * Requests an API endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Response>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function request(url, options = {})\n{\n\treturn fetch(url, Object.assign({}, {credentials: \"same-origin\"}, options));\n}\n\n/**\n * Requests a JSON endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Object>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function requestJson(url, options = {})\n{\n\treturn request(url, options)\n\t\t.then(r => r.json());\n}\n\nexport default {\n\n\tid,\n\n\trequest,\n\n\trequestJson\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { isTouchOnlyDevice } from \"../util/dom\";\n\n(function ()\n{\n\n\tif (typeof PointerEvent !== \"undefined\")\n\t\treturn; // Yay for this browser!\n\n\tconst isATouchOnlyDevice = isTouchOnlyDevice();\n\n\tconst events = {\n\t\tclick: [\"click\", \"tap\"],\n\t\tpointerdown: [\"mousedown\", \"touchstart\"],\n\t\tpointermove: [\"mousemove\", \"touchmove\"],\n\t\tpointerover: [\"mouseover\", \"touchstart\"],\n\t\tpointerout: [\"mouseout\", \"touchend\"],\n\t\tpointerup: [\"mouseup\", \"touchend\"]\n\t};\n\n\tconst handlers = {\n\n\t\ttap($this, listener, options)\n\t\t{\n\t\t\tlet isTap = false;\n\n\t\t\toriginal.addEventListener.call($this, \"touchstart\", () => isTap = true, options);\n\t\t\toriginal.addEventListener.call($this, \"touchmove\", () => isTap = false, options);\n\t\t\toriginal.addEventListener.call($this, \"touchend\", evt =>\n\t\t\t{\n\t\t\t\tif (!isTap)\n\t\t\t\t\treturn;\n\n\t\t\t\tlistener(evt);\n\t\t\t}, options);\n\t\t}\n\n\t};\n\n\tconst original = {\n\t\taddEventListener: EventTarget.prototype.addEventListener,\n\t\tremoveEventListener: EventTarget.prototype.removeEventListener\n\t};\n\n\tEventTarget.prototype.addEventListener = function (type, listener, options)\n\t{\n\t\tlet overrideType = type;\n\n\t\tif (type in events)\n\t\t\toverrideType = isATouchOnlyDevice ? events[type][1] : events[type][0];\n\n\t\tif (overrideType in handlers)\n\t\t\thandlers[overrideType](this, listener, options);\n\t\telse\n\t\t\toriginal.addEventListener.call(this, overrideType, listener, options);\n\t};\n\n})();\n","export default function normalizeComponent(compiledTemplate, injectStyle, defaultExport, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, isShadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof isShadowMode === 'function') {\n        createInjectorSSR = createInjector;\n        createInjector = isShadowMode;\n        isShadowMode = false;\n    }\n    // Vue.extend constructor export interop\n    const options = typeof defaultExport === 'function' ? defaultExport.options : defaultExport;\n    // render functions\n    if (compiledTemplate && compiledTemplate.render) {\n        options.render = compiledTemplate.render;\n        options.staticRenderFns = compiledTemplate.staticRenderFns;\n        options._compiled = true;\n        // functional template\n        if (isFunctionalTemplate) {\n            options.functional = true;\n        }\n    }\n    // scopedId\n    if (scopeId) {\n        options._scopeId = scopeId;\n    }\n    let hook;\n    if (moduleIdentifier) {\n        // server build\n        hook = function (context) {\n            // 2.3 injection\n            context =\n                context || // cached call\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\n            // 2.2 with runInNewContext: true\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n                context = __VUE_SSR_CONTEXT__;\n            }\n            // inject component styles\n            if (injectStyle) {\n                injectStyle.call(this, createInjectorSSR(context));\n            }\n            // register component module identifier for async chunk inference\n            if (context && context._registeredComponents) {\n                context._registeredComponents.add(moduleIdentifier);\n            }\n        };\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        options._ssrRegister = hook;\n    }\n    else if (injectStyle) {\n        hook = isShadowMode\n            ? function () {\n                injectStyle.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n            }\n            : function (context) {\n                injectStyle.call(this, createInjector(context));\n            };\n    }\n    if (hook) {\n        if (options.functional) {\n            // register for functional component in vue file\n            const originalRender = options.render;\n            options.render = function renderWithStyleInjection(h, context) {\n                hook.call(context);\n                return originalRender(h, context);\n            };\n        }\n        else {\n            // inject component registration as beforeCreate hook\n            const existing = options.beforeCreate;\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n    }\n    return defaultExport;\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-autocomplete\" v-click-away=\"onBlur\">\n\t\t<div class=\"form-control\" :disabled=\"disabled\">\n\n\t\t\t<template v-for=\"selection in values\">\n\n\t\t\t\t<slot name=\"selection\" v-bind=\"selection\">\n\n\t\t\t\t\t<span class=\"badge badge-primary\">\n\t\t\t\t\t\t<span>{{ selection.label }}</span>\n\t\t\t\t\t\t<button class=\"btn\" @click=\"selection.remove()\"><i class=\"mdi mdi-window-close\"></i></button>\n\t\t\t\t\t</span>\n\n\t\t\t\t</slot>\n\n\t\t\t</template>\n\n\t\t\t<input type=\"search\" :name=\"name\" class=\"form-control\" ref=\"field\" :placeholder=\"placeholder\" autocomplete=\"false\" @focus=\"onFocus\" v-model=\"searchTerm\" @keydown.delete=\"onKeyPressDelete\" @keydown.enter=\"onSelectSuggestion\" @keydown.tab=\"onSelectFirstSuggestion\" @keydown.down=\"onKeyPressDown\" @keydown.up=\"onKeyPressUp\" v-if=\"canSearch\"/>\n\n\t\t</div>\n\t\t<div class=\"dropdown\" :class=\"{'is-open': shouldOpenSuggestions}\" role=\"combobox\">\n\t\t\t<nav class=\"nav nav-list\">\n\n\t\t\t\t<template v-for=\"(suggestion, index) in suggestionsFiltered\">\n\n\t\t\t\t\t<a class=\"nav-link\" :class=\"{'is-hover': currentSuggestion === index}\" @pointermove.passive=\"currentSuggestion = index\" @click=\"onSelectSuggestion\" role=\"option\">\n\n\t\t\t\t\t\t<slot name=\"suggestion\" v-bind=\"suggestion\">\n\n\t\t\t\t\t\t\t<div class=\"flex-grow-1\" v-if=\"suggestion.sub_label\">\n\t\t\t\t\t\t\t\t<span>{{ suggestion.label }}</span>\n\t\t\t\t\t\t\t\t<span class=\"text-soft\">{{ suggestion.sub_label }}</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<span v-else>{{ suggestion.label }}</span>\n\n\t\t\t\t\t\t\t<i class=\"mdi mdi-chevron-right\"></i>\n\n\t\t\t\t\t\t</slot>\n\n\t\t\t\t\t</a>\n\n\t\t\t\t</template>\n\n\t\t\t</nav>\n\t\t</div>\n\t\t<span class=\"spinner spinner-primary\" v-if=\"isLoading\"></span>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { id, request } from \"../../js/api\";\n\n\tfunction areArraysEqual(a, b)\n\t{\n\t\tif (a.length !== b.length)\n\t\t\treturn false;\n\n\t\tfor (let i = 0; i < a.length; i++)\n\t\t\tif (a[i] !== b[i])\n\t\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n\texport default {\n\n\t\tname: \"latte-autocomplete\",\n\n\t\tprops: {\n\n\t\t\tdefaultValue: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false\n\t\t\t},\n\n\t\t\tdisabled: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlimit: {\n\t\t\t\tdefault: 5,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmultiSelect: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\toffset: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"Search...\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => [],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array | Number\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tabortController: null,\n\t\t\t\tcanEmit: true,\n\t\t\t\tcanOpen: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tcurrentSuggestion: -1,\n\t\t\t\tsearchTerm: \"\",\n\t\t\t\tsuggestions: [],\n\t\t\t\tvalueLast: [],\n\t\t\t\tvalues: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.onValueChanged();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcanSearch()\n\t\t\t{\n\t\t\t\treturn this.multiSelect || this.values.length === 0;\n\t\t\t},\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\treturn this.canOpen && this.suggestionsFiltered.length > 0;\n\t\t\t},\n\n\t\t\tsuggestionsFiltered()\n\t\t\t{\n\t\t\t\treturn this.suggestions.filter(s => this.values.filter(v => v.label === s.label && v.value === s.value).length === 0);\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\taddValue(label, value)\n\t\t\t{\n\t\t\t\tif (label === undefined || value === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.values.filter(v => v.value === value && v.label === label).length > 0)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst remove = () => this.removeValue(value);\n\n\t\t\t\tthis.values.push({label, remove, value});\n\t\t\t},\n\n\t\t\tremoveValue(value)\n\t\t\t{\n\t\t\t\tthis.values = this.values.filter(v => v.value !== value);\n\t\t\t},\n\n\t\t\tonBlur()\n\t\t\t{\n\t\t\t\tthis.canOpen = false;\n\t\t\t},\n\n\t\t\tonFocus()\n\t\t\t{\n\t\t\t\tthis.suggestions = [];\n\t\t\t\tthis.canOpen = true;\n\t\t\t},\n\n\t\t\tonSelectSuggestion()\n\t\t\t{\n\t\t\t\tif (!this.suggestionsFiltered[this.currentSuggestion])\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {label, value} = this.suggestionsFiltered[this.currentSuggestion];\n\n\t\t\t\tthis.addValue(label, value);\n\t\t\t\tthis.canOpen = false;\n\t\t\t\tthis.searchTerm = \"\";\n\t\t\t},\n\n\t\t\tonSelectFirstSuggestion(evt)\n\t\t\t{\n\t\t\t\tif (this.suggestions.length === 0 || !this.shouldOpenSuggestions)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.currentSuggestion === -1)\n\t\t\t\t\tthis.onKeyPressDown();\n\n\t\t\t\tthis.onSelectSuggestion();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\t\t\t},\n\n\t\t\tonKeyPressDelete()\n\t\t\t{\n\t\t\t\tif (this.searchTerm !== \"\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.values.pop();\n\t\t\t},\n\n\t\t\tonKeyPressDown()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion + 1 >= this.suggestions.length)\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion++;\n\t\t\t},\n\n\t\t\tonKeyPressUp()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion - 1 < -1)\n\t\t\t\t\tthis.currentSuggestion = this.suggestions.length - 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion--;\n\t\t\t},\n\n\t\t\tonReceiveSuggestions(response)\n\t\t\t{\n\t\t\t\tthis.abortController = null;\n\t\t\t\tthis.canOpen = true;\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\tthis.suggestions = response.data;\n\t\t\t},\n\n\t\t\tonReceiveValues(response)\n\t\t\t{\n\t\t\t\tresponse.data.forEach(v => this.addValue(v.label, v.value));\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t},\n\n\t\t\tonSearchTermChanged()\n\t\t\t{\n\t\t\t\tif (this.searchTerm.trim() === \"\")\n\t\t\t\t{\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\t\tthis.canOpen = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.abortController !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\tthis.abortController = null;\n\t\t\t\t}\n\n\t\t\t\tthis.abortController = new AbortController();\n\n\t\t\t\trequest(`${this.url}?q=${encodeURIComponent(this.searchTerm.toLowerCase())}`, {cache: \"no-cache\", signal: this.signal})\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveSuggestions(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\t\t\t},\n\n\t\t\tonValueChanged()\n\t\t\t{\n\t\t\t\tlet value = this.multiSelect ? this.value : [this.value];\n\t\t\t\tvalue = value.filter ? value.filter(v => v > 0) : value;\n\n\t\t\t\tif (value.length === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.values = [];\n\t\t\t\t\tthis.valueLast = [];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (areArraysEqual(value, this.valueLast))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.isLoading)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\trequest(`${this.url}?ids=${value.join(\",\")}`)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveValues(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\n\t\t\t\tthis.valueLast = value;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t},\n\n\t\t\tsearchTerm()\n\t\t\t{\n\t\t\t\tthis.onSearchTermChanged();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.canEmit = false;\n\t\t\t\tthis.onValueChanged();\n\t\t\t},\n\n\t\t\tvalues()\n\t\t\t{\n\t\t\t\tif (this.canEmit === false)\n\t\t\t\t\treturn this.canEmit = true;\n\n\t\t\t\tlet values = this.values.map(v => v.value);\n\t\t\t\tthis.$emit(\"input\", (this.multiSelect ? values : values[0]) || this.defaultValue);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet main = undefined;\n\n/**\n * Deep merges multiple objects.\n *\n * @param {*} target\n * @param {*} sources\n *\n * @returns {*}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function deepMerge(target, ...sources)\n{\n\tif (sources.length === 0)\n\t\treturn target;\n\n\tconst source = sources.shift();\n\n\tif (!isObject(target) || !isObject(source))\n\t\treturn deepMerge(target, ...sources);\n\n\tfor (const key in source)\n\t{\n\t\tif (!source.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tif (isObject(source[key]))\n\t\t{\n\t\t\tif (!target[key])\n\t\t\t\tObject.assign(target, {[key]: source[key]});\n\n\t\t\tdeepMerge(target[key], source[key]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tObject.assign(target, {[key]: source[key]});\n\t\t}\n\t}\n\n\treturn deepMerge(target, ...sources);\n}\n\n/**\n * Gets the main#app element.\n *\n * @returns {HTMLMainElement}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getMainElement()\n{\n\treturn main || (main = document.querySelector(\"main#app\"));\n}\n\n/**\n * Handles an Error.\n *\n * @param {Error} err\n * @param {Function|undefined} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function handleError(err, fn = undefined)\n{\n\tLatte.messages.alert(\"Aw snap!\", `<pre>${err.stack}</pre>`);\n\n\tif (fn)\n\t\tfn();\n}\n\n/**\n * Returns TRUE when obj is an object.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isObject(obj)\n{\n\treturn obj && typeof obj === \"object\" && !Array.isArray(obj);\n}\n\n/**\n * Sets an interval.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function interval(timeout, func)\n{\n\tfunc();\n\n\treturn setInterval(func, timeout);\n}\n\n/**\n * Returns TRUE when obj is iterable.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isIterable(obj)\n{\n\tif (obj === null)\n\t\treturn false;\n\n\treturn typeof obj[Symbol.iterator] === \"function\";\n}\n\n/**\n * Generates a random password-like string.\n *\n * @param {Number} length\n * @param {String} availableSets\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function randomPassword(length = 9, availableSets = \"luds\")\n{\n\tconst sets = [];\n\n\tif (availableSets.indexOf(\"l\") > -1)\n\t\tsets.push(\"abcdefghjkmnpqrstuvwxyz\");\n\n\tif (availableSets.indexOf(\"u\") > -1)\n\t\tsets.push(\"ABCDEFGHJKMNPQRSTUVWXYZ\");\n\n\tif (availableSets.indexOf(\"d\") > -1)\n\t\tsets.push(\"123456789\");\n\n\tif (availableSets.indexOf(\"s\") > -1)\n\t\tsets.push(\"!@#$%&*?\");\n\n\tlet all = \"\";\n\tlet password = \"\";\n\n\tsets.forEach(set =>\n\t{\n\t\tpassword += set[Math.floor(Math.random() * set.length)];\n\t\tall += set;\n\t});\n\n\tfor (let i = 0; i < length - sets.length; i++)\n\t\tpassword += all[Math.floor(Math.random() * all.length)];\n\n\treturn shuffleString(password);\n}\n\n/**\n * Registers a Latte module.\n *\n * @param {Function} func\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function register(func)\n{\n\tfunc(window.Latte);\n}\n\n/**\n * Sets a timeout.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function timeout(timeout, func)\n{\n\treturn setTimeout(func, timeout);\n}\n\n/**\n * Updates the URL hash.\n *\n * @param {Object} data\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function updateURLHash(data)\n{\n\tlet parts = [];\n\n\tfor (let key in data)\n\t{\n\t\tif (!data.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tlet str = key;\n\t\tlet d = data[key];\n\n\t\tif (d.value)\n\t\t\tstr += `=${d.value}`;\n\n\t\tfor (let vk in d.vars)\n\t\t\tif (d.vars.hasOwnProperty(vk))\n\t\t\t\tstr += `/${vk}:${d.vars[vk]}`;\n\n\t\tparts.push(str);\n\t}\n\n\tconst hash = parts.join(\"&\");\n\n\tif (hash.length > 0)\n\t\tlocation.hash = hash;\n\telse\n\t\thistory.replaceState({}, document.title, location.pathname + location.search);\n}\n\nfunction shuffleString(str)\n{\n\tconst a = str.split(\"\");\n\tconst n = a.length;\n\n\tfor (let i = n - 1; i > 0; i--)\n\t{\n\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\tlet tmp = a[i];\n\n\t\ta[i] = a[j];\n\t\ta[j] = tmp;\n\t}\n\n\treturn a.join(\"\");\n}\n\nexport default {\n\n\tdeepMerge,\n\n\tgetMainElement,\n\n\thandleError,\n\n\tinterval,\n\n\tisObject,\n\n\tisIterable,\n\n\trandomPassword,\n\n\tregister,\n\n\ttimeout,\n\n\tupdateURLHash\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { live } from \"./util/dom.js\";\nimport { updateURLHash } from \"./core.js\";\n\nconst actions = {};\n\n/**\n * Class ActionSubscription\n *\n * @author Bas Milius <bas@mili.us>\n * @version 1.0.0\n */\nclass ActionSubscription\n{\n\n\t/**\n\t * ActionSubscription Constructor.\n\t *\n\t * @param {String} action\n\t * @param {Function} callback\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tconstructor(action, callback)\n\t{\n\t\tthis.action = action;\n\t\tthis.callback = callback;\n\t\tthis.id = performance.now();\n\t}\n\n\t/**\n\t * Calls the handler callback.\n\t *\n\t * @param {*} data\n\t * @param {HTMLElement} el\n\t * @param {Event} evt\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\thandle(data, el, evt)\n\t{\n\t\tthis.callback(data, el, evt);\n\t}\n\n\t/**\n\t * Unsubscribes the action callback.\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tunsubscribe()\n\t{\n\t\tactions[this.action] = actions[this.action].filter(sub => sub.id !== this.id);\n\t}\n\n}\n\n/**\n * Dispatches an action.\n *\n * @param {String} action\n * @param {*|undefined} data\n * @param {Node|undefined} el\n * @param {Event|undefined} evt\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function dispatch(action, data = undefined, el = undefined, evt = undefined)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(data, el, evt));\n}\n\n/**\n * Registers an action listener.\n *\n * @param {String} action\n * @param {Function} callback\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function on(action, callback)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\tactions[action] = [];\n\n\tconst sub = new ActionSubscription(action, callback);\n\n\tactions[action].push(sub);\n\n\treturn sub;\n}\n\nfunction onAction(element, evt)\n{\n\tconst action = element.dataset.action;\n\tconst actionData = element.dataset;\n\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(actionData, element, evt));\n}\n\nexport default {\n\n\tdispatch,\n\n\ton\n\n}\n\nlive(document.body, \"[data-action]\", \"click\", (element, evt) => onAction(element, evt), {passive: true});\n\non(\"latte:hash-change\", parameters =>\n{\n\tconst action = parameters.action;\n\n\tdelete parameters.action;\n\n\tupdateURLHash(parameters);\n\n\tif (action === undefined || action === null)\n\t\treturn;\n\n\tdispatch(action.value, action.vars);\n});\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-charts latte-charts-line\" :class=\"{'is-loading':is_loading}\">\n\t\t<span class=\"spinner spinner-primary\"></span>\n\t\t<div class=\"latte-charts-title\" v-if=\"title !== null\">{{ titleTransformed }}</div>\n\t\t<div class=\"latte-charts-chart\">\n\t\t\t<canvas ref=\"chart\"></canvas>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { dispatch } from \"../../js/actions\";\n\timport { request } from \"../../js/api\";\n\timport { deepMerge } from \"../../js/core\";\n\timport { createElement } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"latte-chart\",\n\n\t\tprops: {\n\n\t\t\toptions: {\n\t\t\t\tdefault: () => ({}),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\t\t\t},\n\n\t\t\ttitle: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tinstance: null,\n\t\t\t\tis_loading: true,\n\t\t\t\tchartData: {},\n\t\t\t\tchartOptions: {}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.loadChart();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\ttitleTransformed()\n\t\t\t{\n\t\t\t\tif (this.title === null)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn this.title.replace(new RegExp(\"\\\\${([a-zA-Z0-9_.\\\\[\\\\]]+)}\"), (match, contents) =>\n\t\t\t\t{\n\t\t\t\t\treturn new Function(`\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn new Intl.NumberFormat(navigator.language).format(this.${contents});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t`).call(this);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tloadChart()\n\t\t\t{\n\t\t\t\tthis.is_loading = true;\n\n\t\t\t\trequest(this.url)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceivedChart(r));\n\t\t\t},\n\n\t\t\tonReceivedChart(response)\n\t\t\t{\n\t\t\t\tif (response.success !== true)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst canvas = this.$refs.chart;\n\t\t\t\tconst chart = this.chartData = response.data;\n\t\t\t\tconst tooltipOptions = {\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t\tcustom: model =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (model.opacity === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdispatch(\"latte:tooltip:hide\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfunction genDataRow(line, colors)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn createElement(\"tr\", tr =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttr.appendChild(createElement(\"td\", td =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttd.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\", \"pr-0\");\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.innerHTML = `<i class=\"mdi mdi-color\" style=\"height: 18px; width: 18px; border-radius: 12px; background: ${colors.backgroundColor};\"></i>`;\n\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\t\ttr.appendChild(createElement(\"td\", td =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttd.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\");\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.innerHTML = line;\n\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfunction genTitleRow(title)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn createElement(\"tr\", tr => tr.appendChild(createElement(\"th\", th =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tth.setAttribute(\"colspan\", 2);\n\t\t\t\t\t\t\t\t\t\tth.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\", \"font-weight-bold\");\n\t\t\t\t\t\t\t\t\t\t\tdiv.innerText = title;\n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t})));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst rect = canvas.getBoundingClientRect();\n\t\t\t\t\t\t\t\tconst table = createElement(\"table\", table =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttable.classList.add(\"table\", \"table-compact\");\n\t\t\t\t\t\t\t\t\ttable.style.setProperty(\"--outline-color-secondary\", \"rgba(255, 255, 255, .05)\");\n\n\t\t\t\t\t\t\t\t\ttable.appendChild(createElement(\"thead\", thead =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmodel.title.forEach(title => thead.appendChild(genTitleRow(title)));\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\ttable.appendChild(createElement(\"tbody\", tbody =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmodel.body.map(l => l.lines).forEach((line, i) => tbody.appendChild(genDataRow(line, model.labelColors[i])));\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tdispatch(\"latte:tooltip\", {\n\t\t\t\t\t\t\t\t\tx: Math.floor(rect.left + model.caretX),\n\t\t\t\t\t\t\t\t\ty: Math.floor(rect.top + model.caretY),\n\t\t\t\t\t\t\t\t\tclasses: [\"p-0\"],\n\t\t\t\t\t\t\t\t\tcontent: table,\n\t\t\t\t\t\t\t\t\tposition: \"vertical\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: this.onTooltipLabel.bind(this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.$emit(\"change\", chart);\n\n\t\t\t\tif (this.instance === null)\n\t\t\t\t{\n\t\t\t\t\tthis.chartOptions = chart.options = deepMerge({}, tooltipOptions, chart.options, this.options);\n\t\t\t\t\tthis.instance = new Chart(canvas, chart);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof this.instance.data.datasets[index] !== \"undefined\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet remove = (this.instance.data.datasets[index].data.length > dataset.data.length ? this.instance.data.datasets[index].data.length - dataset.data.length : 0);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < remove; i++)\n\t\t\t\t\t\t\t\tthis.instance.data.datasets[index].data.pop();\n\n\t\t\t\t\t\t\tdataset.data.forEach((data, i) => this.instance.data.datasets[index].data[i] = data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.instance.data.datasets.push(dataset);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.instance.data.labels = chart.data.labels;\n\t\t\t\t\tthis.instance.update();\n\t\t\t\t}\n\n\t\t\t\tthis.is_loading = false;\n\t\t\t},\n\n\t\t\tonTooltipLabel(tooltip, data)\n\t\t\t{\n\t\t\t\tif (!this.chartData)\n\t\t\t\t\treturn \"\";\n\n\t\t\t\tconst dataset = data.datasets[tooltip.datasetIndex];\n\t\t\t\tconst value = dataset.data[tooltip.index];\n\t\t\t\tconst valueFormatted = Intl !== undefined && Intl.NumberFormat !== undefined ? new Intl.NumberFormat(navigator.language)[\"format\"](value) : value;\n\n\t\t\t\tswitch (this.chartOptions.tooltips.transform || \"default\")\n\t\t\t\t{\n\t\t\t\t\tcase \"percentage\":\n\t\t\t\t\t\treturn `${dataset.label}: ${value}%`;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn `${dataset.label}: ${valueFormatted}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\turl()\n\t\t\t{\n\t\t\t\tthis.loadChart();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","const isOldIE = typeof navigator !== 'undefined' &&\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nexport default function createInjector(context) {\n    return (id, style) => addStyle(id, style);\n}\nconst HEAD = document.head || document.getElementsByTagName('head')[0];\nconst styles = {};\nfunction addStyle(id, css) {\n    const group = isOldIE ? css.media || 'default' : id;\n    const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\n    if (!style.ids.has(id)) {\n        style.ids.add(id);\n        let code = css.source;\n        if (css.map) {\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\n            // this makes source maps inside style tags work properly in Chrome\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n            // http://stackoverflow.com/a/26603875\n            code +=\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n                    ' */';\n        }\n        if (!style.element) {\n            style.element = document.createElement('style');\n            style.element.type = 'text/css';\n            if (css.media)\n                style.element.setAttribute('media', css.media);\n            HEAD.appendChild(style.element);\n        }\n        if ('styleSheet' in style.element) {\n            style.styles.push(code);\n            style.element.styleSheet.cssText = style.styles\n                .filter(Boolean)\n                .join('\\n');\n        }\n        else {\n            const index = style.ids.size - 1;\n            const textNode = document.createTextNode(code);\n            const nodes = style.element.childNodes;\n            if (nodes[index])\n                style.element.removeChild(nodes[index]);\n            if (nodes.length)\n                style.element.insertBefore(textNode, nodes[index]);\n            else\n                style.element.appendChild(textNode);\n        }\n    }\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"form-control combo-box\" tabindex=\"0\" @blur=\"close\" @click=\"toggle\" @keydown.down=\"onKeyPressDown\" @keydown.enter=\"onKeyPressEnter\" @keydown.esc=\"onKeyPressEscape\" @keydown.up=\"onKeyPressUp\">\n\n\t\t<a class=\"combo-box-selection\" :class=\"selectedOptionClasses\" v-if=\"selectedOptionTemplate !== null\" v-html=\"selectedOptionTemplate\"></a>\n\t\t<div class=\"combo-box-empty\" v-else>Select...</div>\n\n\t\t<button class=\"btn btn-text btn-icon btn-dark form-control-suffix\" type=\"button\"><i class=\"mdi mdi-chevron-down\"></i></button>\n\n\t\t<div class=\"dropdown\" :class=\"{'is-open': isDropdownOpened}\" role=\"combobox\">\n\t\t\t<nav class=\"nav nav-list\">\n\t\t\t\t<slot></slot>\n\t\t\t</nav>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-combo-box\",\n\n\t\tprops: {\n\n\t\t\tvalue: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tinitialIndex: -1,\n\t\t\t\tisDropdownOpened: false,\n\t\t\t\toptions: [],\n\t\t\t\tselectedOptionIndex: -1,\n\t\t\t\tselectedOptionClasses: []\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tselectedOption()\n\t\t\t{\n\t\t\t\tconst option = this.options[this.selectedOptionIndex];\n\n\t\t\t\tif (option !== undefined)\n\t\t\t\t\treturn option;\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tselectedOptionTemplate()\n\t\t\t{\n\t\t\t\tconst option = this.selectedOption;\n\n\t\t\t\tif (option !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedOptionClasses = [...option.$el.classList];\n\n\t\t\t\t\treturn option.$el.innerHTML;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.initialIndex = -1;\n\t\t\t\tthis.isDropdownOpened = false;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tthis.initialIndex = this.selectedOptionIndex;\n\t\t\t\tthis.isDropdownOpened = true;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tthis.isDropdownOpened = !this.isDropdownOpened;\n\t\t\t},\n\n\t\t\tcheckValue()\n\t\t\t{\n\t\t\t\tthis.selectedOptionIndex = this.options.findIndex(option => option.value === this.value);\n\t\t\t},\n\n\t\t\tregisterOption(option)\n\t\t\t{\n\t\t\t\tthis.options.push(option);\n\t\t\t\tthis.checkValue();\n\n\t\t\t\toption.$on(\"select\", option => this.onOptionSelect(option));\n\t\t\t},\n\n\t\t\tunregisterOption(option)\n\t\t\t{\n\t\t\t\tthis.options.splice(this.options.findIndex(o => o === option), 1);\n\t\t\t\tthis.checkValue();\n\t\t\t},\n\n\t\t\tonKeyPressDown()\n\t\t\t{\n\t\t\t\tthis.open();\n\n\t\t\t\tif (this.selectedOptionIndex + 1 >= this.options.length)\n\t\t\t\t\tthis.selectedOptionIndex = 0;\n\t\t\t\telse\n\t\t\t\t\tthis.selectedOptionIndex++;\n\t\t\t},\n\n\t\t\tonKeyPressEnter()\n\t\t\t{\n\t\t\t\tthis.close();\n\t\t\t},\n\n\t\t\tonKeyPressEscape(evt)\n\t\t\t{\n\t\t\t\tif (this.initialIndex !== -1)\n\t\t\t\t\tthis.selectedOptionIndex = Math.min(Math.max(0, this.initialIndex), this.options.length - 1);\n\n\t\t\t\tthis.close();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\n\t\t\tonKeyPressUp()\n\t\t\t{\n\t\t\t\tthis.open();\n\n\t\t\t\tif (this.selectedOptionIndex - 1 < 0)\n\t\t\t\t\tthis.selectedOptionIndex = this.options.length - 1;\n\t\t\t\telse\n\t\t\t\t\tthis.selectedOptionIndex--;\n\t\t\t},\n\n\t\t\tonOptionSelect(option)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.close());\n\n\t\t\t\tthis.selectedOptionIndex = this.options.findIndex(o => o === option);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tselectedOptionIndex()\n\t\t\t{\n\t\t\t\tthis.options.forEach(option => this.$set(option, \"active\", false));\n\n\t\t\t\tif (this.selectedOption !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.$emit(\"input\", this.selectedOption.value);\n\t\t\t\t\tthis.$set(this.selectedOption, \"active\", true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$emit(\"input\", null);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.checkValue();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\tdiv.combo-box\n\t{\n\t\talign-items: center;\n\t\tpadding: 0 16px 0 0;\n\t\tz-index: unset;\n\t}\n\n\ta.combo-box-selection\n\t{\n\t\tflex: 1 1 auto;\n\t\tpointer-events: none;\n\t}\n\n\tbutton.form-control-suffix\n\t{\n\t\tcolor: rgba(var(--color-dark), .5);\n\t\tpointer-events: none;\n\t}\n\n\tdiv.dropdown\n\t{\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttransition: all 180ms var(--ease-swift-out);\n\t\twill-change: opacity, transform;\n\t\tz-index: 10;\n\n\t\t&:not(.is-open)\n\t\t{\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t\ttransform: translate3d(0, 1rem, 0);\n\t\t}\n\t}\n</style>\n","/*\r\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n *\r\n * This file is part of the Latte UI package.\r\n *\r\n * For the full copyright and license information, please view the\r\n * LICENSE file that was distributed with this source code.\r\n */\r\n\r\n/**\r\n * Implodes commas between strings and replaces the last comma with an &.\r\n *\r\n * @param {String[]} strs\r\n *\r\n * @return {String}\r\n * @author Bas Milius <bas@mili.us>\r\n * @since 1.0.0\r\n */\r\nexport function commaCommaAnd(strs)\r\n{\r\n\treturn strs.join(\", \").replace(/(.*),/, \"$1 &\");\r\n}\r\n\r\n/**\r\n * Returns TRUE if {@see str} is undefined, NULL or contains only whitespace.\r\n *\r\n * @param {String} str\r\n *\r\n * @returns {Boolean}\r\n * @author Bas Milius <bas@mili.us>\r\n * @since 1.0.0\r\n */\r\nexport function isNullOrWhitespace(str)\r\n{\r\n\tif (typeof str === \"undefined\" || str === null)\r\n\t\treturn true;\r\n\r\n\treturn str.replace(/\\s/g, '').length < 1;\r\n}\r\n\r\nexport default {\r\n\r\n\tcommaCommaAnd,\r\n\r\n\tisNullOrWhitespace\r\n\r\n};\r\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-draggable\",\n\n\t\tprops: {\n\n\t\t\toptions: Object,\n\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tnoTransitionOnDrag: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\n\t\t\tclone: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: function (original)\n\t\t\t\t{\n\t\t\t\t\treturn original;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\telement: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'div'\n\t\t\t},\n\n\t\t\tmove: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: null\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis._sortable.destroy();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcomponentMode: false,\n\t\t\t\ttransitionMode: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.componentMode = this.element.toLowerCase() !== this.$el.nodeName.toLowerCase();\n\n\t\t\tif (this.componentMode && this.transitionMode)\n\t\t\t\tthrow new Error('Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: ' + this.element);\n\n\t\t\tlet optionsAdded = {};\n\n\t\t\teventsListened.forEach(elt => optionsAdded['on' + elt] = delegateAndEmit.call(this, elt));\n\t\t\teventsToEmit.forEach(elt => optionsAdded['on' + elt] = emit.bind(this, elt));\n\n\t\t\tlet options = _extends({}, this.options, optionsAdded, {onMove: (event, originalEvent) => this.onDragMove(event, originalEvent)});\n\n\t\t\t!('draggable' in options) && (options.draggable = '>*');\n\n\t\t\tthis._sortable = new Sortable(this.rootContainer, options);\n\t\t\tthis.computeIndexes();\n\t\t},\n\n\t\trender(createElement)\n\t\t{\n\t\t\tlet slots = this.$slots.default;\n\n\t\t\tif (slots && slots.length === 1)\n\t\t\t{\n\t\t\t\tlet child = slots[0];\n\n\t\t\t\tif (child.componentOptions && child.componentOptions.tag === 'transition-group')\n\t\t\t\t\tthis.transitionMode = true;\n\t\t\t}\n\n\t\t\tlet children = slots;\n\t\t\tlet footer = this.$slots.footer;\n\n\t\t\tif (footer)\n\t\t\t\tchildren = slots ? [].concat(_toConsumableArray(slots), _toConsumableArray(footer)) : [].concat(_toConsumableArray(footer));\n\n\t\t\treturn createElement(this.element, null, children);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\trootContainer()\n\t\t\t{\n\t\t\t\treturn this.transitionMode ? this.$el.children[0] : this.$el;\n\t\t\t},\n\n\t\t\tisCloning()\n\t\t\t{\n\t\t\t\treturn this.options && this.options.group && this.options.group.pull === 'clone';\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\treturn this.list ? this.list : this.value;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tgetChildrenNodes()\n\t\t\t{\n\t\t\t\tif (this.componentMode)\n\t\t\t\t\treturn this.$children[0].$slots.default;\n\n\t\t\t\tlet rawNodes = this.$slots.default;\n\n\t\t\t\treturn this.transitionMode ? rawNodes[0].child.$slots.default : rawNodes;\n\t\t\t},\n\n\t\t\tcomputeIndexes()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.visibleIndexes = computeIndexes(this.getChildrenNodes(), this.rootContainer.children, this.transitionMode));\n\t\t\t},\n\n\t\t\tgetUnderlyingVm(htmlElement)\n\t\t\t{\n\t\t\t\tlet index = computeVmIndex(this.getChildrenNodes() || [], htmlElement);\n\n\t\t\t\tif (index === -1)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn {index: index, element: this.realList[index]};\n\t\t\t},\n\n\t\t\tgetUnderlyingPotencialDraggableComponent(reference)\n\t\t\t{\n\t\t\t\tconst vue = reference.__vue__;\n\n\t\t\t\tif (!vue || !vue.$options || vue.$options._componentTag !== 'transition-group')\n\t\t\t\t\treturn vue;\n\n\t\t\t\treturn vue.$parent;\n\t\t\t},\n\n\t\t\temitChanges(event)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.$emit('change', event));\n\t\t\t},\n\n\t\t\talterList(onList)\n\t\t\t{\n\t\t\t\tif (this.list)\n\t\t\t\t{\n\t\t\t\t\tonList(this.list);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet newList = [].concat(_toConsumableArray(this.value));\n\t\t\t\t\tonList(newList);\n\t\t\t\t\tthis.$emit('input', newList);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspliceList()\n\t\t\t{\n\t\t\t\tlet _arguments = arguments;\n\t\t\t\tthis.alterList(list => list.splice.apply(list, _arguments));\n\t\t\t},\n\n\t\t\tupdatePosition(oldIndex, newIndex)\n\t\t\t{\n\t\t\t\tthis.alterList(list => list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]));\n\t\t\t},\n\n\t\t\tgetRelatedContextFromMoveElement(reference)\n\t\t\t{\n\t\t\t\tlet to = reference.to,\n\t\t\t\t\trelated = reference.related;\n\n\t\t\t\tlet component = this.getUnderlyingPotencialDraggableComponent(reference);\n\n\t\t\t\tif (!component)\n\t\t\t\t\treturn {component: component};\n\n\t\t\t\tlet list = component.realList;\n\t\t\t\tlet context = {list: list, component: component};\n\n\t\t\t\tif (to !== related && list && component.getUnderlyingVm)\n\t\t\t\t{\n\t\t\t\t\tlet destination = component.getUnderlyingVm(related);\n\n\t\t\t\t\tif (destination)\n\t\t\t\t\t\treturn _extends(destination, context);\n\t\t\t\t}\n\n\t\t\t\treturn context;\n\t\t\t},\n\n\t\t\tgetVmIndex(domIndex)\n\t\t\t{\n\t\t\t\tlet indexes = this.visibleIndexes;\n\t\t\t\tlet numberIndexes = indexes.length;\n\n\t\t\t\treturn domIndex > numberIndexes - 1 ? numberIndexes : indexes[domIndex];\n\t\t\t},\n\n\t\t\tgetComponent()\n\t\t\t{\n\t\t\t\treturn this.$slots.default[0].componentInstance;\n\t\t\t},\n\n\t\t\tresetTransitionData(index)\n\t\t\t{\n\t\t\t\tif (!this.noTransitionOnDrag || !this.transitionMode)\n\t\t\t\t\treturn;\n\n\t\t\t\tlet nodes = this.getChildrenNodes();\n\t\t\t\tnodes[index].data = null;\n\n\t\t\t\tlet transitionContainer = this.getComponent();\n\t\t\t\ttransitionContainer.children = [];\n\t\t\t\ttransitionContainer.kept = undefined;\n\t\t\t},\n\n\t\t\tonDragStart(event)\n\t\t\t{\n\t\t\t\tthis.context = this.getUnderlyingVm(event.item);\n\t\t\t\tevent.item._underlying_vm_ = this.clone(this.context.element);\n\t\t\t\tdraggingElement = event.item;\n\n\t\t\t\tthis.$el.classList.add('is-dragging');\n\t\t\t},\n\n\t\t\tonDragAdd(event)\n\t\t\t{\n\t\t\t\tlet element = event.item._underlying_vm_;\n\n\t\t\t\tif (element === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tremoveNode(event.item);\n\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\t\t\t\tthis.spliceList(newIndex, 0, element);\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tthis.emitChanges({added: {element: element, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tonDragRemove(event)\n\t\t\t{\n\t\t\t\tinsertNodeAt(this.rootContainer, event.item, event.oldIndex);\n\n\t\t\t\tif (this.isCloning)\n\t\t\t\t{\n\t\t\t\t\tremoveNode(event.clone);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tthis.spliceList(oldIndex, 1);\n\t\t\t\tthis.resetTransitionData(oldIndex);\n\t\t\t\tthis.emitChanges({removed: {element: this.context.element, oldIndex: oldIndex}});\n\t\t\t},\n\n\t\t\tonDragUpdate(event)\n\t\t\t{\n\t\t\t\tremoveNode(event.item);\n\t\t\t\tinsertNodeAt(event.from, event.item, event.oldIndex);\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\n\t\t\t\tthis.updatePosition(oldIndex, newIndex);\n\t\t\t\tthis.emitChanges({moved: {element: this.context.element, oldIndex: oldIndex, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tcomputeFutureIndex(relatedContext, event)\n\t\t\t{\n\t\t\t\tif (!relatedContext.element)\n\t\t\t\t\treturn 0;\n\n\t\t\t\tlet domChildren = [].concat(_toConsumableArray(event.to.children)).filter(el => el.style.display !== 'none');\n\t\t\t\tlet currentDomIndex = domChildren.indexOf(event.related);\n\t\t\t\tlet currentIndex = relatedContext.component.getVmIndex(currentDomIndex);\n\t\t\t\tlet draggedInList = domChildren.indexOf(draggingElement) !== -1;\n\n\t\t\t\treturn draggedInList || !event.willInsertAfter ? currentIndex : currentIndex + 1;\n\t\t\t},\n\n\t\t\tonDragMove(event, originalEvent)\n\t\t\t{\n\t\t\t\tlet onMove = this.move;\n\n\t\t\t\tif (!onMove || !this.realList)\n\t\t\t\t\treturn true;\n\n\t\t\t\tlet relatedContext = this.getRelatedContextFromMoveElement(event);\n\t\t\t\tlet draggedContext = this.context;\n\t\t\t\tlet futureIndex = this.computeFutureIndex(relatedContext, event);\n\n\t\t\t\t_extends(draggedContext, {futureIndex: futureIndex});\n\t\t\t\t_extends(event, {relatedContext: relatedContext, draggedContext: draggedContext});\n\n\t\t\t\treturn onMove(event, originalEvent);\n\t\t\t},\n\n\t\t\tonDragEnd()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tdraggingElement = null;\n\n\t\t\t\tthis.$el.classList.remove('is-dragging');\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\toptions: {\n\n\t\t\t\tdeep: true,\n\t\t\t\thandler(newOptionValue)\n\t\t\t\t{\n\t\t\t\t\tfor (let property in newOptionValue)\n\t\t\t\t\t\tif (newOptionValue.hasOwnProperty(property))\n\t\t\t\t\t\t\tif (readonlyProperties.indexOf(property) === -1)\n\t\t\t\t\t\t\t\tthis._sortable.option(property, newOptionValue[property]);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst eventsListened = ['Start', 'Add', 'Remove', 'Update', 'End'];\n\tconst eventsToEmit = ['Choose', 'Sort', 'Filter', 'Clone'];\n\tconst readonlyProperties = ['Move'].concat(eventsListened, eventsToEmit).map(event => 'on' + event);\n\n\tlet draggingElement = null;\n\n\tconst _extends = Object.assign || function (target)\n\t{\n\t\tfor (let i = 1; i < arguments.length; i++)\n\t\t{\n\t\t\tlet source = arguments[i];\n\n\t\t\tfor (let key in source)\n\t\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\t\ttarget[key] = source[key];\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tconst _toConsumableArray = function (arr)\n\t{\n\t\tif (Array.isArray(arr))\n\t\t{\n\t\t\tlet arr2 = Array(arr.length);\n\n\t\t\tfor (let i = 0; i < arr.length; i++)\n\t\t\t\tarr2[i] = arr[i];\n\n\t\t\treturn arr2;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Array.from(arr);\n\t\t}\n\t};\n\n\tArray.from = Array.from || function (object)\n\t{\n\t\treturn [].slice.call(object);\n\t};\n\n\tfunction removeNode(node)\n\t{\n\t\tnode.parentElement.removeChild(node);\n\t}\n\n\tfunction insertNodeAt(parentNode, node, position)\n\t{\n\t\tlet refNode = position === 0 ? parentNode.children[0] : parentNode.children[position - 1].nextSibling;\n\t\tparentNode.insertBefore(node, refNode);\n\t}\n\n\tfunction computeVmIndex(vnodes, element)\n\t{\n\t\treturn vnodes.map(elt => elt.elm).indexOf(element);\n\t}\n\n\tfunction computeIndexes(slots, children, isTransition)\n\t{\n\t\tif (!slots)\n\t\t\treturn [];\n\n\t\tlet elmFromNodes = slots.map(elt => elt.elm);\n\t\tlet rawIndexes = [].concat(_toConsumableArray(children)).map(elt => elmFromNodes.indexOf(elt));\n\n\t\treturn isTransition ? rawIndexes.filter(ind => ind !== -1) : rawIndexes;\n\t}\n\n\tfunction emit(eventName, eventData)\n\t{\n\t\tthis.$nextTick(() => this.$emit(eventName.toLowerCase(), eventData));\n\t}\n\n\tfunction delegateAndEmit(eventName)\n\t{\n\t\tlet that = this;\n\n\t\treturn eventData =>\n\t\t{\n\t\t\tif (that.realList !== null)\n\t\t\t\tthat['onDrag' + eventName](eventData);\n\n\t\t\temit.call(that, eventName, eventData);\n\t\t};\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport const eventBus = new Vue({});\n\nexport function bottom(layout)\n{\n\tlet max = 0, bottomY;\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tbottomY = layout[i].y + layout[i].height;\n\n\t\tif (bottomY > max)\n\t\t\tmax = bottomY;\n\t}\n\n\treturn max;\n}\n\nexport function collides(item1, item2)\n{\n\tif (item1 === item2)\n\t\treturn false;\n\n\tif (item1.x + item1.width <= item2.x)\n\t\treturn false;\n\n\tif (item1.x >= item2.x + item2.width)\n\t\treturn false;\n\n\tif (item1.y + item1.height <= item2.y)\n\t\treturn false;\n\n\tif (item1.y >= item2.y + item2.height)\n\t\treturn false;\n\n\t// Yay!\n\n\treturn true;\n}\n\nexport function compact(layout, verticalCompact)\n{\n\tconst compareWith = getStatics(layout);\n\tconst sorted = sortLayoutItemsByRowCol(layout);\n\tconst out = Array(layout.length);\n\n\tfor (let i = 0, len = sorted.length; i < len; i++)\n\t{\n\t\tlet item = sorted[i];\n\n\t\tif (!item.static)\n\t\t{\n\t\t\titem = compactItem(compareWith, item, verticalCompact);\n\n\t\t\tcompareWith.push(item);\n\t\t}\n\n\t\tout[layout.indexOf(item)] = item;\n\n\t\titem.moved = false;\n\t}\n\n\treturn out;\n}\n\nexport function compactItem(compareWith, item, verticalCompact)\n{\n\tif (verticalCompact)\n\t\twhile (item.y > 0 && !getFirstCollision(compareWith, item))\n\t\t\titem.y--;\n\n\tlet collides;\n\n\twhile ((collides = getFirstCollision(compareWith, item)))\n\t\titem.y = collides.y + collides.height;\n\n\treturn item;\n}\n\nexport function createCoreData(lastX, lastY, x, y)\n{\n\tconst isStart = !isNum(lastX);\n\n\tif (isStart)\n\t{\n\t\treturn {\n\t\t\tdeltaX: 0, deltaY: 0,\n\t\t\tlastX: x, lastY: y,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n\telse\n\t{\n\t\treturn {\n\t\t\tdeltaX: x - lastX, deltaY: y - lastY,\n\t\t\tlastX: lastX, lastY: lastY,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n}\n\nexport function getAllCollisions(layout, layoutItem)\n{\n\treturn layout.filter((l) => collides(l, layoutItem));\n}\n\nexport function getControlPosition(evt)\n{\n\treturn offsetXYFromParentOf(evt);\n}\n\nexport function getFirstCollision(layout, layoutItem)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (collides(layout[i], layoutItem))\n\t\t\treturn layout[i];\n}\n\nexport function getLayoutItem(layout, id)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (layout[i].i === id)\n\t\t\treturn layout[i];\n}\n\nexport function getStatics(layout)\n{\n\treturn layout.filter((l) => l.static);\n}\n\nexport function isNum(num)\n{\n\treturn typeof num === \"number\" && !isNaN(num);\n}\n\nexport function moveElement(layout, item, x, y, isUserAction)\n{\n\tif (item.static)\n\t\treturn layout;\n\n\tif (item.y === y && item.x === x) return layout;\n\n\tconst movingUp = y && item.y > y;\n\n\tif (typeof x === \"number\")\n\t\titem.x = x;\n\n\tif (typeof y === \"number\")\n\t\titem.y = y;\n\n\titem.moved = true;\n\n\tlet sorted = sortLayoutItemsByRowCol(layout);\n\n\tif (movingUp)\n\t\tsorted = sorted.reverse();\n\n\tconst collisions = getAllCollisions(sorted, item);\n\n\tfor (let i = 0, len = collisions.length; i < len; i++)\n\t{\n\t\tconst collision = collisions[i];\n\n\t\tif (collision.moved)\n\t\t\tcontinue;\n\n\n\t\tif (item.y > collision.y && item.y - collision.y > collision.height / 4)\n\t\t\tcontinue;\n\n\t\tif (collision.static)\n\t\t\tlayout = moveElementAwayFromCollision(layout, collision, item, isUserAction);\n\t\telse\n\t\t\tlayout = moveElementAwayFromCollision(layout, item, collision, isUserAction);\n\t}\n\n\treturn layout;\n}\n\nexport function moveElementAwayFromCollision(layout, collidesWith, itemToMove, isUserAction)\n{\n\tif (isUserAction)\n\t{\n\t\tconst fakeItem = {\n\t\t\tx: itemToMove.x,\n\t\t\ty: itemToMove.y,\n\t\t\twidth: itemToMove.width,\n\t\t\theight: itemToMove.height,\n\t\t\tid: \"__fake__\"\n\t\t};\n\n\t\tfakeItem.y = Math.max(collidesWith.y - itemToMove.height, 0);\n\n\t\tif (!getFirstCollision(layout, fakeItem))\n\t\t\treturn moveElement(layout, itemToMove, undefined, fakeItem.y);\n\t}\n\n\treturn moveElement(layout, itemToMove, undefined, itemToMove.y + 1);\n}\n\nexport function offsetXYFromParentOf(evt)\n{\n\tconst offsetParent = evt.target.offsetParent || document.body;\n\tconst offsetParentRect = evt.offsetParent === document.body ? {left: 0, top: 0} : offsetParent.getBoundingClientRect();\n\n\tconst x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\tconst y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top;\n\n\treturn {x, y};\n}\n\nexport function setTransform(top, left, width, height)\n{\n\tconst translate = `translate3d(${left}px,${top}px, 0)`;\n\n\treturn {\n\t\ttransform: translate,\n\t\tWebkitTransform: translate,\n\t\tMozTransform: translate,\n\t\tmsTransform: translate,\n\t\tOTransform: translate,\n\t\twidth: width + \"px\",\n\t\theight: height + \"px\",\n\t\tposition: \"absolute\"\n\t};\n}\n\nexport function sortLayoutItemsByRowCol(layout)\n{\n\treturn [].concat(layout).sort((a, b) => (a.y > b.y || (a.y === b.y && a.x > b.x)) ? 1 : -1);\n}\n\nexport function validateLayout(layout, contextName = \"Layout\")\n{\n\tconst subProps = [\"x\", \"y\", \"width\", \"height\"];\n\n\tif (!Array.isArray(layout))\n\t\tthrow new Error(`${contextName} must be an array!`);\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tconst item = layout[i];\n\n\t\tfor (let j = 0; j < subProps.length; j++)\n\t\t\tif (typeof item[subProps[j]] !== \"number\")\n\t\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].${subProps[j]} must be a number!`);\n\n\t\tif (item.i && typeof item.i !== \"string\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].i must be a string!`);\n\n\t\tif (item.static !== undefined && typeof item.static !== \"boolean\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].static must be a boolean!`);\n\t}\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div ref=\"grid\" class=\"latte-grid\" :class=\"{'is-dragging': is_dragging}\" :style=\"styles\" role=\"grid\">\n\t\t<slot></slot>\n\t\t<latte-grid-item class=\"latte-grid-placeholder\" v-show=\"isDragging\" :x=\"placeholder.x\" :y=\"placeholder.y\" :height=\"placeholder.height\" :width=\"placeholder.width\" id=\"__placeholder__\"></latte-grid-item>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { eventBus, bottom, compact, getLayoutItem, moveElement, validateLayout } from \"../../js/ui/grid\";\n\n\texport default {\n\n\t\tname: \"latte-grid\",\n\n\t\tprops: {\n\n\t\t\tautoSize: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tcolumns: {\n\t\t\t\tdefault: 12,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\trowHeight: {\n\t\t\t\tdefault: 100,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmaxRows: {\n\t\t\t\tdefault: Infinity,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmargin: {\n\t\t\t\tdefault: () => [24, 24],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array\n\t\t\t},\n\n\t\t\tisDraggable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tisResizable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tverticalCompact: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlayout: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Array\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\teventBus.$off(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$off(\"resizeEvent\", this.resizeEventHandler);\n\n\t\t\twindow.removeEventListener(\"resize\", this.onWindowResize);\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.dragEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.dragEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\tthis.resizeEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.resizeEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\teventBus.$on(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$on(\"resizeEvent\", this.resizeEventHandler);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: null,\n\t\t\t\tmergedStyle: {},\n\t\t\t\tlastLayoutLength: 0,\n\t\t\t\tisDragging: false,\n\t\t\t\tplaceholder: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\twidth: 0\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.$nextTick(() =>\n\t\t\t{\n\t\t\t\tvalidateLayout(this.layout);\n\n\t\t\t\tconst init = () =>\n\t\t\t\t{\n\t\t\t\t\tif (this.width === null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.onWindowResize();\n\n\t\t\t\t\t\twindow.addEventListener(\"resize\", this.onWindowResize);\n\t\t\t\t\t}\n\n\t\t\t\t\tcompact(this.layout, this.verticalCompact);\n\n\t\t\t\t\tthis.updateHeight();\n\n\t\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\telementResizeDetectorMaker({strategy: \"scroll\"}).listenTo(this.$refs.grid, function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$this.onWindowResize();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tthis.$nextTick(() => init());\n\n\t\t\t\twindow.onload = init.bind(this);\n\t\t\t});\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tis_dragging()\n\t\t\t{\n\t\t\t\treturn this.isDragging;\n\t\t\t},\n\n\t\t\tstyles()\n\t\t\t{\n\t\t\t\treturn this.mergedStyle\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcontainerHeight()\n\t\t\t{\n\t\t\t\tif (!this.autoSize)\n\t\t\t\t\treturn;\n\n\t\t\t\treturn `${bottom(this.layout) * (this.rowHeight + this.margin[1]) + this.margin[1]}px`;\n\t\t\t},\n\n\t\t\tdragEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"dragmove\" || eventType === \"dragstart\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {x: 0, y: 0};\n\n\t\t\t\titem.x = x;\n\t\t\t\titem.y = y;\n\n\t\t\t\tthis.layout = moveElement(this.layout, item, x, y, true);\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"dragend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tlayoutUpdate()\n\t\t\t{\n\t\t\t\tif (typeof this.layout === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.layout.length !== this.lastLayoutLength)\n\t\t\t\t\tthis.lastLayoutLength = this.layout.length;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\tthis.updateHeight();\n\t\t\t},\n\n\t\t\tonWindowResize()\n\t\t\t{\n\t\t\t\tif (typeof this.$refs.grid === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.width = this.$refs.grid.offsetWidth;\n\t\t\t},\n\n\t\t\tresizeEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"resizestart\" || eventType === \"resizemove\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {height: 0, width: 0};\n\n\t\t\t\titem.height = height;\n\t\t\t\titem.width = width;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"resizeend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tupdateHeight()\n\t\t\t{\n\t\t\t\tthis.mergedStyle = {\n\t\t\t\t\theight: this.containerHeight()\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcolumns()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setColumns\", this.columns);\n\t\t\t},\n\n\t\t\tisDraggable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setDraggable\", this.isDraggable);\n\t\t\t},\n\n\t\t\tisResizable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setResizable\", this.isResizable);\n\t\t\t},\n\n\t\t\tlayout()\n\t\t\t{\n\t\t\t\tthis.layoutUpdate();\n\t\t\t},\n\n\t\t\trowHeight()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setRowHeight\", this.rowHeight);\n\t\t\t},\n\n\t\t\twidth()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t{\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t\tthis.updateHeight();\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"offscreen-overlay\" :class=\"overlayClasses\" :style=\"overlayStyles\">\n\t\t<div class=\"offscreen-content\" :class=\"contentClasses\" :style=\"contentStyles\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { getMainElement } from \"../../js/core\";\n\timport { closest, isTouchOnlyDevice } from \"../../js/util/dom\";\n\n\tconst TRIGGER_SIZE = 30;\n\n\tfunction getPosition(evt)\n\t{\n\t\tif (evt.changedTouches === undefined)\n\t\t\treturn {x: evt.clientX, y: evt.clientY};\n\n\t\treturn {\n\t\t\tx: evt.changedTouches[0].clientX,\n\t\t\ty: evt.changedTouches[0].clientY\n\t\t};\n\t}\n\n\texport default {\n\n\t\tname: \"latte-offscreen-container\",\n\n\t\tprops: {\n\n\t\t\tposition: {\n\t\t\t\tdefault: \"left\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String,\n\t\t\t\tvalidator: val => [\"top\", \"left\", \"right\", \"bottom\"].includes(val)\n\t\t\t},\n\n\t\t\ttouchEnabled: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisDragging: false,\n\t\t\t\tcurrent: 0.0,\n\t\t\t\tprevious: 0.0,\n\t\t\t\tcontent: null,\n\t\t\t\toverlay: null,\n\t\t\t\tcurrentPosition: {x: 0, y: 0},\n\t\t\t\tpreviousPosition: {x: 0, y: 0},\n\t\t\t\tstartPosition: {x: 0, y: 0},\n\t\t\t\ttimer: null\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.overlay = this.$el;\n\t\t\tthis.content = this.$el.querySelector(\"div.offscreen-content\");\n\n\t\t\twindow.addEventListener(\"resize\", () => this.close());\n\n\t\t\tif (isTouchOnlyDevice())\n\t\t\t{\n\t\t\t\twindow.addEventListener(\"touchcancel\", evt => this.onPointerCancel(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchstart\", evt => this.onPointerDown(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchmove\", evt => this.onPointerMove(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchend\", evt => this.onPointerUp(evt), {passive: false});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twindow.addEventListener(\"mousewheel\", evt => this.onMouseWheel(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"mousedown\", evt => this.onPointerDown(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"mouseup\", evt => this.onPointerUp(evt), {passive: false});\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\treturn this.current > 0.0;\n\t\t\t},\n\n\t\t\tcontentClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tclasses.push(`offscreen-${this.position}`);\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tclasses.push(\"is-open\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\toverlayClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tclasses.push(\"is-open\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tcontentStyles()\n\t\t\t{\n\t\t\t\tlet touchAction;\n\t\t\t\tlet transform;\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\ttouchAction = \"pan-x\";\n\t\t\t\t\t\ttransform = `translate3d(0, ${(this.current - 1) * 100}%, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\ttouchAction = \"pan-y\";\n\t\t\t\t\t\ttransform = `translate3d(${(this.current - 1) * 100}%, 0, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\ttouchAction = \"pan-y\";\n\t\t\t\t\t\ttransform = `translate3d(${(this.current - 1) * -100}%, 0, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\ttouchAction = \"pan-x\";\n\t\t\t\t\t\ttransform = `translate3d(0, ${(this.current - 1) * -100}%, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttouchAction,\n\t\t\t\t\ttransform\n\t\t\t\t};\n\t\t\t},\n\n\t\t\toverlayStyles()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tbackground: `rgba(0, 0, 0, ${this.current * .85})`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.current = 0.0;\n\t\t\t\tthis.previous = 1.0;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tthis.current = 1.0;\n\t\t\t\tthis.previous = 0.0;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tthis.close();\n\t\t\t\telse\n\t\t\t\t\tthis.open();\n\t\t\t},\n\n\t\t\tcalculateCurrent()\n\t\t\t{\n\t\t\t\tconst rect = this.content.getBoundingClientRect();\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\treturn (this.currentPosition.y - this.startPosition.y) / rect.height;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\treturn (this.currentPosition.x - this.startPosition.x) / rect.width;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\treturn (this.currentPosition.x - this.startPosition.x) / rect.width * -1;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\treturn (this.currentPosition.y - this.startPosition.y) / rect.height * -1;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcheckState()\n\t\t\t{\n\t\t\t\tthis.current = Math.max(0, Math.min(1, this.calculateCurrent() + this.previous));\n\n\t\t\t\tif (!(this.current > 0 && this.current < 1 && !this.isDragging))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.position === \"top\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.y >= this.previousPosition.y)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"left\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.x >= this.previousPosition.x)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"right\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.x <= this.previousPosition.x)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"bottom\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.y <= this.previousPosition.y)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tisContentDragAvailable(position)\n\t\t\t{\n\t\t\t\tif (this.current < 1)\n\t\t\t\t\treturn true;\n\n\t\t\t\tif (!this.isWithinElement(position, this.content))\n\t\t\t\t\treturn true;\n\n\t\t\t\tif (this.position === \"left\" || this.position === \"right\")\n\t\t\t\t\treturn Math.abs(position.x - this.currentPosition.x) > TRIGGER_SIZE;\n\n\t\t\t\tif (this.position === \"top\" || this.position === \"bottom\")\n\t\t\t\t\treturn Math.abs(position.y - this.currentPosition.y) > TRIGGER_SIZE;\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tisWithinElement(position, element)\n\t\t\t{\n\t\t\t\treturn closest(document.elementFromPoint(position.x, position.y), element) !== null;\n\t\t\t},\n\n\t\t\tisWithinTriggerBounds(position)\n\t\t\t{\n\t\t\t\tconst rect = this.$el.getBoundingClientRect();\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\treturn position.y - rect.top < TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\treturn position.x - rect.left < TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\treturn position.x > rect.left + rect.width - TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\treturn position.y > rect.top + rect.height - TRIGGER_SIZE;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonMouseWheel(evt)\n\t\t\t{\n\t\t\t\tif (!this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {deltaX, deltaY} = evt;\n\n\t\t\t\tif (Math.abs(deltaX) > 20 && (this.position === \"left\" || this.position === \"right\"))\n\t\t\t\t\tthis.close();\n\n\t\t\t\tif (Math.abs(deltaY) > 20 && (this.position === \"top\" || this.position === \"bottom\"))\n\t\t\t\t\tthis.close();\n\n\t\t\t\tif (!this.isWithinElement(getPosition(evt), this.content))\n\t\t\t\t\tevt.preventDefault();\n\t\t\t},\n\n\t\t\tonPointerCancel(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.currentPosition = getPosition(evt);\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerDown(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst position = getPosition(evt);\n\n\t\t\t\tif (!this.isOpen && !this.isWithinTriggerBounds(position))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isDragging = true;\n\n\t\t\t\tthis.previous = this.current;\n\t\t\t\tthis.currentPosition = position;\n\t\t\t\tthis.previousPosition = position;\n\t\t\t\tthis.startPosition = position;\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerMove(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!this.isDragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst position = getPosition(evt);\n\n\t\t\t\tif (!this.isContentDragAvailable(position))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.previousPosition = this.currentPosition;\n\t\t\t\tthis.currentPosition = position;\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerUp(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!this.isDragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst isSameLocation = this.currentPosition.x === this.startPosition.x && this.currentPosition.y === this.startPosition.y;\n\n\t\t\t\tif (!isSameLocation && evt.cancelable)\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.currentPosition = getPosition(evt);\n\t\t\t\tthis.isDragging = false;\n\n\t\t\t\tif (this.previous === 1 && isSameLocation && !this.isWithinElement(this.currentPosition, this.content))\n\t\t\t\t\tthis.current = 0.0;\n\t\t\t\telse\n\t\t\t\t\tthis.checkState();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tgetMainElement().classList.add(\"is-popup-opened\");\n\t\t\t\telse\n\t\t\t\t\tgetMainElement().classList.remove(\"is-popup-opened\");\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet registry = {};\n\nexport function close(name)\n{\n\tlet overlay = find(name);\n\toverlay.close();\n}\n\nexport function find(name)\n{\n\tif (typeof registry[name] === \"undefined\")\n\t\tthrow new Error(`Overlay ${name} is not registred!`);\n\n\treturn registry[name];\n}\n\nexport function open(name)\n{\n\tlet overlay = find(name);\n\toverlay.open();\n}\n\nexport function register(name, overlay)\n{\n\tregistry[name] = overlay;\n}\n\nexport function remove(name)\n{\n\tdelete registry[name];\n}\n\nexport default {\n\n\tclose,\n\n\tfind,\n\n\topen,\n\n\tregister,\n\n\tremove\n\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel pdf-viewer\" role=\"presentation\" style=\"min-height: 84px\" v-latte-context-menu :class=\"{'is-loading': isLoading}\" v-if=\"hasSupport\">\n\t\t<div class=\"page\" v-for=\"i in pages\" :id=\"'page-' + i\">\n\t\t\t<canvas></canvas>\n\t\t</div>\n\n\t\t<span class=\"spinner\"></span>\n\n\t\t<nav class=\"nav nav-list latte-context-menu\">\n\t\t\t<a class=\"nav-link\" :href=\"source\" target=\"_blank\"><i class=\"mdi mdi-open-in-new\"></i> <span>{{ \"Open in new tab\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<a class=\"nav-link\" @click=\"download\"><i class=\"mdi mdi-download\"></i> <span>{{ \"Download\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<a class=\"nav-link\" @click=\"print\"><i class=\"mdi mdi-printer\"></i> <span>{{ \"Print\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<div class=\"divider divider-horizontal\"></div>\n\t\t\t<a class=\"nav-link\" @click=\"load\"><i class=\"mdi mdi-reload\"></i> <span>{{ \"Reload\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<slot name=\"menu\"></slot>\n\t\t</nav>\n\t</div>\n\n\t<div class=\"panel\" v-else>\n\t\t<div class=\"panel-body text-center\">\n\t\t\tPlease include PDF.js in your project.\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\twindow.pdfjsLib = window.pdfjsLib || undefined;\n\n\texport default {\n\n\t\tname: \"latte-pdf-viewer\",\n\n\t\tprops: {\n\n\t\t\tsource: {\n\t\t\t\ttype: String,\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisLoading: false,\n\t\t\t\tpages: 0,\n\t\t\t\tpdf: null,\n\t\t\t\trendered: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.load();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thasSupport()\n\t\t\t{\n\t\t\t\treturn pdfjsLib !== undefined;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tload()\n\t\t\t{\n\t\t\t\tif (!this.hasSupport)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.rendered = 0;\n\n\t\t\t\tpdfjsLib.getDocument(this.source).then(pdf => this.onPDFLoaded(pdf));\n\t\t\t},\n\n\t\t\tdownload()\n\t\t\t{\n\t\t\t\tdownloadFile(\"NULL.pdf\", this.source)\n\t\t\t},\n\n\t\t\tprint()\n\t\t\t{\n\t\t\t\tprintDocument(this.source)\n\t\t\t},\n\n\t\t\tonPDFLoaded(pdf)\n\t\t\t{\n\t\t\t\tthis.pdf = pdf;\n\t\t\t\tthis.pages = this.pdf.numPages;\n\n\t\t\t\tthis.$nextTick(() => this.onPDFLoadedSecondTask());\n\t\t\t},\n\n\t\t\tonPDFLoadedSecondTask()\n\t\t\t{\n\t\t\t\tfor (let i = 1; i <= this.pages; i++)\n\t\t\t\t{\n\t\t\t\t\tlet pageElement = this.$el.querySelector(`div.page#page-${i}`);\n\n\t\t\t\t\tif (typeof pageElement === \"undefined\")\n\t\t\t\t\t\tthrow new Error(\"Page Element not found!\");\n\n\t\t\t\t\tlet pageCanvas = pageElement.querySelector(\"canvas\");\n\n\t\t\t\t\tthis.pdf.getPage(i).then(this.onPDFPageReady.bind(this, pageElement, pageCanvas));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonPDFPageReady(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tthis.renderPage(pageElement, pageCanvas, page)\n\t\t\t},\n\n\t\t\trenderPage(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tlet desiredWidth = pageElement.getBoundingClientRect().width;\n\t\t\t\tlet viewport = page.getViewport(1);\n\t\t\t\tlet scale = desiredWidth / viewport.width;\n\t\t\t\tviewport = page.getViewport(scale);\n\n\t\t\t\tlet context = pageCanvas.getContext(\"2d\");\n\t\t\t\tpageElement.style.height = (pageCanvas.height = Math.round(viewport.height)) + 'px';\n\t\t\t\tpageElement.style.width = (pageCanvas.width = Math.round(viewport.width)) + 'px';\n\n\t\t\t\tlet renderContext = {\n\t\t\t\t\tcanvasContext: context,\n\t\t\t\t\tviewport: viewport\n\t\t\t\t};\n\n\t\t\t\tpage.render(renderContext).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.rendered++;\n\t\t\t\t\tthis.isLoading = !(this.rendered === this.pages);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tsource()\n\t\t\t{\n\t\t\t\tthis.load();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { raf } from \"../../js/util/dom\";\n\nconst handler = \"latte:clickaway-handler\";\n\nfunction bind(el, binding)\n{\n\tunbind(el);\n\n\tlet callback = binding.value;\n\tlet initialMactroTaskEnded = false;\n\n\tif (typeof callback !== \"function\")\n\t\treturn;\n\n\traf(() => initialMactroTaskEnded = true);\n\n\tel[handler] = function (evt)\n\t{\n\t\tif (initialMactroTaskEnded && !el.contains(evt.target))\n\t\t\treturn callback(evt);\n\t};\n\n\tdocument.documentElement.addEventListener(\"click\", el[handler], {passive: true});\n}\n\nfunction unbind(el)\n{\n\tdocument.documentElement.removeEventListener(\"click\", el[handler]);\n\n\tdelete el[handler];\n}\n\nfunction update(el, binding)\n{\n\tif (binding.value === binding.oldValue)\n\t\treturn;\n\n\tbind(el, binding);\n}\n\nexport default {\n\n\tname: \"click-away\",\n\n\tbind,\n\n\tunbind,\n\n\tupdate\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tname: \"latte-context-menu\",\n\n\tbind(element)\n\t{\n\t\tlet contextMenu = element.contextMenuInstance = element.querySelector(\":scope > nav.latte-context-menu:not(.is-inline)\");\n\n\t\tif (contextMenu === null)\n\t\t\treturn;\n\n\t\telement.removeChild(contextMenu);\n\t\tdocument.body.appendChild(contextMenu);\n\n\t\tlet contextMenuCloseHandler = event =>\n\t\t{\n\t\t\tif (event.cancelable)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\tcontextMenu.classList.remove(\"is-open\");\n\t\t\tdocument.body.classList.remove(\"is-context-menu-open\");\n\n\t\t\tdocument.scrollingElement.removeEventListener(\"scroll\", contextMenuCloseHandler);\n\t\t\tdocument.body.removeEventListener(\"mousedown\", contextMenuCloseHandler);\n\t\t};\n\n\t\tlet contextMenuItemDownHandler = element.contextMenuItemDownHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tlet contextMenuItemUpHandler = element.contextMenuItemUpHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tcontextMenuCloseHandler(event);\n\t\t};\n\n\t\tlet contextMenuHandler = element.contextMenuHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tcontextMenu.classList.add(\"is-open\");\n\n\t\t\tlet offset = 9;\n\t\t\tlet rect = contextMenu.getBoundingClientRect();\n\n\t\t\tlet x = event.pageX - document.scrollingElement.scrollLeft;\n\t\t\tlet y = event.pageY - document.scrollingElement.scrollTop;\n\n\t\t\t// Place context menu on other side.\n\t\t\tif ((x + rect.width + offset) > window.innerWidth)\n\t\t\t\tx = x - rect.width;\n\n\t\t\tif ((y + rect.height + offset) > window.innerHeight)\n\t\t\t\ty = y - rect.height;\n\n\t\t\t// Never leave win, but that's it.\n\t\t\tif ((x + rect.width + offset) > window.innerWidth)\n\t\t\t\tx = window.innerWidth - (rect.width + offset);\n\n\t\t\tif ((y + rect.height + offset) > window.innerHeight)\n\t\t\t\ty = window.innerHeight - (rect.height + offset);\n\n\t\t\tcontextMenu.style.top = `${y}px`;\n\t\t\tcontextMenu.style.left = `${x}px`;\n\n\t\t\tdocument.body.classList.add(\"is-context-menu-open\");\n\n\t\t\tdocument.body.addEventListener(\"mousedown\", contextMenuCloseHandler);\n\t\t\twindow.addEventListener(\"scroll\", contextMenuCloseHandler, {passive: true});\n\t\t\tdocument.dispatchEvent(new CustomEvent(\"latte:context-menu\", {detail: {menu: contextMenu, open: true}}));\n\t\t};\n\n\t\telement.addEventListener(\"contextmenu\", contextMenuHandler);\n\t\tcontextMenu.addEventListener(\"mousedown\", contextMenuItemDownHandler);\n\t\tcontextMenu.addEventListener(\"mouseup\", contextMenuItemUpHandler);\n\t},\n\n\tunbind(element)\n\t{\n\t\tif (typeof element.contextMenuInstance === \"undefined\" || element.contextMenuInstance === null)\n\t\t\treturn;\n\n\t\telement.contextMenuInstance.addEventListener(\"mousedown\", event.contextMenuItemDownHandler);\n\t\telement.contextMenuInstance.addEventListener(\"mouseup\", event.contextMenuItemUpHandler);\n\n\t\tdocument.body.removeChild(element.contextMenuInstance);\n\t\telement.appendChild(element.contextMenuInstance);\n\n\t\telement.removeEventListener(\"contextmenu\", element.contextMenuHandler);\n\t\tdocument.dispatchEvent(new CustomEvent(\"latte:context-menu\", {detail: {menu: element.contextMenuInstance, open: false}}));\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tmethods: {\n\n\t\tlatte()\n\t\t{\n\t\t\treturn Latte;\n\t\t},\n\n\t\tdispatchAction(...args)\n\t\t{\n\t\t\tLatte.actions.dispatch(...args);\n\t\t}\n\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tmethods: {\n\n\t\tmoment(...args)\n\t\t{\n\t\t\treturn moment(...args);\n\t\t},\n\n\t\tmomentDuration(...args)\n\t\t{\n\t\t\treturn moment.duration(...args);\n\t\t},\n\n\t\tmomentUtc(...args)\n\t\t{\n\t\t\treturn moment.utc(...args);\n\t\t}\n\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\n/**\n * Replaces params in a string.\n *\n * @param {String} string\n * @param {Array} params\n *\n * @returns {*}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function replace(string, params = [])\n{\n\tfor (let i = 0; i < params.length; i++)\n\t\tstring = string.replace(new RegExp(`@${i}`, 'g'), params[i]);\n\n\treturn string;\n}\n\n/**\n * Translates a string.\n *\n * @param {String} domain\n * @param {String} string\n * @param {Array} params\n *\n * @returns {String}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function translate(domain, string, params = [])\n{\n\tconst translations = window.LatteI18n || {};\n\n\tif (translations === null || typeof translations[domain] === \"undefined\" || typeof translations[domain][string] === \"undefined\")\n\t\treturn replace(string, params);\n\n\treturn replace(translations[domain][string], params);\n}\n\nVue.filter(\"i18n\", (value, domain = \"root\", ...params) => Latte.i18n.translate(domain, value, params));\n\nexport default {\n\n\treplace,\n\n\ttranslate\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\n/**\n * Implementation of the <=> operator.\n *\n * @param {*} a\n * @param {*} b\n *\n * @returns {Number|null}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function spaceship(a, b)\n{\n\tif ((a === null || b === null) || typeof a !== typeof b)\n\t\treturn null;\n\n\tif (typeof a === \"string\")\n\t\treturn a.localeCompare(b);\n\n\tif (a > b)\n\t\treturn 1;\n\telse if (a < b)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nexport default {\n\n\tspaceship\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { createElement, raf } from \"../util/dom\";\nimport { timeout } from \"../core\";\nimport { spaceship } from \"../operators\";\nimport { translate } from \"../i18n\";\nimport { needsZIndex } from \"../z\";\n\nexport const Buttons = {\n\tOK: 1,\n\tCANCEL: 2,\n\tYES: 4,\n\tNO: 8,\n\tUPDATE: 16,\n\tSAVE: 32,\n\tREMOVE: 64,\n\tCREATE: 128,\n\tGO: 256,\n\tPROCEED: 512,\n\tALLOW: 1024,\n\tDENY: 2048\n};\n\nexport const ButtonsDescribed = [\n\t{id: Buttons.OK, icon: \"check-circle\", label: \"OK\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.CANCEL, icon: null, label: \"Cancel\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.YES, icon: \"check-circle\", label: \"Yes\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.NO, icon: null, label: \"No\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.UPDATE, icon: \"check-circle\", label: \"Update\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.SAVE, icon: \"check-circle\", label: \"Save\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.REMOVE, icon: \"alert-circle\", label: \"Remove\", classes: [\"btn-contained\", \"btn-error\"], weight: 1},\n\t{id: Buttons.CREATE, icon: \"check-circle\", label: \"Create\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.GO, icon: \"arrow-right-bold-circle\", label: \"Go\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.PROCEED, icon: \"arrow-right-bold-circle\", label: \"Proceed\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.ALLOW, icon: \"check-circle\", label: \"Allow\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.DENY, icon: \"close-circle\", label: \"Deny\", classes: [\"btn-text\", \"btn-dark\"], weight: 0}\n];\n\nexport function createMessage(title, message, buttons, prompt = false)\n{\n\treturn new Promise(resolve =>\n\t{\n\t\tconst overlay = createElement(\"div\", el => el.classList.add(\"latte-overlay\", \"is-visible\"));\n\t\tconst panel = createElement(\"div\", el =>\n\t\t{\n\t\t\tel.classList.add(\"panel\");\n\t\t\tel.style.setProperty(\"width\", \"540px\");\n\t\t});\n\t\tconst panelTitle = createElement(\"div\", el => el.classList.add(\"panel-header\"));\n\t\tconst panelContent = createElement(\"div\", el => el.classList.add(\"panel-body\"));\n\t\tconst panelFooter = createElement(\"div\", el => el.classList.add(\"panel-footer\", \"justify-content-end\"));\n\n\t\tneedsZIndex(z => overlay.style.setProperty(\"z-index\", z));\n\n\t\toverlay.setAttribute(\"role\", \"dialog\");\n\n\t\tlet promptInput;\n\n\t\tbuttons = buttonsToButtons(buttons);\n\n\t\tpanelTitle.appendChild(createElement(\"span\", span =>\n\t\t{\n\t\t\tspan.classList.add(\"panel-title\");\n\t\t\tspan.innerHTML = title;\n\t\t}));\n\t\tpanelContent.appendChild(createElement(\"p\", p => p.innerHTML = message));\n\n\t\tif (prompt)\n\t\t{\n\t\t\tconst formGroup = createElement(\"div\", el => el.classList.add(\"form-group\", \"mb-0\"));\n\n\t\t\tpromptInput = createElement(\"input\", el =>\n\t\t\t{\n\t\t\t\tel.classList.add(\"form-control\");\n\t\t\t\tel.setAttribute(\"type\", \"text\");\n\t\t\t\tformGroup.appendChild(el);\n\t\t\t});\n\n\t\t\tpanelContent.appendChild(formGroup);\n\t\t}\n\n\t\tfor (const button of buttons)\n\t\t{\n\t\t\tconst el = createElement(\"button\", el => el.classList.add(\"btn\", \"btn-contained\", ...button.classes));\n\n\t\t\tif (button.icon !== null)\n\t\t\t\tel.appendChild(createElement(\"i\", i => i.classList.add(\"mdi\", `mdi-${button.icon}`)));\n\n\t\t\tel.appendChild(createElement(\"span\", span => span.innerHTML = button.label));\n\n\t\t\tel.addEventListener(\"click\", () =>\n\t\t\t{\n\t\t\t\traf(() => overlay.classList.remove(\"is-open\"));\n\t\t\t\traf(() => overlay.classList.remove(\"is-visible\"), 270);\n\n\t\t\t\tLatte.actions.dispatch(\"latte:overlay\", {overlay, open: false});\n\n\t\t\t\tresolve({\n\t\t\t\t\tbutton: button.id,\n\t\t\t\t\tinput: (prompt ? promptInput.value : undefined)\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tpanelFooter.appendChild(el);\n\t\t}\n\n\t\tpanel.appendChild(panelTitle);\n\t\tpanel.appendChild(panelContent);\n\t\tpanel.appendChild(panelFooter);\n\n\t\toverlay.appendChild(panel);\n\n\t\tdocument.body.appendChild(overlay);\n\n\t\tLatte.actions.dispatch(\"latte:overlay\", {overlay, open: true});\n\n\t\traf(() =>\n\t\t{\n\t\t\toverlay.classList.add(\"is-visible\");\n\n\t\t\traf(() => overlay.classList.add(\"is-open\"));\n\t\t});\n\t});\n}\n\nexport function alert(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK);\n}\n\nexport function confirm(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK | Buttons.CANCEL);\n}\n\nexport function prompt(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK | Buttons.CANCEL, true);\n}\n\nfunction buttonsToButtons(buttons)\n{\n\tlet actualButtons = [];\n\n\tfor (let button of ButtonsDescribed)\n\t\tif ((buttons & button.id) === button.id)\n\t\t\tactualButtons.push(button);\n\n\tactualButtons = actualButtons.sort((a, b) => spaceship(a.weight, b.weight));\n\tactualButtons.forEach(button => button.label = translate(\"root\", button.label));\n\n\treturn actualButtons;\n}\n\nexport default {\n\n\tButtons,\n\n\tButtonsDescribed,\n\n\tcreateMessage,\n\n\talert,\n\n\tconfirm,\n\n\tprompt\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function getCookie(name)\n{\n\tname = `${name}=`;\n\n\tconst decoded = decodeURIComponent(document.cookie);\n\tconst cookies = decoded.split(\";\");\n\n\tfor (let i = 0; i < cookies.length; i++)\n\t{\n\t\tlet cookie = cookies[i];\n\n\t\twhile (cookie.charAt(0) === \" \")\n\t\t\tcookie = cookie.substring(1);\n\n\t\tif (cookie.indexOf(name) === 0)\n\t\t\treturn JSON.parse(decodeURIComponent(cookie.substring(name.length)));\n\t}\n\n\treturn undefined;\n}\n\nexport function setCookie(name, value, days = 21)\n{\n\tconst date = new Date();\n\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\n\tdocument.cookie = `${name}=${encodeURIComponent(JSON.stringify(value))};expires=${date.toUTCString()};path=/`;\n}\n\nexport default {\n\n\tgetCookie,\n\n\tsetCookie\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { dispatch, on } from \"../actions\";\nimport { getCookie, setCookie } from \"../util/cookies\";\nimport { interval } from \"../core\";\n\nexport function createRootComponent()\n{\n\tdocument.body.dataset.theme = document.body.dataset.theme || getCookie(\"$ui:theme\") || \"light\";\n\n\treturn new Vue({\n\n\t\tel: \"main#app\",\n\n\t\tcreated()\n\t\t{\n\t\t\ton(\"latte:switch-theme\", data => this.onSwitchTheme(data));\n\n\t\t\twindow.addEventListener(\"hashchange\", onHashChange, false);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tany: {}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tinitializeTick();\n\t\t\tonHashChange();\n\t\t\tremoveQueryString();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonSwitchTheme(data)\n\t\t\t{\n\t\t\t\tif (!(\"themeId\" in data))\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {themeId} = data;\n\n\t\t\t\tdocument.body.dataset.theme = themeId;\n\t\t\t\tsetCookie(\"$ui:theme\", themeId);\n\t\t\t}\n\n\t\t}\n\n\t});\n}\n\nfunction initializeTick()\n{\n\tinterval(250, () =>\n\t{\n\t\tif (document.hidden === true)\n\t\t\treturn;\n\n\t\tdispatch(\"latte:tick\", window.performance.now());\n\t});\n}\n\nfunction onHashChange()\n{\n\tconst hash = location.hash.substr(1);\n\n\tif (!hash || hash.length === 0)\n\t\treturn;\n\n\tconst raw = hash.split(\"&\");\n\tconst parameters = {};\n\n\tfor (let item of raw)\n\t{\n\t\tconst kv = item.split(\"=\", 2);\n\t\tlet value = kv[1] || null;\n\t\tlet vars = {};\n\n\t\tif (value.indexOf(\"/\") > -1)\n\t\t{\n\t\t\tconst ad = value.split(\"/\");\n\t\t\tvalue = ad.shift();\n\n\t\t\tfor (let d of ad)\n\t\t\t{\n\t\t\t\tconst kv = d.split(\":\", 2);\n\t\t\t\tvars[kv[0]] = kv[1];\n\t\t\t}\n\t\t}\n\n\t\tparameters[kv[0]] = {value, vars};\n\t}\n\n\tdispatch(\"latte:hash-change\", parameters);\n}\n\nfunction removeQueryString()\n{\n\tlet queryString = window.location.search.substr(1);\n\n\tif (queryString === \"\")\n\t\treturn;\n\n\tif (queryString.substr(0, 6) === \"saved=\")\n\t\thistory.replaceState(null, '', window.location.pathname || window.location.path);\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function initializeForms()\n{\n\tdocument.querySelectorAll(`form[method=\"post\"]`).forEach(form => initializeForm(form));\n}\n\nfunction initializeForm(form)\n{\n\tform.addEventListener(\"submit\", onFormSubmit.bind(window, form));\n\tform.addEventListener(\"keyup\", onFormKeyUp.bind(window, form));\n}\n\nfunction onFormKeyUp(form, evt)\n{\n\tif (evt.ctrlKey !== true)\n\t\treturn;\n\n\tif ((evt.code || evt.key) !== \"Enter\")\n\t\treturn;\n\n\tonFormSubmit(form);\n\tform.submit();\n}\n\nfunction onFormSubmit(form)\n{\n\tform.querySelectorAll(\".btn[type=submit]\").forEach(btn =>\n\t{\n\t\tif (btn.classList.contains(\"btn-icon\"))\n\t\t\treturn;\n\n\t\tconst icon = btn.querySelector(\"i.mdi\");\n\n\t\tif (icon === null)\n\t\t\treturn;\n\n\t\ticon.classList.add(\"spinner\");\n\n\t\tif (btn.classList.contains(\"btn-light\"))\n\t\t\ticon.classList.add(\"spinner-primary\");\n\t\telse\n\t\t\ticon.classList.add(\"spinner-light\");\n\n\t\tbtn.classList.add(\"disabled\");\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { on } from \"../actions.js\";\nimport { id } from \"../api.js\"\nimport { isIterable } from \"../core.js\";\n\nexport function initializeNotices()\n{\n\tlet notices = Array.from(document.querySelectorAll(\"div.notice\"));\n\tnotices = notices.filter(notice => notice.querySelector(\"button.notice-dismiss\") !== null);\n\tnotices = notices.map(notice => notice.querySelector(\"button.notice-dismiss\"));\n\n\tnotices.forEach(dismissButton => dismissButton.addEventListener(\"click\", () => dismissButton.parentNode.parentNode.removeChild(dismissButton.parentNode)));\n\n\ton(\"latte:notice\", data => create(decodeURIComponent(data.message), data.type || \"info\"));\n}\n\nexport function areEntitiesNotices(entities)\n{\n\tif (!isIterable(entities))\n\t\treturn false;\n\n\tfor (let entity of entities)\n\t\tif (!isEntityNotice(entity))\n\t\t\treturn false;\n\n\treturn true;\n}\n\nexport function create(message, type, dismissible = true)\n{\n\tconst noticeId = id();\n\n\tconst notice = document.createElement(\"div\");\n\tnotice.classList.add(\"notice\", `notice-${type}`);\n\tnotice.setAttribute(\"id\", noticeId);\n\n\tconst p = document.createElement(\"p\");\n\tp.innerHTML = message;\n\n\tnotice.appendChild(p);\n\n\tif (dismissible)\n\t{\n\t\tconst dismiss = document.createElement(\"button\");\n\t\tdismiss.classList.add(\"btn\", \"btn-text\", \"btn-icon\", \"notice-dismiss\");\n\n\t\tconst icon = document.createElement(\"i\");\n\t\ticon.classList.add(\"mdi\", \"mdi-close\");\n\n\t\tdismiss.appendChild(icon);\n\t\tdismiss.addEventListener(\"click\", () => remove(noticeId), {passive: true});\n\n\t\tnotice.appendChild(dismiss);\n\t}\n\n\tconst content = document.querySelector(\"main#app > div.content\");\n\n\tcontent.insertBefore(notice, content.querySelector(\":scope > *:first-child\"));\n\n\treturn noticeId;\n}\n\nexport function isEntityNotice(entity)\n{\n\treturn entity[\"@type\"] === \"Latte\\\\Framework\\\\Entity\\\\Notice\";\n}\n\nexport function remove(noticeId)\n{\n\tconst notice = document.querySelector(`div.notice#${noticeId}`);\n\tnotice.parentNode.removeChild(notice);\n}\n\nexport default {\n\n\tareEntitiesNotices,\n\n\tcreate,\n\n\tisEntityNotice,\n\n\tremove\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function initializePanels()\n{\n\tdocument.querySelectorAll(\"div.panel > table\").forEach(t => t.parentNode.classList.add(\"panel-table\"));\n\tdocument.querySelectorAll(\"div.panel.panel-toggleable\").forEach(panel => initializePanel(panel));\n}\n\nexport function initializePanel(panel)\n{\n\tconst header = panel.querySelector(\"div.panel-header\");\n\n\tif (header === null)\n\t\treturn;\n\n\tconst hasRightItems = header.querySelectorAll(\".ml-auto\").length > 0;\n\n\tconst toggle = document.createElement(\"button\");\n\ttoggle.setAttribute(\"type\", \"button\");\n\ttoggle.classList.add(\"panel-toggle\", \"btn\", \"btn-text\", \"btn-icon\", \"btn-dark\");\n\n\tif (!hasRightItems)\n\t\ttoggle.classList.add(\"ml-auto\");\n\n\ttoggle.innerHTML = '<i class=\"mdi mdi-chevron-down\"></i>';\n\n\theader.appendChild(toggle);\n\n\tif (panel.classList.contains(\"is-open\"))\n\t\topen(panel);\n\telse\n\t\tclose(panel);\n\n\ttoggle.addEventListener(\"click\", () =>\n\t{\n\t\tif (panel.classList.contains(\"is-open\"))\n\t\t\tclose(panel);\n\t\telse\n\t\t\topen(panel);\n\t});\n}\n\nexport function close(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.add(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.remove(\"mdi-rotate-180\");\n\n\tpanel.classList.add(\"is-closed\");\n\tpanel.classList.remove(\"is-open\");\n}\n\nexport function open(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.remove(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.add(\"mdi-rotate-180\");\n\n\tpanel.classList.remove(\"is-closed\");\n\tpanel.classList.add(\"is-open\");\n}\n\nexport default {\n\n\tclose,\n\n\tinitializePanel,\n\n\topen\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { createElement, live } from \"../util/dom.js\";\nimport { on } from \"../actions.js\";\nimport { raf } from \"../util/dom\";\n\nlet tooltipContained = true;\nlet tooltipElement = null;\n\nexport function initializeTooltips()\n{\n\ttooltipElement = createElement(\"div\", div =>\n\t{\n\t\tdiv.setAttribute(\"class\", \"tooltip is-hidden\");\n\n\t\tdocument.body.appendChild(div);\n\t});\n\n\tlive(document.body, \"[data-tooltip]\", \"pointerover\", (el, evt) => onTooltipElementHover(el, evt));\n\tlive(document.body, \"[data-tooltip]\", \"pointerout\", (el, evt) => despawnTooltip(el, evt));\n\n\ton(\"latte:tooltip\", data => spawnTooltip(data));\n\ton(\"latte:tooltip:hide\", () => despawnTooltip());\n}\n\nfunction despawnTooltip()\n{\n\ttooltipElement.classList.add(\"is-hidden\");\n}\n\nfunction spawnTooltip(data)\n{\n\tlet {x, y, content, position = \"vertical\"} = data;\n\n\tif (content === undefined)\n\t\treturn;\n\n\ttooltipElement.innerHTML = \"\";\n\n\tif (content instanceof HTMLElement)\n\t\ttooltipElement.appendChild(content);\n\telse\n\t\ttooltipElement.innerHTML = content;\n\n\ttooltipElement.classList.remove(...tooltipElement.classList.values());\n\ttooltipElement.classList.add(\"tooltip\", ...(data.classes || []));\n\n\tif (position === \"top\" || (position === \"vertical\" && y > window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-top\");\n\n\tif (position === \"left\" || (position === \"horizontal\" && x > window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-left\");\n\n\tif (position === \"right\" || (position === \"horizontal\" && x <= window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-right\");\n\n\tif (position === \"bottom\" || (position === \"vertical\" && y <= window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-bottom\");\n\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-top\");\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-left\");\n\n\traf(() =>\n\t{\n\t\tconst tooltipRect = tooltipElement.getBoundingClientRect();\n\n\t\tlet top = 0;\n\t\tlet left = 0;\n\t\tlet offset = 9;\n\n\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t{\n\t\t\ttop = y - tooltipRect.height - offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x - tooltipRect.width - offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x + offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t{\n\t\t\ttop = y + offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\n\t\tif (data.adjustCoordinates)\n\t\t{\n\t\t\tlet coords = data.adjustCoordinates(left, top, tooltipRect);\n\t\t\ttop = coords.y;\n\t\t\tleft = coords.x;\n\t\t}\n\n\t\tif (tooltipContained)\n\t\t{\n\t\t\tlet adjustment = 0;\n\t\t\tlet offset = 12;\n\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\") || tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t{\n\t\t\t\tif (offset > left)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - left;\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((left + tooltipRect.width + offset) > window.innerWidth)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerWidth - (left + tooltipRect.width + offset);\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-left\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\") || tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t{\n\t\t\t\tif (offset > top)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - top;\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((top + tooltipRect.height + offset) > window.innerHeight)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerHeight - (top + tooltipRect.height + offset);\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-top\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t}\n\n\t\ttooltipElement.style.setProperty(\"transform\", `translate3d(${Math.round(left)}px, ${Math.round(top)}px, 0)`);\n\t});\n}\n\nfunction onTooltipElementHover(el)\n{\n\tconst str = el.dataset.tooltip;\n\tconst classes = el.dataset.tooltipClass || \"tooltip-bottom\";\n\n\tif (str.trim() === \"\")\n\t\treturn;\n\n\tif (el.classList.contains(\"tooltip-disabled\"))\n\t\treturn;\n\n\tconst pos = el.getBoundingClientRect();\n\n\tspawnTooltip({\n\t\tx: pos.left + (pos.width / 2),\n\t\ty: pos.top + (pos.height / 2),\n\t\tclasses: classes.split(\" \"),\n\t\tcontent: str,\n\t\tposition: null,\n\n\t\tadjustCoordinates(x, y)\n\t\t{\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t\t\ty -= pos.height / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t\t\tx -= pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t\tx += pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t\ty += pos.height / 2;\n\n\t\t\treturn {x, y};\n\t\t}\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { getLattePath } from \"./util/dom\";\n\nfunction registerCSSPaintWorklets()\n{\n\tCSS.paintWorklet.addModule(getLattePath() + \"worklet/paint/btn-contained-background.js\");\n}\n\nfunction registerCSSProperties()\n{\n\tCSS.registerProperty({\n\t\tname: \"--btn-contained-hover-state\",\n\t\tsyntax: \"<number>\",\n\t\tinherits: false,\n\t\tinitialValue: 0\n\t})\n}\n\n// From here we need to check if each Houdini API is available.\n\nif (CSS && CSS.paintWorklet)\n\tregisterCSSPaintWorklets();\n\nif (CSS && CSS.registerProperty)\n\tregisterCSSProperties();\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function copy(text)\n{\n\tnavigator.clipboard.writeText(text)\n\t\t.then(() => console.debug(\"[Clipboard] Text copied to clipboard!\"))\n\t\t.catch(err => console.error(err));\n}\n\nexport function paste()\n{\n\treturn navigator.clipboard.readText()\n\t\t.catch(err => console.error(err));\n}\n\nexport default {\n\n\tcopy,\n\n\tpaste\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function isJson(str)\n{\n\ttry\n\t{\n\t\tJSON.parse(str);\n\n\t\treturn true;\n\t}\n\tcatch(err)\n\t{\n\t\treturn false;\n\t}\n}\n\nexport default {\n\n\tisJson\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport actions from \"./actions\";\nimport api from \"./api\";\nimport clipboard from \"./util/clipboard\";\nimport cookie from \"./util/cookies\";\nimport core from \"./core\";\nimport dom from \"./util/dom\";\nimport i18n from \"./i18n\";\nimport json from \"./util/json\";\nimport messages from \"./ui/messages\";\nimport notices from \"./ui/notices\";\nimport operators from \"./operators\";\nimport overlays from \"./ui/overlays\";\nimport panels from \"./ui/panels\";\nimport string from \"./util/string\";\n\nwindow.Latte = {\n\tactions,\n\tapi,\n\tclipboard,\n\tcookie,\n\tcore,\n\tdom,\n\ti18n,\n\tjson,\n\tmessages,\n\tnotices,\n\toperators,\n\toverlays,\n\tpanels,\n\tstring,\n\tvue: Vue\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport \"./z\";\nimport \"./hid/OutsideEvent\";\nimport \"./hid/PointerEvents\";\n\nimport * as Components from \"../vue/component\";\nimport * as Directives from \"../vue/directive\";\nimport * as Mixins from \"../vue/mixin\"\nimport * as RTEPlugins from \"../vue/rich-text-editor\";\nimport * as Widgets from \"../vue/widget\";\n\nimport { createRootComponent } from \"./ui/root\";\nimport { initializeForms } from \"./ui/forms\";\nimport { initializeNotices } from \"./ui/notices\";\nimport { initializePanels } from \"./ui/panels\";\nimport { initializeTooltips } from \"./ui/tooltip\";\n\nwindow.LatteMomentLocale = window.LatteMomentLocale || \"en\";\n\nimport \"./houdini-apis\";\nimport \"./sdk\";\n\nObject.values(Directives).forEach(d => Vue.directive(d.name, d));\nObject.values(Mixins).forEach(m => Vue.mixin(m));\n\nObject.values(Components).forEach(c => Vue.component(c.name, c));\nObject.values(RTEPlugins).forEach(p => Vue.component(p.name, p));\nObject.values(Widgets).forEach(w => Vue.component(w.name, w));\n\nmoment.locale(window.LatteMomentLocale);\n\nwindow.addEventListener(\"DOMContentLoaded\", () =>\n{\n\tcreateRootComponent();\n\tinitializeForms();\n\tinitializeNotices();\n\tinitializePanels();\n\tinitializeTooltips();\n});\n"],"names":["currentZ","needsZIndex","fn","lattePath","closest","element","selector","document","parentNode","matches","createElement","undefined","el","getLattePath","lattejs","querySelector","Error","getAttribute","split","isTouchOnlyDevice","window","navigator","msMaxTouchPoints","live","root","event","callback","options","passive","indexOf","forEach","addEventListener","evt","qs","querySelectorAll","index","target","Array","prototype","call","parentElement","raf","delay","setTimeout","requestAnimationFrame","relativeCoordsTo","clientX","clientY","rect","getBoundingClientRect","x","left","y","top","downloadFile","fileName","url","a","download","href","body","appendChild","click","remove","printDocument","wnd","open","print","close","toDOM","str","child","temp","fragment","createDocumentFragment","innerHTML","firstChild","OutsideEvent","source","listeners","type","listener","id","this","length","push","_this","isWithinSource","findIndex","l","removeEventListener","splice","pageX","documentElement","scrollingElement","elementFromPoint","scrollLeft","pageY","scrollTop","array","Uint32Array","crypto","getRandomValues","join","request","fetch","Object","assign","credentials","EventTarget","addOutsideEventListener","outsideEvent","removeOutsideEventListener","PointerEvent","isATouchOnlyDevice","events","pointerdown","pointermove","pointerover","pointerout","pointerup","handlers","tap","$this","isTap","original","overrideType","requestJson","then","r","json","normalizeComponent","compiledTemplate","injectStyle","defaultExport","scopeId","isFunctionalTemplate","moduleIdentifier","isShadowMode","createInjector","createInjectorSSR","createInjectorShadow","const","hook","render","staticRenderFns","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","main","deepMerge","sources","shift","isObject","key","hasOwnProperty","getMainElement","handleError","err","Latte","messages","alert","stack","obj","_typeof","isArray","interval","timeout","func","setInterval","isIterable","Symbol","iterator","updateURLHash","data","parts","d","vk","value","vars","hash","location","history","replaceState","title","pathname","search","randomPassword","availableSets","sets","all","password","set","Math","floor","random","i","j","tmp","shuffleString","register","actions","ActionSubscription","action","performance","now","filter","sub","dispatch","handle","on","dataset","actionData","parameters","isOldIE","test","userAgent","toLowerCase","style","css","group","media","styles","ids","Set","has","let","code","map","btoa","unescape","encodeURIComponent","JSON","stringify","setAttribute","HEAD","styleSheet","cssText","Boolean","size","textNode","createTextNode","nodes","childNodes","removeChild","insertBefore","addStyle","head","getElementsByTagName","isNullOrWhitespace","replace","commaCommaAnd","strs","eventBus","Vue","collides","item1","item2","width","height","compact","layout","verticalCompact","compareWith","static","sorted","sortLayoutItemsByRowCol","out","len","item","compactItem","moved","getFirstCollision","createCoreData","lastX","lastY","num","isNaN","deltaX","deltaY","getControlPosition","offsetParent","offsetParentRect","layoutItem","getLayoutItem","moveElement","isUserAction","movingUp","reverse","collisions","collision","moveElementAwayFromCollision","collidesWith","itemToMove","fakeItem","max","sort","b","contextName","subProps","bottomY","translate","transform","WebkitTransform","MozTransform","msTransform","OTransform","position","registry","find","name","overlay","handler","bind","binding","unbind","initialMactroTaskEnded","contains","update","oldValue","contextMenu","contextMenuInstance","contextMenuCloseHandler","cancelable","preventDefault","stopPropagation","classList","contextMenuItemDownHandler","contextMenuItemUpHandler","contextMenuHandler","innerWidth","innerHeight","dispatchEvent","CustomEvent","detail","menu","methods","latte","dispatchAction","moment","momentDuration","duration","momentUtc","utc","string","params","RegExp","domain","translations","LatteI18n","i18n","spaceship","localeCompare","Buttons","OK","CANCEL","YES","NO","UPDATE","SAVE","REMOVE","CREATE","GO","PROCEED","ALLOW","DENY","ButtonsDescribed","icon","label","classes","weight","createMessage","message","buttons","prompt","Promise","resolve","promptInput","panel","setProperty","panelTitle","panelContent","panelFooter","z","actualButtons","button","buttonsToButtons","span","p","formGroup","input","confirm","getCookie","cookies","decodeURIComponent","cookie","charAt","substring","parse","setCookie","days","date","Date","setTime","getTime","toUTCString","createRootComponent","theme","created","onSwitchTheme","onHashChange","any","mounted","hidden","queryString","substr","path","removeQueryString","themeId","raw","kv","ad","initializeForms","form","onFormSubmit","ctrlKey","submit","btn","create","dismissible","noticeId","notice","dismiss","content","isEntityNotice","entity","areEntitiesNotices","entities","initializePanel","header","hasRightItems","toggle","hidableItems","tooltipElement","initializeTooltips","div","tooltip","tooltipClass","trim","pos","spawnTooltip","adjustCoordinates","onTooltipElementHover","despawnTooltip","HTMLElement","values","removeProperty","tooltipRect","coords","adjustment","round","CSS","paintWorklet","addModule","registerProperty","syntax","inherits","initialValue","copy","text","clipboard","writeText","catch","paste","readText","isJson","api","core","dom","notices","operators","overlays","panels","vue","LatteMomentLocale","Directives","directive","Mixins","m","mixin","Components","c","component","RTEPlugins","Widgets","w","locale","from","dismissButton","t"],"mappings":"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"}