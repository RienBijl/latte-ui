{"version":3,"file":"latte.js","sources":["../src/js/util/dom.js","../src/js/core.js","../src/js/actions.js","../src/js/api.js","../src/js/util/clipboard.js","../src/js/util/cookies.js","../src/js/i18n.js","../src/js/operators.js","../src/js/z.js","../src/js/ui/messages.js","../src/js/ui/notices.js","../src/js/ui/overlays.js","../src/js/ui/panels.js","../src/js/util/string.js","../src/js/sdk.js","../src/js/util/json.js","../src/js/houdini-apis.js","../src/js/ui/forms.js","../src/js/ui/tooltip.js","../src/js/hid/OutsideEvent.js","../src/vue/component/Autocomplete.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/vue/component/ButtonDropdown.vue","../src/vue/component/Chart.vue","../src/vue/component/ChartPanel.vue","../node_modules/vue-runtime-helpers/dist/inject-style/browser.js","../src/vue/component/ComboBox.vue","../src/vue/component/ComboBoxItem.vue","../src/vue/component/DataFragment.vue","../src/vue/component/DataTable.vue","../src/vue/component/DataTableActions.vue","../src/vue/component/DatePicker.vue","../src/vue/component/DatePickerCalendar.vue","../src/vue/component/DateTimePicker.vue","../src/vue/component/Draggable.vue","../src/js/ui/grid.js","../src/vue/component/Grid.vue","../src/vue/component/GridItem.vue","../src/vue/component/Guide.vue","../src/vue/component/JsonEditor.vue","../src/vue/component/JsonEditorIaf.vue","../src/vue/component/JsonEditorView.vue","../src/vue/component/JsonEditorViewArray.vue","../src/vue/component/MegaMenu.vue","../src/vue/component/Moment.vue","../src/vue/component/Notifications.vue","../src/vue/component/OffscreenContainer.vue","../src/vue/component/Overlay.vue","../src/vue/component/Pagination.vue","../src/vue/component/Password.vue","../src/vue/component/PdfViewer.vue","../src/vue/component/Popup.vue","../src/vue/component/Progress.vue","../src/vue/component/RichTextEditor.vue","../src/vue/component/Ripple.vue","../src/vue/component/SVGUndraw.vue","../src/vue/component/SortingButton.vue","../src/vue/component/Submenu.vue","../src/vue/component/Tab.vue","../src/vue/component/TabBar.vue","../src/vue/component/TabContainer.vue","../src/vue/component/TimePickerClock.vue","../src/vue/component/TreeView.vue","../src/vue/component/TreeViewItem.vue","../src/vue/component/Uploader.vue","../src/vue/component/UploaderPhoto.vue","../src/vue/directive/ClickAway.js","../src/vue/directive/ContextMenu.js","../src/vue/mixin/LatteApisMixin.js","../src/vue/mixin/MomentMixin.js","../src/vue/rich-text-editor/RTEAlignmentPlugin.vue","../src/vue/rich-text-editor/RTEBasicFormattingPlugin.vue","../src/vue/rich-text-editor/RTEMentionsPlugin.vue","../src/vue/widget/Widget.vue","../src/vue/widget/WidgetToday.vue","../src/index.js","../src/js/hid/PointerEvents.js","../src/js/app.js"],"sourcesContent":["/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet lattePath = null;\n\nexport function closest(element, selector)\n{\n\tfor (; element && element !== document; element = element.parentNode)\n\t\tif (element === selector || (typeof selector === \"string\" && element.matches(selector)))\n\t\t\treturn element;\n\n\treturn null;\n}\n\nexport function createElement(element, fn = undefined)\n{\n\tconst el = document.createElement(element);\n\n\tif (fn !== undefined)\n\t\tfn(el);\n\n\treturn el;\n}\n\nexport function downloadFile(fileName, url)\n{\n\tcreateElement(\"a\", a =>\n\t{\n\t\ta.download = fileName;\n\t\ta.href = url;\n\n\t\tdocument.body.appendChild(a);\n\n\t\ta.click();\n\t\ta.remove();\n\t});\n}\n\nexport function getLattePath()\n{\n\tif (lattePath !== null)\n\t\treturn lattePath;\n\n\tconst lattejs = document.querySelector(`script[src*=\"latte.js\"]`);\n\n\tif (lattejs === null)\n\t\treturn lattePath = \"/\"; // We're going to play it save.\n\n\treturn lattePath = lattejs.getAttribute(\"src\").split(\"latte.js\")[0] || null;\n}\n\nexport function isTouchOnlyDevice()\n{\n\treturn \"ontouchstart\" in window || navigator.msMaxTouchPoints;\n}\n\nexport function live(root, selector, event, callback, options = {passive: true})\n{\n\tif (event.indexOf(\" \") > -1)\n\t{\n\t\tconst events = event.split(\" \");\n\n\t\tevents.forEach(event => live(root, selector, event, callback));\n\n\t\treturn;\n\t}\n\n\troot.addEventListener(event, function (evt)\n\t{\n\t\tconst qs = root.querySelectorAll(selector);\n\n\t\tif (!qs)\n\t\t\treturn;\n\n\t\tlet el = evt.target, index;\n\n\t\twhile (el && ((index = Array.prototype.indexOf.call(qs, el)) === -1))\n\t\t\tel = el.parentElement;\n\n\t\tif (index > -1)\n\t\t\tcallback(el, evt)\n\n\t}, options);\n}\n\nexport function printDocument(url)\n{\n\tconst wnd = window.open(url);\n\twnd.addEventListener(\"load\", () =>\n\t{\n\t\twnd.print();\n\t\twnd.addEventListener(\"focus\", () => wnd.close());\n\t});\n}\n\nexport function raf(fn, delay = undefined)\n{\n\tif (delay !== undefined)\n\t\treturn setTimeout(() => requestAnimationFrame(fn), delay);\n\n\trequestAnimationFrame(fn);\n}\n\nexport function relativeCoordsTo(element, evt)\n{\n\tif (!evt.clientX || !evt.clientY)\n\t\treturn undefined;\n\n\tconst rect = element.getBoundingClientRect();\n\n\treturn {\n\t\tx: evt.clientX - rect.left,\n\t\ty: evt.clientY - rect.top\n\t};\n}\n\nexport function removeSavedFromQueryString()\n{\n\tlet queryString = window.location.search.substr(1);\n\n\tif (queryString === \"\")\n\t\treturn;\n\n\tif (queryString.substr(0, 6) === \"saved=\")\n\t\thistory.replaceState(null, '', window.location.pathname || window.location.path);\n}\n\nexport function toDOM(str)\n{\n\tconst temp = document.createElement(\"div\");\n\tconst fragment = document.createDocumentFragment();\n\n\tlet child;\n\n\ttemp.innerHTML = str;\n\n\twhile ((child = temp.firstChild))\n\t\tfragment.appendChild(child);\n\n\treturn fragment;\n}\n\nexport default {\n\n\tclosest,\n\n\tcreateElement,\n\n\tdownloadFile,\n\n\tlive,\n\n\tprintDocument,\n\n\traf,\n\n\trelativeCoordsTo,\n\n\tremoveSavedFromQueryString,\n\n\ttoDOM\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet main = undefined;\n\n/**\n * Deep merges multiple objects.\n *\n * @param {*} target\n * @param {*} sources\n *\n * @returns {*}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function deepMerge(target, ...sources)\n{\n\tif (sources.length === 0)\n\t\treturn target;\n\n\tconst source = sources.shift();\n\n\tif (!isObject(target) || !isObject(source))\n\t\treturn deepMerge(target, ...sources);\n\n\tfor (const key in source)\n\t{\n\t\tif (!source.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tif (isObject(source[key]))\n\t\t{\n\t\t\tif (!target[key])\n\t\t\t\tObject.assign(target, {[key]: source[key]});\n\n\t\t\tdeepMerge(target[key], source[key]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tObject.assign(target, {[key]: source[key]});\n\t\t}\n\t}\n\n\treturn deepMerge(target, ...sources);\n}\n\n/**\n * Gets the main#app element.\n *\n * @returns {HTMLMainElement}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function getMainElement()\n{\n\treturn main || (main = document.querySelector(\"main#app\"));\n}\n\n/**\n * Handles an Error.\n *\n * @param {Error} err\n * @param {Function|undefined} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function handleError(err, fn = undefined)\n{\n\tLatte.messages.alert(\"Aw snap!\", `<pre>${err.stack}</pre>`);\n\n\tif (fn)\n\t\tfn();\n}\n\n/**\n * Returns TRUE when obj is an object.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isObject(obj)\n{\n\treturn obj && typeof obj === \"object\" && !Array.isArray(obj);\n}\n\n/**\n * Sets an interval.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function interval(timeout, func)\n{\n\tfunc();\n\n\treturn setInterval(func, timeout);\n}\n\n/**\n * Returns TRUE when obj is iterable.\n *\n * @param {*} obj\n *\n * @returns {Boolean}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function isIterable(obj)\n{\n\tif (obj === null)\n\t\treturn false;\n\n\treturn typeof obj[Symbol.iterator] === \"function\";\n}\n\n/**\n * Generates a random password-like string.\n *\n * @param {Number} length\n * @param {String} availableSets\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function randomPassword(length = 9, availableSets = \"luds\")\n{\n\tconst sets = [];\n\n\tif (availableSets.indexOf(\"l\") > -1)\n\t\tsets.push(\"abcdefghjkmnpqrstuvwxyz\");\n\n\tif (availableSets.indexOf(\"u\") > -1)\n\t\tsets.push(\"ABCDEFGHJKMNPQRSTUVWXYZ\");\n\n\tif (availableSets.indexOf(\"d\") > -1)\n\t\tsets.push(\"123456789\");\n\n\tif (availableSets.indexOf(\"s\") > -1)\n\t\tsets.push(\"!@#$%&*?\");\n\n\tlet all = \"\";\n\tlet password = \"\";\n\n\tsets.forEach(set =>\n\t{\n\t\tpassword += set[Math.floor(Math.random() * set.length)];\n\t\tall += set;\n\t});\n\n\tfor (let i = 0; i < length - sets.length; i++)\n\t\tpassword += all[Math.floor(Math.random() * all.length)];\n\n\treturn shuffleString(password);\n}\n\n/**\n * Registers a Latte module.\n *\n * @param {Function} func\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function register(func)\n{\n\tfunc(window.Latte);\n}\n\n/**\n * Sets a timeout.\n *\n * @param {Number} timeout\n * @param {Function} func\n *\n * @returns {Number}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function timeout(timeout, func)\n{\n\treturn setTimeout(func, timeout);\n}\n\n/**\n * Updates the URL hash.\n *\n * @param {Object} data\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function updateURLHash(data)\n{\n\tlet parts = [];\n\n\tfor (let key in data)\n\t{\n\t\tif (!data.hasOwnProperty(key))\n\t\t\tcontinue;\n\n\t\tlet str = key;\n\t\tlet d = data[key];\n\n\t\tif (d.value)\n\t\t\tstr += `=${d.value}`;\n\n\t\tfor (let vk in d.vars)\n\t\t\tif (d.vars.hasOwnProperty(vk))\n\t\t\t\tstr += `/${vk}:${d.vars[vk]}`;\n\n\t\tparts.push(str);\n\t}\n\n\tconst hash = parts.join(\"&\");\n\n\tif (hash.length > 0)\n\t\tlocation.hash = hash;\n\telse\n\t\thistory.replaceState({}, document.title, location.pathname + location.search);\n}\n\nfunction shuffleString(str)\n{\n\tconst a = str.split(\"\");\n\tconst n = a.length;\n\n\tfor (let i = n - 1; i > 0; i--)\n\t{\n\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\tlet tmp = a[i];\n\n\t\ta[i] = a[j];\n\t\ta[j] = tmp;\n\t}\n\n\treturn a.join(\"\");\n}\n\nexport default {\n\n\tdeepMerge,\n\n\tgetMainElement,\n\n\thandleError,\n\n\tinterval,\n\n\tisObject,\n\n\tisIterable,\n\n\trandomPassword,\n\n\tregister,\n\n\ttimeout,\n\n\tupdateURLHash\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { live } from \"./util/dom.js\";\nimport { updateURLHash } from \"./core.js\";\n\nconst actions = {};\n\n/**\n * Class ActionSubscription\n *\n * @author Bas Milius <bas@mili.us>\n * @version 1.0.0\n */\nclass ActionSubscription\n{\n\n\t/**\n\t * ActionSubscription Constructor.\n\t *\n\t * @param {String} action\n\t * @param {Function} callback\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tconstructor(action, callback)\n\t{\n\t\tthis.action = action;\n\t\tthis.callback = callback;\n\t\tthis.id = performance.now();\n\t}\n\n\t/**\n\t * Calls the handler callback.\n\t *\n\t * @param {*} data\n\t * @param {HTMLElement} el\n\t * @param {Event} evt\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\thandle(data, el, evt)\n\t{\n\t\tthis.callback(data, el, evt);\n\t}\n\n\t/**\n\t * Unsubscribes the action callback.\n\t *\n\t * @author Bas Milius <bas@mili.us>\n\t * @version 1.0.0\n\t */\n\tunsubscribe()\n\t{\n\t\tactions[this.action] = actions[this.action].filter(sub => sub.id !== this.id);\n\t}\n\n}\n\n/**\n * Dispatches an action.\n *\n * @param {String} action\n * @param {*|undefined} data\n * @param {Node|undefined} el\n * @param {Event|undefined} evt\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function dispatch(action, data = undefined, el = undefined, evt = undefined)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(data, el, evt));\n}\n\n/**\n * Registers an action listener.\n *\n * @param {String} action\n * @param {Function} callback\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function on(action, callback)\n{\n\tif (typeof actions[action] === \"undefined\")\n\t\tactions[action] = [];\n\n\tconst sub = new ActionSubscription(action, callback);\n\n\tactions[action].push(sub);\n\n\treturn sub;\n}\n\nfunction onAction(element, evt)\n{\n\tconst action = element.dataset.action;\n\tconst actionData = element.dataset;\n\n\tif (typeof actions[action] === \"undefined\")\n\t\treturn;\n\n\tactions[action].forEach(sub => sub.handle(actionData, element, evt));\n}\n\nfunction onHashChange()\n{\n\tconst hash = location.hash.substr(1);\n\n\tif (!hash || hash.length === 0)\n\t\treturn;\n\n\tconst raw = hash.split(\"&\");\n\tconst parameters = {};\n\n\tfor (let item of raw)\n\t{\n\t\tconst kv = item.split(\"=\", 2);\n\t\tlet value = kv[1] || null;\n\t\tlet vars = {};\n\n\t\tif (value.indexOf(\"/\") > -1)\n\t\t{\n\t\t\tconst ad = value.split(\"/\");\n\t\t\tvalue = ad.shift();\n\n\t\t\tfor (let d of ad)\n\t\t\t{\n\t\t\t\tconst kv = d.split(\":\", 2);\n\t\t\t\tvars[kv[0]] = kv[1];\n\t\t\t}\n\t\t}\n\n\t\tparameters[kv[0]] = {value, vars};\n\t}\n\n\tdispatch(\"latte:hash-change\", parameters);\n}\n\nwindow.addEventListener(\"hashchange\", () => onHashChange(), false);\nwindow.addEventListener(\"load\", () => onHashChange(), false);\n\nlive(document.body, \"[data-action]\", \"click\", (element, evt) => onAction(element, evt), {passive: true});\n\non(\"latte:hash-change\", parameters =>\n{\n\tconst action = parameters.action;\n\n\tdelete parameters.action;\n\n\tupdateURLHash(parameters);\n\n\tif (action === undefined || action === null)\n\t\treturn;\n\n\tdispatch(action.value, action.vars);\n});\n\nexport default {\n\n\tdispatch,\n\n\ton\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\n/**\n * Generates a random unique ID using the browsers crypto capabilities.\n *\n * @returns {String}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function id()\n{\n\tconst array = new Uint32Array(3);\n\n\twindow.crypto.getRandomValues(array);\n\n\treturn \"latte-\" + array.join(\"-\");\n}\n\n/**\n * Requests an API endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Response>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function request(url, options = {})\n{\n\treturn fetch(url, Object.assign({}, {credentials: \"same-origin\"}, options));\n}\n\n/**\n * Requests a JSON endpoint.\n *\n * @param {String} url\n * @param {RequestInit} options\n *\n * @returns {Promise<Object>}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function requestJson(url, options = {})\n{\n\treturn request(url, options)\n\t\t.then(r => r.json());\n}\n\nexport default {\n\n\tid,\n\n\trequest,\n\n\trequestJson\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function copy(text)\n{\n\tnavigator.clipboard.writeText(text)\n\t\t.then(() => console.debug(\"[Clipboard] Text copied to clipboard!\"))\n\t\t.catch(err => console.error(err));\n}\n\nexport function paste()\n{\n\treturn navigator.clipboard.readText()\n\t\t.catch(err => console.error(err));\n}\n\nexport default {\n\n\tcopy,\n\n\tpaste\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function getCookie(name)\n{\n\tname = `${name}=`;\n\n\tconst decoded = decodeURIComponent(document.cookie);\n\tconst cookies = decoded.split(\";\");\n\n\tfor (let i = 0; i < cookies.length; i++)\n\t{\n\t\tlet cookie = cookies[i];\n\n\t\twhile (cookie.charAt(0) === \" \")\n\t\t\tcookie = cookie.substring(1);\n\n\t\tif (cookie.indexOf(name) === 0)\n\t\t\treturn JSON.parse(decodeURIComponent(cookie.substring(name.length)));\n\t}\n\n\treturn undefined;\n}\n\nexport function setCookie(name, value, days = 21)\n{\n\tconst date = new Date();\n\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n\n\tdocument.cookie = `${name}=${encodeURIComponent(JSON.stringify(value))};expires=${date.toUTCString()};path=/`;\n}\n\nexport default {\n\n\tgetCookie,\n\n\tsetCookie\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport Vue from \"vue\";\n\n/**\n * Replaces params in a string.\n *\n * @param {String} string\n * @param {Array} params\n *\n * @returns {*}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function replace(string, params = [])\n{\n\tfor (let i = 0; i < params.length; i++)\n\t\tstring = string.replace(new RegExp(`@${i}`, 'g'), params[i]);\n\n\treturn string;\n}\n\n/**\n * Translates a string.\n *\n * @param {String} domain\n * @param {String} string\n * @param {Array} params\n *\n * @returns {String}\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function translate(domain, string, params = [])\n{\n\tconst translations = window.LatteI18n || {};\n\n\tif (translations === null || typeof translations[domain] === \"undefined\" || typeof translations[domain][string] === \"undefined\")\n\t\treturn replace(string, params);\n\n\treturn replace(translations[domain][string], params);\n}\n\nVue.filter(\"i18n\", (value, domain = \"root\", ...params) => Latte.i18n.translate(domain, value, params));\n\nexport default {\n\n\treplace,\n\n\ttranslate\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\n/**\n * Implementation of the <=> operator.\n *\n * @param {*} a\n * @param {*} b\n *\n * @returns {Number|null}\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function spaceship(a, b)\n{\n\tif ((a === null || b === null) || typeof a !== typeof b)\n\t\treturn null;\n\n\tif (typeof a === \"string\")\n\t\treturn a.localeCompare(b);\n\n\tif (a > b)\n\t\treturn 1;\n\telse if (a < b)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nexport default {\n\n\tspaceship\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nlet currentZ = 2000;\n\n/**\n * Generates a z-value to be used with z-index.\n *\n * @param {Function} fn\n *\n * @author Bas Milius <bas@mili.us>\n * @since 1.0.0\n */\nexport function needsZIndex(fn)\n{\n\tfn(currentZ);\n\tcurrentZ++;\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { createElement, raf } from \"../util/dom\";\nimport { timeout } from \"../core\";\nimport { spaceship } from \"../operators\";\nimport { translate } from \"../i18n\";\nimport { needsZIndex } from \"../z\";\n\nexport const Buttons = {\n\tOK: 1,\n\tCANCEL: 2,\n\tYES: 4,\n\tNO: 8,\n\tUPDATE: 16,\n\tSAVE: 32,\n\tREMOVE: 64,\n\tCREATE: 128,\n\tGO: 256,\n\tPROCEED: 512,\n\tALLOW: 1024,\n\tDENY: 2048\n};\n\nexport const ButtonsDescribed = [\n\t{id: Buttons.OK, icon: \"check-circle\", label: \"OK\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.CANCEL, icon: null, label: \"Cancel\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.YES, icon: \"check-circle\", label: \"Yes\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.NO, icon: null, label: \"No\", classes: [\"btn-text\", \"btn-dark\"], weight: 0},\n\t{id: Buttons.UPDATE, icon: \"check-circle\", label: \"Update\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.SAVE, icon: \"check-circle\", label: \"Save\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.REMOVE, icon: \"alert-circle\", label: \"Remove\", classes: [\"btn-contained\", \"btn-error\"], weight: 1},\n\t{id: Buttons.CREATE, icon: \"check-circle\", label: \"Create\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.GO, icon: \"arrow-right-bold-circle\", label: \"Go\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.PROCEED, icon: \"arrow-right-bold-circle\", label: \"Proceed\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.ALLOW, icon: \"check-circle\", label: \"Allow\", classes: [\"btn-contained\", \"btn-primary\"], weight: 1},\n\t{id: Buttons.DENY, icon: \"close-circle\", label: \"Deny\", classes: [\"btn-text\", \"btn-dark\"], weight: 0}\n];\n\nexport function createMessage(title, message, buttons, prompt = false)\n{\n\treturn new Promise(resolve =>\n\t{\n\t\tconst overlay = createElement(\"div\", el => el.classList.add(\"latte-overlay\", \"is-visible\"));\n\t\tconst panel = createElement(\"div\", el =>\n\t\t{\n\t\t\tel.classList.add(\"panel\");\n\t\t\tel.style.setProperty(\"width\", \"540px\");\n\t\t});\n\t\tconst panelTitle = createElement(\"div\", el => el.classList.add(\"panel-header\"));\n\t\tconst panelContent = createElement(\"div\", el => el.classList.add(\"panel-body\"));\n\t\tconst panelFooter = createElement(\"div\", el => el.classList.add(\"panel-footer\", \"justify-content-end\"));\n\n\t\tneedsZIndex(z => overlay.style.setProperty(\"z-index\", z));\n\n\t\toverlay.setAttribute(\"role\", \"dialog\");\n\n\t\tlet promptInput;\n\n\t\tbuttons = buttonsToButtons(buttons);\n\n\t\tpanelTitle.appendChild(createElement(\"span\", span =>\n\t\t{\n\t\t\tspan.classList.add(\"panel-title\");\n\t\t\tspan.innerHTML = title;\n\t\t}));\n\t\tpanelContent.appendChild(createElement(\"p\", p => p.innerHTML = message));\n\n\t\tif (prompt)\n\t\t{\n\t\t\tconst formGroup = createElement(\"div\", el => el.classList.add(\"form-group\", \"mb-0\"));\n\n\t\t\tpromptInput = createElement(\"input\", el =>\n\t\t\t{\n\t\t\t\tel.classList.add(\"form-control\");\n\t\t\t\tel.setAttribute(\"type\", \"text\");\n\t\t\t\tformGroup.appendChild(el);\n\t\t\t});\n\n\t\t\tpanelContent.appendChild(formGroup);\n\t\t}\n\n\t\tfor (const button of buttons)\n\t\t{\n\t\t\tconst el = createElement(\"button\", el => el.classList.add(\"btn\", \"btn-contained\", ...button.classes));\n\n\t\t\tif (button.icon !== null)\n\t\t\t\tel.appendChild(createElement(\"i\", i => i.classList.add(\"mdi\", `mdi-${button.icon}`)));\n\n\t\t\tel.appendChild(createElement(\"span\", span => span.innerHTML = button.label));\n\n\t\t\tel.addEventListener(\"click\", () =>\n\t\t\t{\n\t\t\t\traf(() => overlay.classList.remove(\"is-open\"));\n\t\t\t\traf(() => overlay.classList.remove(\"is-visible\"), 270);\n\n\t\t\t\tLatte.actions.dispatch(\"latte:overlay\", {overlay, open: false});\n\n\t\t\t\tresolve({\n\t\t\t\t\tbutton: button.id,\n\t\t\t\t\tinput: (prompt ? promptInput.value : undefined)\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tpanelFooter.appendChild(el);\n\t\t}\n\n\t\tpanel.appendChild(panelTitle);\n\t\tpanel.appendChild(panelContent);\n\t\tpanel.appendChild(panelFooter);\n\n\t\toverlay.appendChild(panel);\n\n\t\tdocument.body.appendChild(overlay);\n\n\t\tLatte.actions.dispatch(\"latte:overlay\", {overlay, open: true});\n\n\t\traf(() =>\n\t\t{\n\t\t\toverlay.classList.add(\"is-visible\");\n\n\t\t\traf(() => overlay.classList.add(\"is-open\"));\n\t\t});\n\t});\n}\n\nexport function alert(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK);\n}\n\nexport function confirm(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK | Buttons.CANCEL);\n}\n\nexport function prompt(title, message)\n{\n\treturn createMessage(title, message, Buttons.OK | Buttons.CANCEL, true);\n}\n\nfunction buttonsToButtons(buttons)\n{\n\tlet actualButtons = [];\n\n\tfor (let button of ButtonsDescribed)\n\t\tif ((buttons & button.id) === button.id)\n\t\t\tactualButtons.push(button);\n\n\tactualButtons = actualButtons.sort((a, b) => spaceship(a.weight, b.weight));\n\tactualButtons.forEach(button => button.label = translate(\"root\", button.label));\n\n\treturn actualButtons;\n}\n\nexport default {\n\n\tButtons,\n\n\tButtonsDescribed,\n\n\tcreateMessage,\n\n\talert,\n\n\tconfirm,\n\n\tprompt\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { on } from \"../actions.js\";\nimport { id } from \"../api.js\"\nimport { isIterable } from \"../core.js\";\n\nexport function initializeNotices()\n{\n\tlet notices = Array.from(document.querySelectorAll(\"div.notice\"));\n\tnotices = notices.filter(notice => notice.querySelector(\"button.notice-dismiss\") !== null);\n\tnotices = notices.map(notice => notice.querySelector(\"button.notice-dismiss\"));\n\n\tnotices.forEach(dismissButton => dismissButton.addEventListener(\"click\", () => dismissButton.parentNode.parentNode.removeChild(dismissButton.parentNode)));\n\n\ton(\"latte:notice\", data => create(decodeURIComponent(data.message), data.type || \"info\"));\n}\n\nexport function areEntitiesNotices(entities)\n{\n\tif (!isIterable(entities))\n\t\treturn false;\n\n\tfor (let entity of entities)\n\t\tif (!isEntityNotice(entity))\n\t\t\treturn false;\n\n\treturn true;\n}\n\nexport function create(message, type, dismissible = true)\n{\n\tconst noticeId = id();\n\n\tconst notice = document.createElement(\"div\");\n\tnotice.classList.add(\"notice\", `notice-${type}`);\n\tnotice.setAttribute(\"id\", noticeId);\n\n\tconst p = document.createElement(\"p\");\n\tp.innerHTML = message;\n\n\tnotice.appendChild(p);\n\n\tif (dismissible)\n\t{\n\t\tconst dismiss = document.createElement(\"button\");\n\t\tdismiss.classList.add(\"btn\", \"btn-text\", \"btn-icon\", \"notice-dismiss\");\n\n\t\tconst icon = document.createElement(\"i\");\n\t\ticon.classList.add(\"mdi\", \"mdi-close\");\n\n\t\tdismiss.appendChild(icon);\n\t\tdismiss.addEventListener(\"click\", () => remove(noticeId), {passive: true});\n\n\t\tnotice.appendChild(dismiss);\n\t}\n\n\tconst content = document.querySelector(\"main#app > div.content\");\n\n\tcontent.insertBefore(notice, content.querySelector(\":scope > *:first-child\"));\n\n\treturn noticeId;\n}\n\nexport function isEntityNotice(entity)\n{\n\treturn entity[\"@type\"] === \"Latte\\\\Entity\\\\Notice\";\n}\n\nexport function remove(noticeId)\n{\n\tconst notice = document.querySelector(`div.notice#${noticeId}`);\n\tnotice.parentNode.removeChild(notice);\n}\n\nexport default {\n\n\tareEntitiesNotices,\n\n\tcreate,\n\n\tisEntityNotice,\n\n\tremove\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nlet registry = {};\n\nexport function close(name)\n{\n\tlet overlay = find(name);\n\toverlay.close();\n}\n\nexport function find(name)\n{\n\tif (typeof registry[name] === \"undefined\")\n\t\tthrow new Error(`Overlay ${name} is not registred!`);\n\n\treturn registry[name];\n}\n\nexport function open(name)\n{\n\tlet overlay = find(name);\n\toverlay.open();\n}\n\nexport function register(name, overlay)\n{\n\tregistry[name] = overlay;\n}\n\nexport function remove(name)\n{\n\tdelete registry[name];\n}\n\nexport default {\n\n\tclose,\n\n\tfind,\n\n\topen,\n\n\tregister,\n\n\tremove\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function initializePanels()\n{\n\tdocument.querySelectorAll(\"div.panel > table\").forEach(t => t.parentNode.classList.add(\"panel-table\"));\n\tdocument.querySelectorAll(\"div.panel.panel-toggleable\").forEach(panel => initializePanel(panel));\n}\n\nexport function initializePanel(panel)\n{\n\tconst header = panel.querySelector(\"div.panel-header\");\n\n\tif (header === null)\n\t\treturn;\n\n\tconst hasRightItems = header.querySelectorAll(\".ml-auto\").length > 0;\n\n\tconst toggle = document.createElement(\"button\");\n\ttoggle.setAttribute(\"type\", \"button\");\n\ttoggle.classList.add(\"panel-toggle\", \"btn\", \"btn-text\", \"btn-icon\", \"btn-dark\");\n\n\tif (!hasRightItems)\n\t\ttoggle.classList.add(\"ml-auto\");\n\n\ttoggle.innerHTML = '<i class=\"mdi mdi-chevron-down\"></i>';\n\n\theader.appendChild(toggle);\n\n\tif (panel.classList.contains(\"is-open\"))\n\t\topen(panel);\n\telse\n\t\tclose(panel);\n\n\ttoggle.addEventListener(\"click\", () =>\n\t{\n\t\tif (panel.classList.contains(\"is-open\"))\n\t\t\tclose(panel);\n\t\telse\n\t\t\topen(panel);\n\t});\n}\n\nexport function close(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.add(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.remove(\"mdi-rotate-180\");\n\n\tpanel.classList.add(\"is-closed\");\n\tpanel.classList.remove(\"is-open\");\n}\n\nexport function open(panel)\n{\n\tlet p = panel;\n\n\tif (p.querySelector(\":scope > form\") !== null)\n\t\tp = p.querySelector(\":scope > form\");\n\n\tconst hidableItems = p.querySelectorAll(\":scope > div:not(.panel-header)\");\n\tfor (let i = 0; i < hidableItems.length; i++)\n\t\thidableItems.item(i).classList.remove(\"d-none\");\n\n\tconst toggle = p.querySelector(\"div.panel-header > button.panel-toggle\");\n\ttoggle.querySelector(\"i.mdi\").classList.add(\"mdi-rotate-180\");\n\n\tpanel.classList.remove(\"is-closed\");\n\tpanel.classList.add(\"is-open\");\n}\n\nexport default {\n\n\tclose,\n\n\tinitializePanel,\n\n\topen\n\n}\n","/*\r\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n *\r\n * This file is part of the Latte UI package.\r\n *\r\n * For the full copyright and license information, please view the\r\n * LICENSE file that was distributed with this source code.\r\n */\r\n\r\n/**\r\n * Implodes commas between strings and replaces the last comma with an &.\r\n *\r\n * @param {String[]} strs\r\n *\r\n * @return {String}\r\n * @author Bas Milius <bas@mili.us>\r\n * @since 1.0.0\r\n */\r\nexport function commaCommaAnd(strs)\r\n{\r\n\treturn strs.join(\", \").replace(/(.*),/, \"$1 &\");\r\n}\r\n\r\n/**\r\n * Returns TRUE if {@see str} is undefined, NULL or contains only whitespace.\r\n *\r\n * @param {String} str\r\n *\r\n * @returns {Boolean}\r\n * @author Bas Milius <bas@mili.us>\r\n * @since 1.0.0\r\n */\r\nexport function isNullOrWhitespace(str)\r\n{\r\n\tif (typeof str === \"undefined\" || str === null)\r\n\t\treturn true;\r\n\r\n\treturn str.replace(/\\s/g, '').length < 1;\r\n}\r\n\r\nexport default {\r\n\r\n\tcommaCommaAnd,\r\n\r\n\tisNullOrWhitespace\r\n\r\n};\r\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport Vue from \"vue\";\n\nimport actions from \"./actions\";\nimport api from \"./api\";\nimport clipboard from \"./util/clipboard\";\nimport cookie from \"./util/cookies\";\nimport core from \"./core\";\nimport dom from \"./util/dom\";\nimport i18n from \"./i18n\";\nimport json from \"./util/json\";\nimport messages from \"./ui/messages\";\nimport notices from \"./ui/notices\";\nimport operators from \"./operators\";\nimport overlays from \"./ui/overlays\";\nimport panels from \"./ui/panels\";\nimport string from \"./util/string\";\n\nexport default {\n\tactions,\n\tapi,\n\tclipboard,\n\tcookie,\n\tcore,\n\tdom,\n\ti18n,\n\tjson,\n\tmessages,\n\tnotices,\n\toperators,\n\toverlays,\n\tpanels,\n\tstring,\n\tvue: Vue\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function isJson(str)\n{\n\ttry\n\t{\n\t\tJSON.parse(str);\n\n\t\treturn true;\n\t}\n\tcatch(err)\n\t{\n\t\treturn false;\n\t}\n}\n\nexport default {\n\n\tisJson\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { getLattePath } from \"./util/dom\";\n\nfunction registerCSSPaintWorklets()\n{\n\tCSS.paintWorklet.addModule(getLattePath() + \"worklet/paint/btn-contained-background.js\");\n}\n\nfunction registerCSSProperties()\n{\n\tCSS.registerProperty({\n\t\tname: \"--btn-contained-hover-state\",\n\t\tsyntax: \"<number>\",\n\t\tinherits: false,\n\t\tinitialValue: 0\n\t})\n}\n\nexport function initializeHoudiniApis()\n{\n\tif (CSS && CSS.paintWorklet)\n\t\tregisterCSSPaintWorklets();\n\n\tif (CSS && CSS.registerProperty)\n\t\tregisterCSSProperties();\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nexport function initializeForms()\n{\n\tdocument.querySelectorAll(`form[method=\"post\"]`).forEach(form => initializeForm(form));\n}\n\nfunction initializeForm(form)\n{\n\tform.addEventListener(\"submit\", onFormSubmit.bind(window, form));\n\tform.addEventListener(\"keyup\", onFormKeyUp.bind(window, form));\n}\n\nfunction onFormKeyUp(form, evt)\n{\n\tif (evt.ctrlKey !== true)\n\t\treturn;\n\n\tif ((evt.code || evt.key) !== \"Enter\")\n\t\treturn;\n\n\tonFormSubmit(form);\n\tform.submit();\n}\n\nfunction onFormSubmit(form)\n{\n\tform.querySelectorAll(\".btn[type=submit]\").forEach(btn =>\n\t{\n\t\tif (btn.classList.contains(\"btn-icon\"))\n\t\t\treturn;\n\n\t\tconst icon = btn.querySelector(\"i.mdi\");\n\n\t\tif (icon === null)\n\t\t\treturn;\n\n\t\ticon.classList.add(\"spinner\");\n\n\t\tif (btn.classList.contains(\"btn-light\"))\n\t\t\ticon.classList.add(\"spinner-primary\");\n\t\telse\n\t\t\ticon.classList.add(\"spinner-light\");\n\n\t\tbtn.classList.add(\"disabled\");\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport { createElement, live } from \"../util/dom.js\";\nimport { on } from \"../actions.js\";\nimport { raf } from \"../util/dom\";\n\nlet tooltipContained = true;\nlet tooltipElement = null;\n\nexport function initializeTooltips()\n{\n\ttooltipElement = createElement(\"div\", div =>\n\t{\n\t\tdiv.setAttribute(\"class\", \"tooltip is-hidden\");\n\n\t\tdocument.body.appendChild(div);\n\t});\n\n\tlive(document.body, \"[data-tooltip]\", \"pointerover\", (el, evt) => onTooltipElementHover(el, evt));\n\tlive(document.body, \"[data-tooltip]\", \"pointerout\", (el, evt) => despawnTooltip(el, evt));\n\n\ton(\"latte:tooltip\", data => spawnTooltip(data));\n\ton(\"latte:tooltip:hide\", () => despawnTooltip());\n}\n\nfunction despawnTooltip()\n{\n\ttooltipElement.classList.add(\"is-hidden\");\n}\n\nfunction spawnTooltip(data)\n{\n\tlet {x, y, content, position = \"vertical\"} = data;\n\n\tif (content === undefined)\n\t\treturn;\n\n\ttooltipElement.innerHTML = \"\";\n\n\tif (content instanceof HTMLElement)\n\t\ttooltipElement.appendChild(content);\n\telse\n\t\ttooltipElement.innerHTML = content;\n\n\ttooltipElement.classList.remove(...tooltipElement.classList.values());\n\ttooltipElement.classList.add(\"tooltip\", ...(data.classes || []));\n\n\tif (position === \"top\" || (position === \"vertical\" && y > window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-top\");\n\n\tif (position === \"left\" || (position === \"horizontal\" && x > window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-left\");\n\n\tif (position === \"right\" || (position === \"horizontal\" && x <= window.innerWidth / 2))\n\t\ttooltipElement.classList.add(\"tooltip-right\");\n\n\tif (position === \"bottom\" || (position === \"vertical\" && y <= window.innerHeight / 2))\n\t\ttooltipElement.classList.add(\"tooltip-bottom\");\n\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-top\");\n\ttooltipElement.style.removeProperty(\"--tooltip-arrow-left\");\n\n\traf(() =>\n\t{\n\t\tconst tooltipRect = tooltipElement.getBoundingClientRect();\n\n\t\tlet top = 0;\n\t\tlet left = 0;\n\t\tlet offset = 9;\n\n\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t{\n\t\t\ttop = y - tooltipRect.height - offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x - tooltipRect.width - offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t{\n\t\t\ttop = y - (tooltipRect.height / 2);\n\t\t\tleft = x + offset;\n\t\t}\n\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t{\n\t\t\ttop = y + offset;\n\t\t\tleft = x - (tooltipRect.width / 2);\n\t\t}\n\n\t\tif (data.adjustCoordinates)\n\t\t{\n\t\t\tlet coords = data.adjustCoordinates(left, top, tooltipRect);\n\t\t\ttop = coords.y;\n\t\t\tleft = coords.x;\n\t\t}\n\n\t\tif (tooltipContained)\n\t\t{\n\t\t\tlet adjustment = 0;\n\t\t\tlet offset = 12;\n\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\") || tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t{\n\t\t\t\tif (offset > left)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - left;\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((left + tooltipRect.width + offset) > window.innerWidth)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerWidth - (left + tooltipRect.width + offset);\n\t\t\t\t\tleft += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-left\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\") || tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t{\n\t\t\t\tif (offset > top)\n\t\t\t\t{\n\t\t\t\t\tadjustment = offset - top;\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif ((top + tooltipRect.height + offset) > window.innerHeight)\n\t\t\t\t{\n\t\t\t\t\tadjustment = window.innerHeight - (top + tooltipRect.height + offset);\n\t\t\t\t\ttop += adjustment;\n\t\t\t\t}\n\n\t\t\t\tif (adjustment !== 0)\n\t\t\t\t\ttooltipElement.style.setProperty(\"--tooltip-arrow-top\", `calc((50% - .45em) - ${Math.floor(adjustment)}px)`);\n\t\t\t}\n\t\t}\n\n\t\ttooltipElement.style.setProperty(\"transform\", `translate3d(${Math.round(left)}px, ${Math.round(top)}px, 0)`);\n\t});\n}\n\nfunction onTooltipElementHover(el)\n{\n\tconst str = el.dataset.tooltip;\n\tconst classes = el.dataset.tooltipClass || \"tooltip-bottom\";\n\n\tif (str.trim() === \"\")\n\t\treturn;\n\n\tif (el.classList.contains(\"tooltip-disabled\"))\n\t\treturn;\n\n\tconst pos = el.getBoundingClientRect();\n\n\tspawnTooltip({\n\t\tx: pos.left + (pos.width / 2),\n\t\ty: pos.top + (pos.height / 2),\n\t\tclasses: classes.split(\" \"),\n\t\tcontent: str,\n\t\tposition: null,\n\n\t\tadjustCoordinates(x, y)\n\t\t{\n\t\t\tif (tooltipElement.classList.contains(\"tooltip-top\"))\n\t\t\t\ty -= pos.height / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-left\"))\n\t\t\t\tx -= pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-right\"))\n\t\t\t\tx += pos.width / 2;\n\t\t\telse if (tooltipElement.classList.contains(\"tooltip-bottom\"))\n\t\t\t\ty += pos.height / 2;\n\n\t\t\treturn {x, y};\n\t\t}\n\t});\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { closest } from \"../util/dom\";\n\nclass OutsideEvent\n{\n\n\tconstructor(source)\n\t{\n\t\tthis.listeners = [];\n\t\tthis.source = source;\n\t}\n\n\taddEventListener(type, listener, options = {})\n\t{\n\t\tlistener.id = this.listeners.length;\n\n\t\tthis.listeners.push(listener);\n\n\t\tconst fn = evt =>\n\t\t{\n\t\t\tif (this.isWithinSource(evt))\n\t\t\t\treturn;\n\n\t\t\tlistener(evt);\n\t\t};\n\n\t\tdocument.addEventListener(type, fn, options);\n\t}\n\n\tremoveEventListener(type, listener, options = {})\n\t{\n\t\tconst index = this.listeners.findIndex(l => l.id === listener.id);\n\n\t\tif (index === -1)\n\t\t\treturn;\n\n\t\tdocument.removeEventListener(type, this.listeners[index], options);\n\n\t\tthis.listeners.splice(index, 1);\n\t}\n\n\tisWithinSource(evt)\n\t{\n\t\tif (evt.pageX === undefined)\n\t\t\treturn false;\n\n\t\tconst documentElement = document.scrollingElement;\n\t\tconst element = document.elementFromPoint(evt.pageX - documentElement.scrollLeft, evt.pageY - documentElement.scrollTop);\n\n\t\treturn closest(element, this.source) !== null;\n\t}\n\n}\n\nexport function registerOutsideEvents()\n{\n\tEventTarget.prototype.addOutsideEventListener = function (type, listener, options = {})\n\t{\n\t\tif (this.outsideEvent === undefined)\n\t\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\t\tthis.outsideEvent.addEventListener(type, listener, options);\n\t};\n\n\tEventTarget.prototype.removeOutsideEventListener = function (type, listener, options = {})\n\t{\n\t\tif (this.outsideEvent === undefined)\n\t\t\tthis.outsideEvent = new OutsideEvent(this);\n\n\t\tthis.outsideEvent.removeEventListener(type, listener, options);\n\t};\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-autocomplete\" v-click-away=\"onBlur\">\n\t\t<div class=\"form-control\" :disabled=\"disabled\">\n\n\t\t\t<template v-for=\"selection in values\">\n\n\t\t\t\t<slot name=\"selection\" v-bind=\"selection\">\n\n\t\t\t\t\t<span class=\"badge badge-primary\">\n\t\t\t\t\t\t<span>{{ selection.label }}</span>\n\t\t\t\t\t\t<button class=\"btn\" @click=\"selection.remove()\"><i class=\"mdi mdi-window-close\"></i></button>\n\t\t\t\t\t</span>\n\n\t\t\t\t</slot>\n\n\t\t\t</template>\n\n\t\t\t<input type=\"search\" :name=\"name\" class=\"form-control\" ref=\"field\" :placeholder=\"placeholder\" autocomplete=\"false\" @focus=\"onFocus\" v-model=\"searchTerm\" @keydown.delete=\"onKeyPressDelete\" @keydown.enter=\"onSelectSuggestion\" @keydown.tab=\"onSelectFirstSuggestion\" @keydown.down=\"onKeyPressDown\" @keydown.up=\"onKeyPressUp\" v-if=\"canSearch\"/>\n\n\t\t</div>\n\t\t<div class=\"dropdown\" :class=\"{'is-open': shouldOpenSuggestions}\" role=\"combobox\">\n\t\t\t<nav class=\"nav nav-list\">\n\n\t\t\t\t<template v-for=\"(suggestion, index) in suggestionsFiltered\">\n\n\t\t\t\t\t<a class=\"nav-link\" :class=\"{'is-hover': currentSuggestion === index}\" @pointermove.passive=\"currentSuggestion = index\" @click=\"onSelectSuggestion\" role=\"option\">\n\n\t\t\t\t\t\t<slot name=\"suggestion\" v-bind=\"suggestion\">\n\n\t\t\t\t\t\t\t<div class=\"flex-grow-1\" v-if=\"suggestion.sub_label\">\n\t\t\t\t\t\t\t\t<span>{{ suggestion.label }}</span>\n\t\t\t\t\t\t\t\t<span class=\"text-soft\">{{ suggestion.sub_label }}</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<span v-else>{{ suggestion.label }}</span>\n\n\t\t\t\t\t\t\t<i class=\"mdi mdi-chevron-right\"></i>\n\n\t\t\t\t\t\t</slot>\n\n\t\t\t\t\t</a>\n\n\t\t\t\t</template>\n\n\t\t\t</nav>\n\t\t</div>\n\t\t<span class=\"spinner spinner-primary\" v-if=\"isLoading\"></span>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { id, request } from \"../../js/api\";\n\n\tfunction areArraysEqual(a, b)\n\t{\n\t\tif (a.length !== b.length)\n\t\t\treturn false;\n\n\t\tfor (let i = 0; i < a.length; i++)\n\t\t\tif (a[i] !== b[i])\n\t\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n\texport default {\n\n\t\tname: \"latte-autocomplete\",\n\n\t\tprops: {\n\n\t\t\tdefaultValue: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false\n\t\t\t},\n\n\t\t\tdisabled: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlimit: {\n\t\t\t\tdefault: 5,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmultiSelect: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\toffset: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"Search...\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => [],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array | Number\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tabortController: null,\n\t\t\t\tcanEmit: true,\n\t\t\t\tcanOpen: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tcurrentSuggestion: -1,\n\t\t\t\tsearchTerm: \"\",\n\t\t\t\tsuggestions: [],\n\t\t\t\tvalueLast: [],\n\t\t\t\tvalues: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.onValueChanged();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcanSearch()\n\t\t\t{\n\t\t\t\treturn this.multiSelect || this.values.length === 0;\n\t\t\t},\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\treturn this.canOpen && this.suggestionsFiltered.length > 0;\n\t\t\t},\n\n\t\t\tsuggestionsFiltered()\n\t\t\t{\n\t\t\t\treturn this.suggestions.filter(s => this.values.filter(v => v.label === s.label && v.value === s.value).length === 0);\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\taddValue(label, value)\n\t\t\t{\n\t\t\t\tif (label === undefined || value === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.values.filter(v => v.value === value && v.label === label).length > 0)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst remove = () => this.removeValue(value);\n\n\t\t\t\tthis.values.push({label, remove, value});\n\t\t\t},\n\n\t\t\tremoveValue(value)\n\t\t\t{\n\t\t\t\tthis.values = this.values.filter(v => v.value !== value);\n\t\t\t},\n\n\t\t\tonBlur()\n\t\t\t{\n\t\t\t\tthis.canOpen = false;\n\t\t\t},\n\n\t\t\tonFocus()\n\t\t\t{\n\t\t\t\tthis.suggestions = [];\n\t\t\t\tthis.canOpen = true;\n\t\t\t},\n\n\t\t\tonSelectSuggestion()\n\t\t\t{\n\t\t\t\tif (!this.suggestionsFiltered[this.currentSuggestion])\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {label, value} = this.suggestionsFiltered[this.currentSuggestion];\n\n\t\t\t\tthis.addValue(label, value);\n\t\t\t\tthis.canOpen = false;\n\t\t\t\tthis.searchTerm = \"\";\n\t\t\t},\n\n\t\t\tonSelectFirstSuggestion(evt)\n\t\t\t{\n\t\t\t\tif (this.suggestions.length === 0 || !this.shouldOpenSuggestions)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.currentSuggestion === -1)\n\t\t\t\t\tthis.onKeyPressDown();\n\n\t\t\t\tthis.onSelectSuggestion();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\t\t\t},\n\n\t\t\tonKeyPressDelete()\n\t\t\t{\n\t\t\t\tif (this.searchTerm !== \"\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.values.pop();\n\t\t\t},\n\n\t\t\tonKeyPressDown()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion + 1 >= this.suggestions.length)\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion++;\n\t\t\t},\n\n\t\t\tonKeyPressUp()\n\t\t\t{\n\t\t\t\tif (this.currentSuggestion - 1 < -1)\n\t\t\t\t\tthis.currentSuggestion = this.suggestions.length - 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentSuggestion--;\n\t\t\t},\n\n\t\t\tonReceiveSuggestions(response)\n\t\t\t{\n\t\t\t\tthis.abortController = null;\n\t\t\t\tthis.canOpen = true;\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\tthis.suggestions = response.data;\n\t\t\t},\n\n\t\t\tonReceiveValues(response)\n\t\t\t{\n\t\t\t\tresponse.data.forEach(v => this.addValue(v.label, v.value));\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t},\n\n\t\t\tonSearchTermChanged()\n\t\t\t{\n\t\t\t\tif (this.searchTerm.trim() === \"\")\n\t\t\t\t{\n\t\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t\t\tthis.canOpen = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.abortController !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\tthis.abortController = null;\n\t\t\t\t}\n\n\t\t\t\tthis.abortController = new AbortController();\n\n\t\t\t\trequest(`${this.url}?q=${encodeURIComponent(this.searchTerm.toLowerCase())}`, {cache: \"no-cache\", signal: this.signal})\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveSuggestions(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\t\t\t},\n\n\t\t\tonValueChanged()\n\t\t\t{\n\t\t\t\tlet value = this.multiSelect ? this.value : [this.value];\n\t\t\t\tvalue = value.filter ? value.filter(v => v > 0) : value;\n\n\t\t\t\tif (value.length === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.values = [];\n\t\t\t\t\tthis.valueLast = [];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (areArraysEqual(value, this.valueLast))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.isLoading)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\trequest(`${this.url}?ids=${value.join(\",\")}`)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceiveValues(r))\n\t\t\t\t\t.catch(err => console.error(err));\n\n\t\t\t\tthis.valueLast = value;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tshouldOpenSuggestions()\n\t\t\t{\n\t\t\t\tthis.currentSuggestion = -1;\n\t\t\t},\n\n\t\t\tsearchTerm()\n\t\t\t{\n\t\t\t\tthis.onSearchTermChanged();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.canEmit = false;\n\t\t\t\tthis.onValueChanged();\n\t\t\t},\n\n\t\t\tvalues()\n\t\t\t{\n\t\t\t\tif (this.canEmit === false)\n\t\t\t\t\treturn this.canEmit = true;\n\n\t\t\t\tlet values = this.values.map(v => v.value);\n\t\t\t\tthis.$emit(\"input\", (this.multiSelect ? values : values[0]) || this.defaultValue);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<button ref=\"btn\" class=\"btn\" :class=\"buttonClasses\" :data-tooltip=\"tooltip\" data-tooltip-class=\"tooltip-bottom\" :aria-label=\"ariaLabel\">\n\t\t<img v-if=\"avatarUrl !== null\" class=\"avatar\" :src=\"avatarUrl\" :alt=\"ariaLabel\"/>\n\t\t<i v-else-if=\"icon !== ''\" :class=\"iconClasses\"></i>\n\t\t<i v-if=\"iconBefore !== ''\" :class=\"iconBeforeClasses\"></i>\n\t\t<span v-if=\"label !== ''\">{{ label }}</span>\n\t\t<i v-if=\"iconAfter !== ''\" :class=\"iconAfterClasses\"></i>\n\n\t\t<slot name=\"extra\"></slot>\n\n\t\t<latte-popup :associate-with=\"$refs.btn\" :margin-x=\"marginX\" :margin-y=\"marginY\" @close=\"onClose\" @open=\"onOpen\">\n\t\t\t<slot v-bind=\"self\"></slot>\n\t\t</latte-popup>\n\t</button>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-button-dropdown\",\n\n\t\tprops: {\n\n\t\t\tariaLabel: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tbuttonClass: {\n\t\t\t\tdefault: \"btn-text btn-icon btn-dark\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\ticon: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\ticonAfter: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\ticonBefore: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tlabel: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tmarginX: {\n\t\t\t\tdefault: -18,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmarginY: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tsmall: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\ttooltip: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisOpen: false\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tavatarUrl()\n\t\t\t{\n\t\t\t\tif (this.icon.substr(0, 6) === \"avatar\")\n\t\t\t\t\treturn this.icon.substr(7);\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tbuttonClasses()\n\t\t\t{\n\t\t\t\tconst classes = this.buttonClass.split(\" \");\n\n\t\t\t\tif (this.small)\n\t\t\t\t\tclasses.push(\"btn-sm\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tclasses.push(\"is-open\", \"tooltip-disabled\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\ticonClasses()\n\t\t\t{\n\t\t\t\treturn [\"mdi\", `mdi-${this.icon}`];\n\t\t\t},\n\n\t\t\ticonAfterClasses()\n\t\t\t{\n\t\t\t\treturn [\"mdi\", `mdi-${this.iconAfter}`];\n\t\t\t},\n\n\t\t\ticonBeforeClasses()\n\t\t\t{\n\t\t\t\treturn [\"mdi\", `mdi-${this.iconBefore}`];\n\t\t\t},\n\n\t\t\tself()\n\t\t\t{\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClose()\n\t\t\t{\n\t\t\t\tthis.isOpen = false;\n\t\t\t},\n\n\t\t\tonOpen()\n\t\t\t{\n\t\t\t\tthis.isOpen = true;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-charts latte-charts-line\" :class=\"{'is-loading':is_loading}\">\n\t\t<span class=\"spinner spinner-primary\"></span>\n\t\t<div class=\"latte-charts-title\" v-if=\"title !== null\">{{ titleTransformed }}</div>\n\t\t<div class=\"latte-charts-chart\">\n\t\t\t<canvas ref=\"chart\"></canvas>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { dispatch } from \"../../js/actions\";\n\timport { request } from \"../../js/api\";\n\timport { deepMerge } from \"../../js/core\";\n\timport { createElement } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"latte-chart\",\n\n\t\tprops: {\n\n\t\t\toptions: {\n\t\t\t\tdefault: () => ({}),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\t\t\t},\n\n\t\t\ttitle: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tinstance: null,\n\t\t\t\tis_loading: true,\n\t\t\t\tchartData: {},\n\t\t\t\tchartOptions: {}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.loadChart();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\ttitleTransformed()\n\t\t\t{\n\t\t\t\tif (this.title === null)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn this.title.replace(new RegExp(\"\\\\${([a-zA-Z0-9_.\\\\[\\\\]]+)}\"), (match, contents) =>\n\t\t\t\t{\n\t\t\t\t\treturn new Function(`\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn new Intl.NumberFormat(navigator.language).format(this.${contents});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t`).call(this);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tloadChart()\n\t\t\t{\n\t\t\t\tthis.is_loading = true;\n\n\t\t\t\trequest(this.url)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceivedChart(r));\n\t\t\t},\n\n\t\t\tonReceivedChart(response)\n\t\t\t{\n\t\t\t\tif (response.success !== true)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst canvas = this.$refs.chart;\n\t\t\t\tconst chart = this.chartData = response.data;\n\t\t\t\tconst tooltipOptions = {\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t\tcustom: model =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (model.opacity === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdispatch(\"latte:tooltip:hide\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfunction genDataRow(line, colors)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn createElement(\"tr\", tr =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttr.appendChild(createElement(\"td\", td =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttd.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\", \"pr-0\");\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.innerHTML = `<i class=\"mdi mdi-color\" style=\"height: 18px; width: 18px; border-radius: 12px; background: ${colors.backgroundColor};\"></i>`;\n\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\t\ttr.appendChild(createElement(\"td\", td =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttd.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\");\n\t\t\t\t\t\t\t\t\t\t\t\tdiv.innerHTML = line;\n\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfunction genTitleRow(title)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn createElement(\"tr\", tr => tr.appendChild(createElement(\"th\", th =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tth.setAttribute(\"colspan\", 2);\n\t\t\t\t\t\t\t\t\t\tth.appendChild(createElement(\"div\", div =>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdiv.classList.add(\"column-content\", \"font-weight-bold\");\n\t\t\t\t\t\t\t\t\t\t\tdiv.innerText = title;\n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t})));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst rect = canvas.getBoundingClientRect();\n\t\t\t\t\t\t\t\tconst table = createElement(\"table\", table =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttable.classList.add(\"table\", \"table-compact\");\n\t\t\t\t\t\t\t\t\ttable.style.setProperty(\"--outline-color-secondary\", \"rgba(255, 255, 255, .05)\");\n\n\t\t\t\t\t\t\t\t\ttable.appendChild(createElement(\"thead\", thead =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmodel.title.forEach(title => thead.appendChild(genTitleRow(title)));\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\ttable.appendChild(createElement(\"tbody\", tbody =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmodel.body.map(l => l.lines).forEach((line, i) => tbody.appendChild(genDataRow(line, model.labelColors[i])));\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tdispatch(\"latte:tooltip\", {\n\t\t\t\t\t\t\t\t\tx: Math.floor(rect.left + model.caretX),\n\t\t\t\t\t\t\t\t\ty: Math.floor(rect.top + model.caretY),\n\t\t\t\t\t\t\t\t\tclasses: [\"p-0\"],\n\t\t\t\t\t\t\t\t\tcontent: table,\n\t\t\t\t\t\t\t\t\tposition: \"vertical\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: this.onTooltipLabel.bind(this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.$emit(\"change\", chart);\n\n\t\t\t\tif (this.instance === null)\n\t\t\t\t{\n\t\t\t\t\tthis.chartOptions = chart.options = deepMerge({}, tooltipOptions, chart.options, this.options);\n\t\t\t\t\tthis.instance = new Chart(canvas, chart);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof this.instance.data.datasets[index] !== \"undefined\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet remove = (this.instance.data.datasets[index].data.length > dataset.data.length ? this.instance.data.datasets[index].data.length - dataset.data.length : 0);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < remove; i++)\n\t\t\t\t\t\t\t\tthis.instance.data.datasets[index].data.pop();\n\n\t\t\t\t\t\t\tdataset.data.forEach((data, i) => this.instance.data.datasets[index].data[i] = data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.instance.data.datasets.push(dataset);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.instance.data.labels = chart.data.labels;\n\t\t\t\t\tthis.instance.update();\n\t\t\t\t}\n\n\t\t\t\tthis.is_loading = false;\n\t\t\t},\n\n\t\t\tonTooltipLabel(tooltip, data)\n\t\t\t{\n\t\t\t\tif (!this.chartData)\n\t\t\t\t\treturn \"\";\n\n\t\t\t\tconst dataset = data.datasets[tooltip.datasetIndex];\n\t\t\t\tconst value = dataset.data[tooltip.index];\n\t\t\t\tconst valueFormatted = Intl !== undefined && Intl.NumberFormat !== undefined ? new Intl.NumberFormat(navigator.language)[\"format\"](value) : value;\n\n\t\t\t\tswitch (this.chartOptions.tooltips.transform || \"default\")\n\t\t\t\t{\n\t\t\t\t\tcase \"percentage\":\n\t\t\t\t\t\treturn `${dataset.label}: ${value}%`;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn `${dataset.label}: ${valueFormatted}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\turl()\n\t\t\t{\n\t\t\t\tthis.loadChart();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel\">\n\t\t<div class=\"panel-header\">\n\t\t\t<span class=\"panel-title\">{{ name }}</span>\n\t\t\t<latte-button-dropdown class=\"ml-auto\" icon=\"dots-vertical\" type=\"list\">\n\t\t\t\t<nav class=\"nav nav-list\">\n\t\t\t\t\t<a @click=\"$refs.chart.loadChart()\" class=\"nav-link\"><i class=\"mdi mdi-refresh\"></i> <span>{{ \"Reload chart\"|i18n(\"chart\") }}</span></a>\n\t\t\t\t</nav>\n\t\t\t</latte-button-dropdown>\n\t\t</div>\n\t\t<latte-chart ref=\"chart\" :url=\"url\" @change=\"onChange\"></latte-chart>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-chart-panel\",\n\n\t\tprops: {\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tname: \"\"\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonChange(data)\n\t\t\t{\n\t\t\t\tthis.name = data.name;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","'use strict';\n\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nfunction createInjector(context) {\n  return function (id, style) {\n    return addStyle(id, style);\n  };\n}\nvar HEAD = document.head || document.getElementsByTagName('head')[0];\nvar styles = {};\n\nfunction addStyle(id, css) {\n  var group = isOldIE ? css.media || 'default' : id;\n  var style = styles[group] || (styles[group] = {\n    ids: new Set(),\n    styles: []\n  });\n\n  if (!style.ids.has(id)) {\n    style.ids.add(id);\n    var code = css.source;\n\n    if (css.map) {\n      // https://developer.chrome.com/devtools/docs/javascript-debugging\n      // this makes source maps inside style tags work properly in Chrome\n      code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n      code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n    }\n\n    if (!style.element) {\n      style.element = document.createElement('style');\n      style.element.type = 'text/css';\n      if (css.media) style.element.setAttribute('media', css.media);\n      HEAD.appendChild(style.element);\n    }\n\n    if ('styleSheet' in style.element) {\n      style.styles.push(code);\n      style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n    } else {\n      var index = style.ids.size - 1;\n      var textNode = document.createTextNode(code);\n      var nodes = style.element.childNodes;\n      if (nodes[index]) style.element.removeChild(nodes[index]);\n      if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n    }\n  }\n}\n\nmodule.exports = createInjector;\n//# sourceMappingURL=browser.js.map\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"form-control combo-box\" tabindex=\"0\" @blur=\"close\" @click=\"toggle\" @keydown.down=\"onKeyPressDown\" @keydown.enter=\"onKeyPressEnter\" @keydown.esc=\"onKeyPressEscape\" @keydown.up=\"onKeyPressUp\">\n\n\t\t<a class=\"combo-box-selection\" :class=\"selectedOptionClasses\" v-if=\"selectedOptionTemplate !== null\" v-html=\"selectedOptionTemplate\"></a>\n\t\t<div class=\"combo-box-empty\" v-else>Select...</div>\n\n\t\t<button class=\"btn btn-text btn-icon btn-dark form-control-suffix\" type=\"button\"><i class=\"mdi mdi-chevron-down\"></i></button>\n\n\t\t<div class=\"dropdown\" :class=\"{'is-open': isDropdownOpened}\" role=\"combobox\">\n\t\t\t<nav class=\"nav nav-list\">\n\t\t\t\t<slot></slot>\n\t\t\t</nav>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-combo-box\",\n\n\t\tprops: {\n\n\t\t\tvalue: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tinitialIndex: -1,\n\t\t\t\tisDropdownOpened: false,\n\t\t\t\toptions: [],\n\t\t\t\tselectedOptionIndex: -1,\n\t\t\t\tselectedOptionClasses: []\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tselectedOption()\n\t\t\t{\n\t\t\t\tconst option = this.options[this.selectedOptionIndex];\n\n\t\t\t\tif (option !== undefined)\n\t\t\t\t\treturn option;\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tselectedOptionTemplate()\n\t\t\t{\n\t\t\t\tconst option = this.selectedOption;\n\n\t\t\t\tif (option !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedOptionClasses = [...option.$el.classList];\n\n\t\t\t\t\treturn option.$el.innerHTML;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.initialIndex = -1;\n\t\t\t\tthis.isDropdownOpened = false;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tthis.initialIndex = this.selectedOptionIndex;\n\t\t\t\tthis.isDropdownOpened = true;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tthis.isDropdownOpened = !this.isDropdownOpened;\n\t\t\t},\n\n\t\t\tcheckValue()\n\t\t\t{\n\t\t\t\tthis.selectedOptionIndex = this.options.findIndex(option => option.value === this.value);\n\t\t\t},\n\n\t\t\tregisterOption(option)\n\t\t\t{\n\t\t\t\tthis.options.push(option);\n\t\t\t\tthis.checkValue();\n\n\t\t\t\toption.$on(\"select\", option => this.onOptionSelect(option));\n\t\t\t},\n\n\t\t\tunregisterOption(option)\n\t\t\t{\n\t\t\t\tthis.options.splice(this.options.findIndex(o => o === option), 1);\n\t\t\t\tthis.checkValue();\n\t\t\t},\n\n\t\t\tonKeyPressDown()\n\t\t\t{\n\t\t\t\tthis.open();\n\n\t\t\t\tif (this.selectedOptionIndex + 1 >= this.options.length)\n\t\t\t\t\tthis.selectedOptionIndex = 0;\n\t\t\t\telse\n\t\t\t\t\tthis.selectedOptionIndex++;\n\t\t\t},\n\n\t\t\tonKeyPressEnter()\n\t\t\t{\n\t\t\t\tthis.close();\n\t\t\t},\n\n\t\t\tonKeyPressEscape(evt)\n\t\t\t{\n\t\t\t\tif (this.initialIndex !== -1)\n\t\t\t\t\tthis.selectedOptionIndex = Math.min(Math.max(0, this.initialIndex), this.options.length - 1);\n\n\t\t\t\tthis.close();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\n\t\t\tonKeyPressUp()\n\t\t\t{\n\t\t\t\tthis.open();\n\n\t\t\t\tif (this.selectedOptionIndex - 1 < 0)\n\t\t\t\t\tthis.selectedOptionIndex = this.options.length - 1;\n\t\t\t\telse\n\t\t\t\t\tthis.selectedOptionIndex--;\n\t\t\t},\n\n\t\t\tonOptionSelect(option)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.close());\n\n\t\t\t\tthis.selectedOptionIndex = this.options.findIndex(o => o === option);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tselectedOptionIndex()\n\t\t\t{\n\t\t\t\tthis.options.forEach(option => this.$set(option, \"active\", false));\n\n\t\t\t\tif (this.selectedOption !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.$emit(\"input\", this.selectedOption.value);\n\t\t\t\t\tthis.$set(this.selectedOption, \"active\", true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$emit(\"input\", null);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.checkValue();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\tdiv.combo-box\n\t{\n\t\talign-items: center;\n\t\tpadding: 0 16px 0 0;\n\t\tz-index: unset;\n\t}\n\n\ta.combo-box-selection\n\t{\n\t\tflex: 1 1 auto;\n\t\tpointer-events: none;\n\t}\n\n\tbutton.form-control-suffix\n\t{\n\t\tcolor: rgba(var(--color-dark), .5);\n\t\tpointer-events: none;\n\t}\n\n\tdiv.dropdown\n\t{\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttransition: all 180ms var(--ease-swift-out);\n\t\twill-change: opacity, transform;\n\t\tz-index: 10;\n\n\t\t&:not(.is-open)\n\t\t{\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t\ttransform: translate3d(0, 1rem, 0);\n\t\t}\n\t}\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<a class=\"nav-link\" :class=\"{'is-hover': active}\" role=\"option\" @click=\"click\">\n\t\t<slot></slot>\n\t</a>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-combo-box-item\",\n\n\t\tprops: {\n\n\t\t\tvalue: {\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis.$parent.unregisterOption(this);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tactive: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$parent.registerOption(this);\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclick()\n\t\t\t{\n\t\t\t\tthis.$emit(\"select\", this);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<component :is=\"as\">\n\t\t<slot :data=\"data\" :is-loading=\"isLoading\" :params=\"params\" :set-param=\"setParam\"></slot>\n\t</component>\n\n</template>\n\n<script>\n\n\timport { request } from \"../../js/api\";\n\timport { handleError } from \"../../js/core\";\n\n\texport default {\n\n\t\tname: \"latte-data-fragment\",\n\n\t\tprops: {\n\n\t\t\tas: {\n\t\t\t\tdefault: \"div\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tinitialParams: {\n\t\t\t\tdefault: () => ({}),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: true,\n\t\t\t\ttype: String | null\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tdata: null,\n\t\t\t\tisLoading: false,\n\t\t\t\tparams: this.initialParams\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.load();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tload()\n\t\t\t{\n\t\t\t\tthis.reset();\n\n\t\t\t\tif (this.url === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tconst params = new URLSearchParams(this.params);\n\n\t\t\t\trequest(`${this.url}?${params}`)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(r => this.onReceivedData(r))\n\t\t\t\t\t.catch(err => handleError(err));\n\t\t\t},\n\n\t\t\treset()\n\t\t\t{\n\t\t\t\tthis.data = null;\n\t\t\t},\n\n\t\t\tsetParam(name, value)\n\t\t\t{\n\t\t\t\tthis.$set(this.params, name, value);\n\t\t\t},\n\n\t\t\tonReceivedData(response)\n\t\t\t{\n\t\t\t\tthis.data = response.data;\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tparams: {\n\t\t\t\tdeep: true,\n\t\t\t\thandler()\n\t\t\t\t{\n\t\t\t\t\tthis.load();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\turl()\n\t\t\t{\n\t\t\t\tthis.load();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<table class=\"table table-hover mb-0\">\n\t\t<thead>\n\t\t<tr v-if=\"showHeader\">\n\t\t\t<slot name=\"data-header\" :columns=\"columns\" :is-loading=\"isLoading\" :is-selection-mode=\"isSelectionMode\" :selection=\"selection\" :select-mode=\"selectMode\" :unique-id=\"uniqueId\">\n\t\t\t\t<th v-if=\"isSelectionMode\" style=\"width: 42px\"></th>\n\t\t\t\t<th v-for=\"column in columns\" :data-field=\"column.field\" :style=\"{'min-width': (column.width && column.width !== null ? column.width + 'px' : 'auto'), 'width': (column.width && column.width !== null ? column.width + 'px' : 'auto') }\">\n\t\t\t\t\t<div class=\"column-content flex-row align-items-center justify-content-start\">\n\t\t\t\t\t\t<span>{{ column.label }}</span>\n\n\t\t\t\t\t\t<latte-sorting-button v-if=\"showSorting && column.is_sortable\" :is-sorting=\"sort.by === column.field\" :is-sorting-ascending=\"sort.order === 'ASC'\" button-class=\"btn btn-icon btn-text btn-dark btn-sm ml-1\" :aria-label=\"'Sort by @0'|i18n('data-table', [column.label])\" @click=\"sortBy(column.field)\"></latte-sorting-button>\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t\t<th v-if=\"hasActions\" :style=\"{'width': actionsWidth + 'px'}\"></th>\n\t\t\t</slot>\n\t\t</tr>\n\n\t\t<tr class=\"search-row\" v-if=\"showSearch\">\n\t\t\t<slot name=\"data-search\" :columns=\"columns\" :is-loading=\"isLoading\" :is-selection-mode=\"isSelectionMode\" :search=\"search\" :selection=\"selection\" :select-mode=\"selectMode\" :unique-id=\"uniqueId\">\n\t\t\t\t<th v-if=\"isSelectionMode\" style=\"width:42px\"></th>\n\t\t\t\t<th v-for=\"column in columns\" :data-field=\"column.field\" :style=\"{'width': (column.width && column.width !== null ? column.width + 'px' : 'auto') }\">\n\t\t\t\t\t<input v-if=\"column.is_searchable\" type=\"search\" :placeholder=\"'Search'|i18n('data-table')\" :aria-label=\"'Search by @0'|i18n('data-table', [column.label])\" @keydown.enter=\"search(column.field, $event.target.value, $event)\"/>\n\t\t\t\t</th>\n\t\t\t\t<th v-if=\"hasActions\"></th>\n\t\t\t</slot>\n\t\t</tr>\n\n\t\t<tr v-if=\"filters.length > 0\">\n\t\t\t<td :colspan=\"amountOfColumns\">\n\t\t\t\t<div class=\"column-content flex-row justify-content-start\">\n\n\t\t\t\t\t<template v-for=\"(filter, filterKey) of filters\">\n\t\t\t\t\t\t<span class=\"badge mr-1\" :class=\"filter.class\">\n\t\t\t\t\t\t\t<span>{{ filter.label }}</span>\n\t\t\t\t\t\t\t<button class=\"btn\" @click=\"removeFilter($event, filterKey)\"><i class=\"mdi mdi-window-close\"></i></button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t<tr v-for=\"(row, rowKey) in data\">\n\t\t\t<slot name=\"data-row\" :actions=\"actions\" :columns=\"columns\" :has-actions=\"hasActions\" :is-loading=\"isLoading\" :row=\"row\" :row-key=\"rowKey\" :is-selection-mode=\"isSelectionMode\" :selection=\"selection\" :select-mode=\"selectMode\" :unique-id=\"uniqueId\">\n\t\t\t\t<td v-if=\"isSelectionMode\" style=\"width:42px;z-index:1\">\n\t\t\t\t\t<div class=\"column-content pr-0\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"radio-button radio-button-primary mr-0\" :id=\"uniqueId + ':' + row.id\" :name=\"name\" :value=\"row.id\" v-if=\"selectMode === 'single'\" v-model=\"selection\"/>\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"checkbox checkbox-primary mr-0\" :id=\"uniqueId + ':' + row.id\" :name=\"name + '[]'\" :value=\"row.id\" v-if=\"selectMode === 'multiple'\" v-model=\"selection\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\n\t\t\t\t<template v-for=\"(column, columnKey) in columns\">\n\t\t\t\t\t<td :data-field=\"column.field\" :data-row=\"rowKey\" :data-column=\"columnKey\" :style=\"{'width': (column.width && column.width !== null ? column.width + 'px' : 'auto') }\">\n\t\t\t\t\t\t<component :is=\"createRowColumn(row, column)\"></component>\n\t\t\t\t\t</td>\n\t\t\t\t</template>\n\n\t\t\t\t<latte-data-table-actions :actions=\"actions\" :row=\"row\" v-if=\"hasActions\"></latte-data-table-actions>\n\t\t\t</slot>\n\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t<tr v-if=\"pagination.length > 0\">\n\t\t\t<th :colspan=\"amountOfColumns\">\n\t\t\t\t<div class=\"column-content\">\n\t\t\t\t\t<latte-pagination :pagination=\"pagination\" @navigate=\"loadPage\"></latte-pagination>\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t</tr>\n\t\t</tfoot>\n\t</table>\n\n</template>\n\n<script>\n\n\timport Vue from \"vue\";\n\n\timport { id, request } from \"../../js/api\";\n\timport { handleError } from \"../../js/core\";\n\timport { createElement } from \"../../js/util/dom\";\n\timport { isNullOrWhitespace } from \"../../js/util/string\";\n\n\texport default {\n\n\t\tname: \"latte-data-table\",\n\n\t\tprops: {\n\n\t\t\taddSpinnerToParent: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlimit: {\n\t\t\t\tdefault: 20,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: () => id(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tnumColumns: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number | null\n\t\t\t},\n\n\t\t\tselectMode: {\n\t\t\t\tdefault: \"none\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String,\n\t\t\t\tvalidator: value => [\"none\", \"single\", \"multiple\"].indexOf(value) > -1\n\t\t\t},\n\n\t\t\tshowHeader: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tshowSearch: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tshowSorting: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => [],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array | Number\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tif (this.spinner !== null)\n\t\t\t\tthis.spinner.remove();\n\n\t\t\tthis.subscriptions.refresh.unsubscribe();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tdefaults: {\n\t\t\t\t\tcolumn: {\n\t\t\t\t\t\tis_searchable: false,\n\t\t\t\t\t\tis_sortable: false\n\t\t\t\t\t},\n\t\t\t\t\tmock: {\n\t\t\t\t\t\tfield: \"\",\n\t\t\t\t\t\tsorting: {\n\t\t\t\t\t\t\tby: \"\",\n\t\t\t\t\t\t\torder: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsubscriptions: {\n\t\t\t\t\trefresh: null\n\t\t\t\t},\n\t\t\t\tisLoading: false,\n\t\t\t\tactions: [],\n\t\t\t\tcolumns: [],\n\t\t\t\tdata: [],\n\t\t\t\tfilters: [],\n\t\t\t\tpage: 1,\n\t\t\t\tpagination: [],\n\t\t\t\tparams: {},\n\t\t\t\tselection: this.value,\n\t\t\t\tsort: {\n\t\t\t\t\tby: \"\",\n\t\t\t\t\torder: 'DESC'\n\t\t\t\t},\n\t\t\t\tspinner: null,\n\t\t\t\tuniqueId: id()\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.subscriptions.refresh = Latte.actions.on(\"data-tables:refresh\", () => this.reload());\n\n\t\t\tthis.addSpinner();\n\t\t\tthis.loadSetup();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tactionsWidth()\n\t\t\t{\n\t\t\t\treturn 52;\n\t\t\t},\n\n\t\t\tamountOfColumns()\n\t\t\t{\n\t\t\t\tif (this.numColumns !== null)\n\t\t\t\t\treturn this.numColumns + (this.hasActions ? 1 : 0) + (this.isSelectionMode ? 1 : 0);\n\n\t\t\t\treturn this.columns.length + (this.hasActions ? 1 : 0) + (this.isSelectionMode ? 1 : 0);\n\t\t\t},\n\n\t\t\thasActions()\n\t\t\t{\n\t\t\t\treturn this.actions.length > 0;\n\t\t\t},\n\n\t\t\tisSelectionMode()\n\t\t\t{\n\t\t\t\treturn this.selectMode !== \"none\";\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\taddFilter(filter)\n\t\t\t{\n\t\t\t\tfor (let f of this.filters)\n\t\t\t\t\tif (f.property === filter.property && f[\"value\"] === filter[\"value\"])\n\t\t\t\t\t\treturn;\n\n\t\t\t\tthis.page = 1;\n\n\t\t\t\tfilter.class = filter.class || \"badge-info\";\n\n\t\t\t\tthis.filters.push(filter);\n\t\t\t\tthis.loadFromUrl();\n\t\t\t},\n\n\t\t\taddSpinner()\n\t\t\t{\n\t\t\t\tif (!this.addSpinnerToParent)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.spinner = createElement(\"span\", span => span.classList.add(\"spinner\", \"spinner-primary\"));\n\t\t\t\tthis.$el.parentNode.append(this.spinner);\n\t\t\t},\n\n\t\t\tremoveFilter(evt, filterKey)\n\t\t\t{\n\t\t\t\tthis.page = 1;\n\n\t\t\t\tthis.filters.splice(filterKey, 1);\n\t\t\t\tthis.loadFromUrl();\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\t\t\t},\n\n\t\t\tcreateRowColumn(row, column)\n\t\t\t{\n\t\t\t\tconst $this = this;\n\t\t\t\tconst uniqueId = this.uniqueId;\n\n\t\t\t\tconst badgesHTML = `\t<template v-for=\"badge of (row.badges || [])\">\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"badge ml-2\" :class=\"['badge-' + badge.type]\" @click=\"applyFilter($event, badge.filter, badge.type)\" v-if=\"badge.filter !== null\">{{ badge.message }}</a>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"badge ml-2\" :class=\"['badge-' + badge.type]\" v-if=\"badge.filter === null\">{{ badge.message }}</span>\n\t\t\t\t\t\t\t\t\t\t</template>`;\n\n\t\t\t\tcolumn.template = column.template.replace(`<slot name=\"badges\"></slot>`, badgesHTML);\n\n\t\t\t\treturn Vue.extend({\n\n\t\t\t\t\ttemplate: column.template,\n\n\t\t\t\t\tdata()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn {column, row, uniqueId};\n\t\t\t\t\t},\n\n\t\t\t\t\tmethods: {\n\n\t\t\t\t\t\taddFilter(property, value, label = undefined, filterClass = \"primary\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel = label || value;\n\n\t\t\t\t\t\t\t$this.addFilter({property, value, label, class: filterClass});\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tapplyFilter(evt, filter, filterClass)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfilter.class = `badge-${filterClass}`;\n\t\t\t\t\t\t\t$this.addFilter(filter);\n\n\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tloadFromUrl()\n\t\t\t{\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tlet url = `${this.url}/data?offset=${(this.page - 1) * this.limit}&limit=${this.limit}`;\n\n\t\t\t\tif (this.sort.by.trim() !== \"\")\n\t\t\t\t\turl += `&sort=${this.sort.order}&by=${this.sort.by}`;\n\n\t\t\t\tfor (let key in this.params)\n\t\t\t\t\tif (this.params.hasOwnProperty(key) && !isNullOrWhitespace(this.params[key]))\n\t\t\t\t\t\turl += `&${key}=${encodeURIComponent(this.params[key])}`;\n\n\t\t\t\tfor (let filter of this.filters)\n\t\t\t\t\tif (!isNullOrWhitespace(filter.value.toString()))\n\t\t\t\t\t\turl += `&filter[${filter.property}]=${filter[\"value\"]}`;\n\n\t\t\t\trequest(url)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(this.onReceivedData)\n\t\t\t\t\t.catch(err => handleError(err));\n\t\t\t},\n\n\t\t\tloadPage(page)\n\t\t\t{\n\t\t\t\tthis.page = page;\n\t\t\t\tthis.loadFromUrl();\n\t\t\t},\n\n\t\t\tloadSetup()\n\t\t\t{\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\trequest(`${this.url}?limit=${this.limit}`)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(this.onReceivedSetupResponse)\n\t\t\t\t\t.catch(err => handleError(err));\n\t\t\t},\n\n\t\t\tonReceivedData(response)\n\t\t\t{\n\t\t\t\tthis.data = response.data.data;\n\t\t\t\tthis.pagination = response.data.pagination;\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t},\n\n\t\t\tonReceivedSetupResponse(response)\n\t\t\t{\n\t\t\t\tthis.actions = response.data.actions;\n\t\t\t\tthis.columns = response.data.columns.map(column => Object.assign({}, this.defaults.column, column));\n\n\t\t\t\tif (response.data.sorting !== undefined)\n\t\t\t\t{\n\t\t\t\t\tthis.sort.by = response.data.sorting.by;\n\t\t\t\t\tthis.sort.order = response.data.sorting.order;\n\t\t\t\t}\n\n\t\t\t\tif (response.data.initial_data !== undefined)\n\t\t\t\t\tthis.onReceivedData({data: response.data.initial_data});\n\t\t\t\telse\n\t\t\t\t\tthis.loadFromUrl();\n\t\t\t},\n\n\t\t\treload()\n\t\t\t{\n\t\t\t\tthis.loadFromUrl();\n\t\t\t},\n\n\t\t\tsearch(field, value, evt)\n\t\t\t{\n\t\t\t\tif (evt)\n\t\t\t\t{\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tthis.params[field] = value;\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.loadFromUrl();\n\t\t\t},\n\n\t\t\tsortBy(field)\n\t\t\t{\n\t\t\t\tif (this.sort.by === field)\n\t\t\t\t\tthis.sort.order = this.sort.order === \"DESC\" ? \"ASC\" : \"DESC\";\n\n\t\t\t\tthis.sort.by = field;\n\t\t\t\tthis.loadFromUrl();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisLoading()\n\t\t\t{\n\t\t\t\tthis.$emit(\"loading\", this.isLoading);\n\n\t\t\t\tif (!this.addSpinnerToParent)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst parent = this.$el.parentNode;\n\n\t\t\t\tif (this.isLoading)\n\t\t\t\t\tparent.classList.add(\"is-loading\");\n\t\t\t\telse\n\t\t\t\t\tparent.classList.remove(\"is-loading\");\n\t\t\t},\n\n\t\t\tselection()\n\t\t\t{\n\t\t\t\tthis.$emit(\"input\", this.selection);\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.selection = this.value;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<td class=\"actions\">\n\t\t<div class=\"column-content flex-row align-items-center pl-0\">\n\t\t\t<latte-button-dropdown :aria-label=\"'More options...'|i18n('data-table')\" icon=\"dots-vertical\">\n\t\t\t\t<nav class=\"nav nav-list\">\n\t\t\t\t\t<component data-close v-for=\"(action, actionKey) in actions\" :is=\"createAction(action, row)\" :key=\"actionKey\"></component>\n\t\t\t\t</nav>\n\t\t\t</latte-button-dropdown>\n\t\t</div>\n\t</td>\n\n</template>\n\n<script>\n\n\timport Vue from \"vue\";\n\n\texport default {\n\n\t\tname: \"latte-data-table-actions\",\n\n\t\tprops: {\n\n\t\t\tactions: {\n\t\t\t\tdefault: () => [],\n\t\t\t\trequired: true,\n\t\t\t\ttype: Array\n\t\t\t},\n\n\t\t\trow: {\n\t\t\t\tdefault: () => ({}),\n\t\t\t\trequired: true,\n\t\t\t\ttype: Object\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcreateAction(action, row)\n\t\t\t{\n\t\t\t\treturn Vue.extend({\n\n\t\t\t\t\ttemplate: action.template,\n\n\t\t\t\t\tdata()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn {action, row};\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"datepicker\">\n\n\t\t<input readonly ref=\"input\" :id=\"id\" :name=\"name\" :placeholder=\"placeholder\" type=\"date\" class=\"form-control\" :value=\"inputValue\"/>\n\n\t\t<latte-popup :associate-with=\"$refs.input\" ref=\"popup\" style=\"width: 384px\">\n\t\t\t<latte-datepicker-calendar v-model=\"current\"></latte-datepicker-calendar>\n\t\t</latte-popup>\n\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-datepicker\",\n\n\t\tprops: {\n\n\t\t\tid: {\n\t\t\t\tdefault: \"date\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: \"date\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => new Date(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Date\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrent: this.value\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tinputValue()\n\t\t\t{\n\t\t\t\treturn moment(this.current).format(\"YYYY-MM-DD\");\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcurrent()\n\t\t\t{\n\t\t\t\tthis.$emit(\"input\", this.current);\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.current = this.value;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel panel-blank datepicker-calendar\">\n\n\t\t<div class=\"panel-header datepicker-calendar-header\">\n\t\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"navigate(-1)\"><i class=\"mdi mdi-chevron-left\"></i></button>\n\n\t\t\t<div class=\"btn-group mx-auto\">\n\t\t\t\t<button class=\"btn btn-text btn-dark\" @click=\"view('months')\"><span>{{ moment(monthBeginDate).format(\"MMMM\") }}</span></button>\n\t\t\t\t<button class=\"btn btn-text btn-dark\" @click=\"view('years')\"><span>{{ moment(monthBeginDate).format(\"YYYY\") }}</span></button>\n\t\t\t</div>\n\n\t\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"navigate(1)\"><i class=\"mdi mdi-chevron-right\"></i></button>\n\t\t</div>\n\n\t\t<div class=\"panel-body datepicker-calendar-dates pt-0\" :class=\"bodyClass\" v-if=\"selectedView === 'dates'\">\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(1).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(2).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(3).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(4).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(5).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(6).format(\"dd\") }}</span>\n\t\t\t<span class=\"day\">{{ moment().isoWeekday(7).format(\"dd\") }}</span>\n\n\t\t\t<button :class=\"getClassesForDate(date)\" :disabled=\"isOtherMonth(date)\" @click=\"select(date)\" v-for=\"date of dates\">\n\t\t\t\t<span>{{ date.getDate() }}</span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"panel-body datepicker-calendar-months pt-0\" :class=\"bodyClass\" v-if=\"selectedView === 'months'\">\n\t\t\t<button :class=\"getClassesForMonth(index)\" :data-month=\"index\" @click=\"selectMonth(index)\" v-for=\"(month, index) in months\">\n\t\t\t\t<span>{{ month }}</span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"panel-body datepicker-calendar-years pt-0\" :class=\"bodyClass\" v-if=\"selectedView === 'years'\">\n\t\t\t<button :class=\"getClassesForYear(year)\" :data-year=\"year\" @click=\"selectYear(year)\" v-for=\"year in years\">\n\t\t\t\t<span>{{ year }}</span>\n\t\t\t</button>\n\t\t</div>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { raf } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"latte-datepicker-calendar\",\n\n\t\tprops: {\n\n\t\t\tbodyClass: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => new Date(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Date\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tselectedMonth: 3,\n\t\t\t\tselectedView: \"dates\",\n\t\t\t\tselectedYear: 1996\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tdates()\n\t\t\t{\n\t\t\t\tlet dates = [];\n\t\t\t\tlet monthDays = this.monthEndDate.getDate();\n\t\t\t\tlet beforeDates = Math.max(0, this.monthBeginDate.getDay() - 1);\n\n\t\t\t\tfor (let x = beforeDates - 1; x >= 0; x--)\n\t\t\t\t\tdates.push(new Date(Date.UTC(this.selectedYear, this.selectedMonth - 1, 0 - x, 0, 0, 0)));\n\n\t\t\t\tfor (let x = 1; x <= monthDays; x++)\n\t\t\t\t\tdates.push(new Date(Date.UTC(this.selectedYear, this.selectedMonth - 1, x, 0, 0, 0)));\n\n\t\t\t\tconst rows = Math.ceil(dates.length / 7);\n\t\t\t\tconst datesToShow = rows * 7;\n\t\t\t\tlet x = 0;\n\n\t\t\t\twhile (datesToShow > dates.length)\n\t\t\t\t\tdates.push(new Date(Date.UTC(this.selectedYear, this.selectedMonth, ++x, 0, 0, 0)));\n\n\t\t\t\treturn dates;\n\t\t\t},\n\n\t\t\tmonthBeginDate()\n\t\t\t{\n\t\t\t\treturn new Date(this.selectedYear, this.selectedMonth - 1, 1);\n\t\t\t},\n\n\t\t\tmonthEndDate()\n\t\t\t{\n\t\t\t\treturn new Date(this.selectedYear, this.selectedMonth, 0);\n\t\t\t},\n\n\t\t\tmonths()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t1: moment().month(0).format(\"MMMM\"),\n\t\t\t\t\t2: moment().month(1).format(\"MMMM\"),\n\t\t\t\t\t3: moment().month(2).format(\"MMMM\"),\n\t\t\t\t\t4: moment().month(3).format(\"MMMM\"),\n\t\t\t\t\t5: moment().month(4).format(\"MMMM\"),\n\t\t\t\t\t6: moment().month(5).format(\"MMMM\"),\n\t\t\t\t\t7: moment().month(6).format(\"MMMM\"),\n\t\t\t\t\t8: moment().month(7).format(\"MMMM\"),\n\t\t\t\t\t9: moment().month(8).format(\"MMMM\"),\n\t\t\t\t\t10: moment().month(9).format(\"MMMM\"),\n\t\t\t\t\t11: moment().month(10).format(\"MMMM\"),\n\t\t\t\t\t12: moment().month(11).format(\"MMMM\")\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tyears()\n\t\t\t{\n\t\t\t\tconst years = [];\n\n\t\t\t\tfor (let year = 1900; year <= 2100; year++)\n\t\t\t\t\tyears.push(year);\n\n\t\t\t\treturn years;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tgetClassesForDate(date)\n\t\t\t{\n\t\t\t\tconst classes = [\"btn\"];\n\n\t\t\t\tif (this.isToday(date))\n\t\t\t\t\tclasses.push(\"font-italic\", \"font-weight-bold\");\n\n\t\t\t\tif (this.isSelected(date))\n\t\t\t\t\tclasses.push(\"btn-contained\", \"btn-primary\");\n\t\t\t\telse\n\t\t\t\t\tclasses.push(\"btn-text\", \"btn-dark\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tgetClassesForMonth(month)\n\t\t\t{\n\t\t\t\tconst classes = [\"btn\", \"m-0\", \"w-100\"];\n\n\t\t\t\tif (parseInt(month) === this.selectedMonth)\n\t\t\t\t\tclasses.push(\"btn-contained\", \"btn-primary\");\n\t\t\t\telse\n\t\t\t\t\tclasses.push(\"btn-text\", \"btn-dark\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tgetClassesForYear(year)\n\t\t\t{\n\t\t\t\tconst classes = [\"btn\", \"m-0\", \"w-100\"];\n\n\t\t\t\tif (parseInt(year) === this.selectedYear)\n\t\t\t\t\tclasses.push(\"btn-contained\", \"btn-primary\");\n\t\t\t\telse\n\t\t\t\t\tclasses.push(\"btn-text\", \"btn-dark\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tisOtherMonth(date)\n\t\t\t{\n\t\t\t\treturn (date.getMonth() + 1) !== this.selectedMonth;\n\t\t\t},\n\n\t\t\tisSame(date, other)\n\t\t\t{\n\t\t\t\tif (typeof date === 'undefined' || date === null)\n\t\t\t\t\treturn false;\n\n\t\t\t\tif (typeof other === 'undefined' || other === null)\n\t\t\t\t\treturn false;\n\n\t\t\t\treturn date.getFullYear() === other.getFullYear() && date.getMonth() === other.getMonth() && date.getDate() === other.getDate();\n\t\t\t},\n\n\t\t\tisSelected(date)\n\t\t\t{\n\t\t\t\treturn this.isSame(date, this.value);\n\t\t\t},\n\n\t\t\tisToday(date)\n\t\t\t{\n\t\t\t\treturn this.isSame(date, new Date());\n\t\t\t},\n\n\t\t\tnavigate(dir)\n\t\t\t{\n\t\t\t\tthis.selectedMonth += dir;\n\n\t\t\t\tif (this.selectedMonth === 13)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedMonth = 1;\n\t\t\t\t\tthis.selectedYear++;\n\t\t\t\t}\n\n\t\t\t\tif (this.selectedMonth === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedMonth = 12;\n\t\t\t\t\tthis.selectedYear--;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tselect(date)\n\t\t\t{\n\t\t\t\tthis.$emit(\"input\", date);\n\t\t\t},\n\n\t\t\tselectMonth(month)\n\t\t\t{\n\t\t\t\tthis.selectedMonth = parseInt(month);\n\t\t\t\tthis.selectedView = \"dates\";\n\t\t\t},\n\n\t\t\tselectYear(year)\n\t\t\t{\n\t\t\t\tthis.selectedYear = parseInt(year);\n\t\t\t\tthis.selectedView = \"dates\";\n\t\t\t},\n\n\t\t\tview(view)\n\t\t\t{\n\t\t\t\tif (this.selectedView === view)\n\t\t\t\t\treturn this.selectedView = \"dates\";\n\n\t\t\t\tthis.selectedView = view;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tselectedView()\n\t\t\t{\n\t\t\t\tthis.$emit(\"view\", this.selectedView);\n\n\t\t\t\traf(() =>\n\t\t\t\t{\n\t\t\t\t\tif (this.selectedView === \"months\")\n\t\t\t\t\t\tthis.$el.querySelector(`[data-month=\"${this.selectedMonth}\"]`).scrollIntoViewIfNeeded();\n\n\t\t\t\t\tif (this.selectedView === \"years\")\n\t\t\t\t\t\tthis.$el.querySelector(`[data-year=\"${this.selectedYear}\"]`).scrollIntoViewIfNeeded();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\timmediate: true,\n\t\t\t\thandler()\n\t\t\t\t{\n\t\t\t\t\tthis.selectedMonth = this.value.getMonth() + 1;\n\t\t\t\t\tthis.selectedYear = this.value.getFullYear();\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"datepicker\">\n\n\t\t<input readonly ref=\"input\" :id=\"id\" :name=\"name\" :placeholder=\"placeholder\" type=\"datetime-local\" class=\"form-control\" :value=\"inputValue\"/>\n\n\t\t<latte-popup :associate-with=\"$refs.input\" :persistent=\"true\" ref=\"popup\" style=\"width: 384px\">\n\n\t\t\t<latte-datepicker-calendar body-class=\"pb-0\" @view=\"calendarView = $event\" v-model=\"currentDate\"></latte-datepicker-calendar>\n\n\t\t\t<latte-timepicker-clock class=\"mt-0\" v-if=\"calendarView === 'dates'\" v-model=\"currentTime\">\n\n\t\t\t\t<button slot=\"after\" class=\"btn btn-icon btn-text btn-primary ml-3\" @click=\"select\"><i class=\"mdi mdi-check\"></i></button>\n\t\t\t\t<button slot=\"after\" class=\"btn btn-icon btn-text btn-dark\" @click=\"close\"><i class=\"mdi mdi-close\"></i></button>\n\n\t\t\t</latte-timepicker-clock>\n\n\t\t</latte-popup>\n\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-datetime-picker\",\n\n\t\tprops: {\n\n\t\t\tid: {\n\t\t\t\tdefault: \"date\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: \"date\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => new Date(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Date\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcalendarView: \"dates\",\n\t\t\t\tcurrentDate: new Date(),\n\t\t\t\tcurrentTime: new Date()\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcurrent()\n\t\t\t{\n\t\t\t\tconst dt = new Date(this.currentDate);\n\t\t\t\tdt.setHours(this.currentTime.getHours());\n\t\t\t\tdt.setMinutes(this.currentTime.getMinutes());\n\n\t\t\t\treturn dt;\n\t\t\t},\n\n\t\t\tinputValue()\n\t\t\t{\n\t\t\t\treturn moment(this.current).format(\"YYYY-MM-DD[T]HH:mm\");\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.currentDate = new Date(this.value.getTime());\n\t\t\t\tthis.currentTime = new Date(this.value.getTime());\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t},\n\n\t\t\tselect()\n\t\t\t{\n\t\t\t\tthis.$emit(\"input\", this.current);\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tvalue: {\n\t\t\t\timmediate: true,\n\t\t\t\thandler()\n\t\t\t\t{\n\t\t\t\t\tthis.currentDate = new Date(this.value.getTime());\n\t\t\t\t\tthis.currentTime = new Date(this.value.getTime());\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-draggable\",\n\n\t\tprops: {\n\n\t\t\toptions: Object,\n\n\t\t\tlist: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: false,\n\t\t\t\tdefault: null\n\t\t\t},\n\n\t\t\tnoTransitionOnDrag: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\n\t\t\tclone: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: function (original)\n\t\t\t\t{\n\t\t\t\t\treturn original;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\telement: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'div'\n\t\t\t},\n\n\t\t\tmove: {\n\t\t\t\ttype: Function,\n\t\t\t\tdefault: null\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis._sortable.destroy();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcomponentMode: false,\n\t\t\t\ttransitionMode: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.componentMode = this.element.toLowerCase() !== this.$el.nodeName.toLowerCase();\n\n\t\t\tif (this.componentMode && this.transitionMode)\n\t\t\t\tthrow new Error('Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: ' + this.element);\n\n\t\t\tlet optionsAdded = {};\n\n\t\t\teventsListened.forEach(elt => optionsAdded['on' + elt] = delegateAndEmit.call(this, elt));\n\t\t\teventsToEmit.forEach(elt => optionsAdded['on' + elt] = emit.bind(this, elt));\n\n\t\t\tlet options = _extends({}, this.options, optionsAdded, {onMove: (event, originalEvent) => this.onDragMove(event, originalEvent)});\n\n\t\t\t!('draggable' in options) && (options.draggable = '>*');\n\n\t\t\tthis._sortable = new Sortable(this.rootContainer, options);\n\t\t\tthis.computeIndexes();\n\t\t},\n\n\t\trender(createElement)\n\t\t{\n\t\t\tlet slots = this.$slots.default;\n\n\t\t\tif (slots && slots.length === 1)\n\t\t\t{\n\t\t\t\tlet child = slots[0];\n\n\t\t\t\tif (child.componentOptions && child.componentOptions.tag === 'transition-group')\n\t\t\t\t\tthis.transitionMode = true;\n\t\t\t}\n\n\t\t\tlet children = slots;\n\t\t\tlet footer = this.$slots.footer;\n\n\t\t\tif (footer)\n\t\t\t\tchildren = slots ? [].concat(_toConsumableArray(slots), _toConsumableArray(footer)) : [].concat(_toConsumableArray(footer));\n\n\t\t\treturn createElement(this.element, null, children);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\trootContainer()\n\t\t\t{\n\t\t\t\treturn this.transitionMode ? this.$el.children[0] : this.$el;\n\t\t\t},\n\n\t\t\tisCloning()\n\t\t\t{\n\t\t\t\treturn this.options && this.options.group && this.options.group.pull === 'clone';\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\treturn this.list ? this.list : this.value;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tgetChildrenNodes()\n\t\t\t{\n\t\t\t\tif (this.componentMode)\n\t\t\t\t\treturn this.$children[0].$slots.default;\n\n\t\t\t\tlet rawNodes = this.$slots.default;\n\n\t\t\t\treturn this.transitionMode ? rawNodes[0].child.$slots.default : rawNodes;\n\t\t\t},\n\n\t\t\tcomputeIndexes()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.visibleIndexes = computeIndexes(this.getChildrenNodes(), this.rootContainer.children, this.transitionMode));\n\t\t\t},\n\n\t\t\tgetUnderlyingVm(htmlElement)\n\t\t\t{\n\t\t\t\tlet index = computeVmIndex(this.getChildrenNodes() || [], htmlElement);\n\n\t\t\t\tif (index === -1)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn {index: index, element: this.realList[index]};\n\t\t\t},\n\n\t\t\tgetUnderlyingPotencialDraggableComponent(reference)\n\t\t\t{\n\t\t\t\tconst vue = reference.__vue__;\n\n\t\t\t\tif (!vue || !vue.$options || vue.$options._componentTag !== 'transition-group')\n\t\t\t\t\treturn vue;\n\n\t\t\t\treturn vue.$parent;\n\t\t\t},\n\n\t\t\temitChanges(event)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => this.$emit('change', event));\n\t\t\t},\n\n\t\t\talterList(onList)\n\t\t\t{\n\t\t\t\tif (this.list)\n\t\t\t\t{\n\t\t\t\t\tonList(this.list);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet newList = [].concat(_toConsumableArray(this.value));\n\t\t\t\t\tonList(newList);\n\t\t\t\t\tthis.$emit('input', newList);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspliceList()\n\t\t\t{\n\t\t\t\tlet _arguments = arguments;\n\t\t\t\tthis.alterList(list => list.splice.apply(list, _arguments));\n\t\t\t},\n\n\t\t\tupdatePosition(oldIndex, newIndex)\n\t\t\t{\n\t\t\t\tthis.alterList(list => list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]));\n\t\t\t},\n\n\t\t\tgetRelatedContextFromMoveElement(reference)\n\t\t\t{\n\t\t\t\tlet to = reference.to,\n\t\t\t\t\trelated = reference.related;\n\n\t\t\t\tlet component = this.getUnderlyingPotencialDraggableComponent(reference);\n\n\t\t\t\tif (!component)\n\t\t\t\t\treturn {component: component};\n\n\t\t\t\tlet list = component.realList;\n\t\t\t\tlet context = {list: list, component: component};\n\n\t\t\t\tif (to !== related && list && component.getUnderlyingVm)\n\t\t\t\t{\n\t\t\t\t\tlet destination = component.getUnderlyingVm(related);\n\n\t\t\t\t\tif (destination)\n\t\t\t\t\t\treturn _extends(destination, context);\n\t\t\t\t}\n\n\t\t\t\treturn context;\n\t\t\t},\n\n\t\t\tgetVmIndex(domIndex)\n\t\t\t{\n\t\t\t\tlet indexes = this.visibleIndexes;\n\t\t\t\tlet numberIndexes = indexes.length;\n\n\t\t\t\treturn domIndex > numberIndexes - 1 ? numberIndexes : indexes[domIndex];\n\t\t\t},\n\n\t\t\tgetComponent()\n\t\t\t{\n\t\t\t\treturn this.$slots.default[0].componentInstance;\n\t\t\t},\n\n\t\t\tresetTransitionData(index)\n\t\t\t{\n\t\t\t\tif (!this.noTransitionOnDrag || !this.transitionMode)\n\t\t\t\t\treturn;\n\n\t\t\t\tlet nodes = this.getChildrenNodes();\n\t\t\t\tnodes[index].data = null;\n\n\t\t\t\tlet transitionContainer = this.getComponent();\n\t\t\t\ttransitionContainer.children = [];\n\t\t\t\ttransitionContainer.kept = undefined;\n\t\t\t},\n\n\t\t\tonDragStart(event)\n\t\t\t{\n\t\t\t\tthis.context = this.getUnderlyingVm(event.item);\n\t\t\t\tevent.item._underlying_vm_ = this.clone(this.context.element);\n\t\t\t\tdraggingElement = event.item;\n\n\t\t\t\tthis.$el.classList.add('is-dragging');\n\t\t\t},\n\n\t\t\tonDragAdd(event)\n\t\t\t{\n\t\t\t\tlet element = event.item._underlying_vm_;\n\n\t\t\t\tif (element === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tremoveNode(event.item);\n\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\t\t\t\tthis.spliceList(newIndex, 0, element);\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tthis.emitChanges({added: {element: element, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tonDragRemove(event)\n\t\t\t{\n\t\t\t\tinsertNodeAt(this.rootContainer, event.item, event.oldIndex);\n\n\t\t\t\tif (this.isCloning)\n\t\t\t\t{\n\t\t\t\t\tremoveNode(event.clone);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tthis.spliceList(oldIndex, 1);\n\t\t\t\tthis.resetTransitionData(oldIndex);\n\t\t\t\tthis.emitChanges({removed: {element: this.context.element, oldIndex: oldIndex}});\n\t\t\t},\n\n\t\t\tonDragUpdate(event)\n\t\t\t{\n\t\t\t\tremoveNode(event.item);\n\t\t\t\tinsertNodeAt(event.from, event.item, event.oldIndex);\n\n\t\t\t\tlet oldIndex = this.context.index;\n\t\t\t\tlet newIndex = this.getVmIndex(event.newIndex);\n\n\t\t\t\tthis.updatePosition(oldIndex, newIndex);\n\t\t\t\tthis.emitChanges({moved: {element: this.context.element, oldIndex: oldIndex, newIndex: newIndex}});\n\t\t\t},\n\n\t\t\tcomputeFutureIndex(relatedContext, event)\n\t\t\t{\n\t\t\t\tif (!relatedContext.element)\n\t\t\t\t\treturn 0;\n\n\t\t\t\tlet domChildren = [].concat(_toConsumableArray(event.to.children)).filter(el => el.style.display !== 'none');\n\t\t\t\tlet currentDomIndex = domChildren.indexOf(event.related);\n\t\t\t\tlet currentIndex = relatedContext.component.getVmIndex(currentDomIndex);\n\t\t\t\tlet draggedInList = domChildren.indexOf(draggingElement) !== -1;\n\n\t\t\t\treturn draggedInList || !event.willInsertAfter ? currentIndex : currentIndex + 1;\n\t\t\t},\n\n\t\t\tonDragMove(event, originalEvent)\n\t\t\t{\n\t\t\t\tlet onMove = this.move;\n\n\t\t\t\tif (!onMove || !this.realList)\n\t\t\t\t\treturn true;\n\n\t\t\t\tlet relatedContext = this.getRelatedContextFromMoveElement(event);\n\t\t\t\tlet draggedContext = this.context;\n\t\t\t\tlet futureIndex = this.computeFutureIndex(relatedContext, event);\n\n\t\t\t\t_extends(draggedContext, {futureIndex: futureIndex});\n\t\t\t\t_extends(event, {relatedContext: relatedContext, draggedContext: draggedContext});\n\n\t\t\t\treturn onMove(event, originalEvent);\n\t\t\t},\n\n\t\t\tonDragEnd()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t\tdraggingElement = null;\n\n\t\t\t\tthis.$el.classList.remove('is-dragging');\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\toptions: {\n\n\t\t\t\tdeep: true,\n\t\t\t\thandler(newOptionValue)\n\t\t\t\t{\n\t\t\t\t\tfor (let property in newOptionValue)\n\t\t\t\t\t\tif (newOptionValue.hasOwnProperty(property))\n\t\t\t\t\t\t\tif (readonlyProperties.indexOf(property) === -1)\n\t\t\t\t\t\t\t\tthis._sortable.option(property, newOptionValue[property]);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\trealList()\n\t\t\t{\n\t\t\t\tthis.computeIndexes();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst eventsListened = ['Start', 'Add', 'Remove', 'Update', 'End'];\n\tconst eventsToEmit = ['Choose', 'Sort', 'Filter', 'Clone'];\n\tconst readonlyProperties = ['Move'].concat(eventsListened, eventsToEmit).map(event => 'on' + event);\n\n\tlet draggingElement = null;\n\n\tconst _extends = Object.assign || function (target)\n\t{\n\t\tfor (let i = 1; i < arguments.length; i++)\n\t\t{\n\t\t\tlet source = arguments[i];\n\n\t\t\tfor (let key in source)\n\t\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\t\ttarget[key] = source[key];\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tconst _toConsumableArray = function (arr)\n\t{\n\t\tif (Array.isArray(arr))\n\t\t{\n\t\t\tlet arr2 = Array(arr.length);\n\n\t\t\tfor (let i = 0; i < arr.length; i++)\n\t\t\t\tarr2[i] = arr[i];\n\n\t\t\treturn arr2;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Array.from(arr);\n\t\t}\n\t};\n\n\tArray.from = Array.from || function (object)\n\t{\n\t\treturn [].slice.call(object);\n\t};\n\n\tfunction removeNode(node)\n\t{\n\t\tnode.parentElement.removeChild(node);\n\t}\n\n\tfunction insertNodeAt(parentNode, node, position)\n\t{\n\t\tlet refNode = position === 0 ? parentNode.children[0] : parentNode.children[position - 1].nextSibling;\n\t\tparentNode.insertBefore(node, refNode);\n\t}\n\n\tfunction computeVmIndex(vnodes, element)\n\t{\n\t\treturn vnodes.map(elt => elt.elm).indexOf(element);\n\t}\n\n\tfunction computeIndexes(slots, children, isTransition)\n\t{\n\t\tif (!slots)\n\t\t\treturn [];\n\n\t\tlet elmFromNodes = slots.map(elt => elt.elm);\n\t\tlet rawIndexes = [].concat(_toConsumableArray(children)).map(elt => elmFromNodes.indexOf(elt));\n\n\t\treturn isTransition ? rawIndexes.filter(ind => ind !== -1) : rawIndexes;\n\t}\n\n\tfunction emit(eventName, eventData)\n\t{\n\t\tthis.$nextTick(() => this.$emit(eventName.toLowerCase(), eventData));\n\t}\n\n\tfunction delegateAndEmit(eventName)\n\t{\n\t\tlet that = this;\n\n\t\treturn eventData =>\n\t\t{\n\t\t\tif (that.realList !== null)\n\t\t\t\tthat['onDrag' + eventName](eventData);\n\n\t\t\temit.call(that, eventName, eventData);\n\t\t};\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport Vue from \"vue\";\n\nexport const eventBus = new Vue({});\n\nexport function bottom(layout)\n{\n\tlet max = 0, bottomY;\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tbottomY = layout[i].y + layout[i].height;\n\n\t\tif (bottomY > max)\n\t\t\tmax = bottomY;\n\t}\n\n\treturn max;\n}\n\nexport function collides(item1, item2)\n{\n\tif (item1 === item2)\n\t\treturn false;\n\n\tif (item1.x + item1.width <= item2.x)\n\t\treturn false;\n\n\tif (item1.x >= item2.x + item2.width)\n\t\treturn false;\n\n\tif (item1.y + item1.height <= item2.y)\n\t\treturn false;\n\n\tif (item1.y >= item2.y + item2.height)\n\t\treturn false;\n\n\t// Yay!\n\n\treturn true;\n}\n\nexport function compact(layout, verticalCompact)\n{\n\tconst compareWith = getStatics(layout);\n\tconst sorted = sortLayoutItemsByRowCol(layout);\n\tconst out = Array(layout.length);\n\n\tfor (let i = 0, len = sorted.length; i < len; i++)\n\t{\n\t\tlet item = sorted[i];\n\n\t\tif (!item.static)\n\t\t{\n\t\t\titem = compactItem(compareWith, item, verticalCompact);\n\n\t\t\tcompareWith.push(item);\n\t\t}\n\n\t\tout[layout.indexOf(item)] = item;\n\n\t\titem.moved = false;\n\t}\n\n\treturn out;\n}\n\nexport function compactItem(compareWith, item, verticalCompact)\n{\n\tif (verticalCompact)\n\t\twhile (item.y > 0 && !getFirstCollision(compareWith, item))\n\t\t\titem.y--;\n\n\tlet collides;\n\n\twhile ((collides = getFirstCollision(compareWith, item)))\n\t\titem.y = collides.y + collides.height;\n\n\treturn item;\n}\n\nexport function createCoreData(lastX, lastY, x, y)\n{\n\tconst isStart = !isNum(lastX);\n\n\tif (isStart)\n\t{\n\t\treturn {\n\t\t\tdeltaX: 0, deltaY: 0,\n\t\t\tlastX: x, lastY: y,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n\telse\n\t{\n\t\treturn {\n\t\t\tdeltaX: x - lastX, deltaY: y - lastY,\n\t\t\tlastX: lastX, lastY: lastY,\n\t\t\tx: x, y: y\n\t\t};\n\t}\n}\n\nexport function getAllCollisions(layout, layoutItem)\n{\n\treturn layout.filter((l) => collides(l, layoutItem));\n}\n\nexport function getControlPosition(evt)\n{\n\treturn offsetXYFromParentOf(evt);\n}\n\nexport function getFirstCollision(layout, layoutItem)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (collides(layout[i], layoutItem))\n\t\t\treturn layout[i];\n}\n\nexport function getLayoutItem(layout, id)\n{\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t\tif (layout[i].i === id)\n\t\t\treturn layout[i];\n}\n\nexport function getStatics(layout)\n{\n\treturn layout.filter((l) => l.static);\n}\n\nexport function isNum(num)\n{\n\treturn typeof num === \"number\" && !isNaN(num);\n}\n\nexport function moveElement(layout, item, x, y, isUserAction)\n{\n\tif (item.static)\n\t\treturn layout;\n\n\tif (item.y === y && item.x === x) return layout;\n\n\tconst movingUp = y && item.y > y;\n\n\tif (typeof x === \"number\")\n\t\titem.x = x;\n\n\tif (typeof y === \"number\")\n\t\titem.y = y;\n\n\titem.moved = true;\n\n\tlet sorted = sortLayoutItemsByRowCol(layout);\n\n\tif (movingUp)\n\t\tsorted = sorted.reverse();\n\n\tconst collisions = getAllCollisions(sorted, item);\n\n\tfor (let i = 0, len = collisions.length; i < len; i++)\n\t{\n\t\tconst collision = collisions[i];\n\n\t\tif (collision.moved)\n\t\t\tcontinue;\n\n\n\t\tif (item.y > collision.y && item.y - collision.y > collision.height / 4)\n\t\t\tcontinue;\n\n\t\tif (collision.static)\n\t\t\tlayout = moveElementAwayFromCollision(layout, collision, item, isUserAction);\n\t\telse\n\t\t\tlayout = moveElementAwayFromCollision(layout, item, collision, isUserAction);\n\t}\n\n\treturn layout;\n}\n\nexport function moveElementAwayFromCollision(layout, collidesWith, itemToMove, isUserAction)\n{\n\tif (isUserAction)\n\t{\n\t\tconst fakeItem = {\n\t\t\tx: itemToMove.x,\n\t\t\ty: itemToMove.y,\n\t\t\twidth: itemToMove.width,\n\t\t\theight: itemToMove.height,\n\t\t\tid: \"__fake__\"\n\t\t};\n\n\t\tfakeItem.y = Math.max(collidesWith.y - itemToMove.height, 0);\n\n\t\tif (!getFirstCollision(layout, fakeItem))\n\t\t\treturn moveElement(layout, itemToMove, undefined, fakeItem.y);\n\t}\n\n\treturn moveElement(layout, itemToMove, undefined, itemToMove.y + 1);\n}\n\nexport function offsetXYFromParentOf(evt)\n{\n\tconst offsetParent = evt.target.offsetParent || document.body;\n\tconst offsetParentRect = evt.offsetParent === document.body ? {left: 0, top: 0} : offsetParent.getBoundingClientRect();\n\n\tconst x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\tconst y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top;\n\n\treturn {x, y};\n}\n\nexport function setTransform(top, left, width, height)\n{\n\tconst translate = `translate3d(${left}px,${top}px, 0)`;\n\n\treturn {\n\t\ttransform: translate,\n\t\tWebkitTransform: translate,\n\t\tMozTransform: translate,\n\t\tmsTransform: translate,\n\t\tOTransform: translate,\n\t\twidth: width + \"px\",\n\t\theight: height + \"px\",\n\t\tposition: \"absolute\"\n\t};\n}\n\nexport function sortLayoutItemsByRowCol(layout)\n{\n\treturn [].concat(layout).sort((a, b) => (a.y > b.y || (a.y === b.y && a.x > b.x)) ? 1 : -1);\n}\n\nexport function validateLayout(layout, contextName = \"Layout\")\n{\n\tconst subProps = [\"x\", \"y\", \"width\", \"height\"];\n\n\tif (!Array.isArray(layout))\n\t\tthrow new Error(`${contextName} must be an array!`);\n\n\tfor (let i = 0, len = layout.length; i < len; i++)\n\t{\n\t\tconst item = layout[i];\n\n\t\tfor (let j = 0; j < subProps.length; j++)\n\t\t\tif (typeof item[subProps[j]] !== \"number\")\n\t\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].${subProps[j]} must be a number!`);\n\n\t\tif (item.i && typeof item.i !== \"string\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].i must be a string!`);\n\n\t\tif (item.static !== undefined && typeof item.static !== \"boolean\")\n\t\t\tthrow new Error(`Latte Grid: ${contextName}[${i}].static must be a boolean!`);\n\t}\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div ref=\"grid\" class=\"latte-grid\" :class=\"{'is-dragging': is_dragging}\" :style=\"styles\" role=\"grid\">\n\t\t<slot></slot>\n\t\t<latte-grid-item class=\"latte-grid-placeholder\" v-show=\"isDragging\" :x=\"placeholder.x\" :y=\"placeholder.y\" :height=\"placeholder.height\" :width=\"placeholder.width\" id=\"__placeholder__\"></latte-grid-item>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { eventBus, bottom, compact, getLayoutItem, moveElement, validateLayout } from \"../../js/ui/grid\";\n\n\texport default {\n\n\t\tname: \"latte-grid\",\n\n\t\tprops: {\n\n\t\t\tautoSize: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tcolumns: {\n\t\t\t\tdefault: 12,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\trowHeight: {\n\t\t\t\tdefault: 100,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmaxRows: {\n\t\t\t\tdefault: Infinity,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmargin: {\n\t\t\t\tdefault: () => [24, 24],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array\n\t\t\t},\n\n\t\t\tisDraggable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tisResizable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tverticalCompact: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tlayout: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Array\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\teventBus.$off(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$off(\"resizeEvent\", this.resizeEventHandler);\n\n\t\t\twindow.removeEventListener(\"resize\", this.onWindowResize);\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.dragEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.dragEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\tthis.resizeEventHandler = function (eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\t$this.resizeEvent(eventType, id, x, y, height, width);\n\t\t\t};\n\n\t\t\teventBus.$on(\"dragEvent\", this.dragEventHandler);\n\t\t\teventBus.$on(\"resizeEvent\", this.resizeEventHandler);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: null,\n\t\t\t\tmergedStyle: {},\n\t\t\t\tlastLayoutLength: 0,\n\t\t\t\tisDragging: false,\n\t\t\t\tplaceholder: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\twidth: 0\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.$nextTick(() =>\n\t\t\t{\n\t\t\t\tvalidateLayout(this.layout);\n\n\t\t\t\tconst init = () =>\n\t\t\t\t{\n\t\t\t\t\tif (this.width === null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.onWindowResize();\n\n\t\t\t\t\t\twindow.addEventListener(\"resize\", this.onWindowResize);\n\t\t\t\t\t}\n\n\t\t\t\t\tcompact(this.layout, this.verticalCompact);\n\n\t\t\t\t\tthis.updateHeight();\n\n\t\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\telementResizeDetectorMaker({strategy: \"scroll\"}).listenTo(this.$refs.grid, function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$this.onWindowResize();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tthis.$nextTick(() => init());\n\n\t\t\t\twindow.onload = init.bind(this);\n\t\t\t});\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tis_dragging()\n\t\t\t{\n\t\t\t\treturn this.isDragging;\n\t\t\t},\n\n\t\t\tstyles()\n\t\t\t{\n\t\t\t\treturn this.mergedStyle\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcontainerHeight()\n\t\t\t{\n\t\t\t\tif (!this.autoSize)\n\t\t\t\t\treturn;\n\n\t\t\t\treturn `${bottom(this.layout) * (this.rowHeight + this.margin[1]) + this.margin[1]}px`;\n\t\t\t},\n\n\t\t\tdragEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"dragmove\" || eventType === \"dragstart\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {x: 0, y: 0};\n\n\t\t\t\titem.x = x;\n\t\t\t\titem.y = y;\n\n\t\t\t\tthis.layout = moveElement(this.layout, item, x, y, true);\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"dragend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tlayoutUpdate()\n\t\t\t{\n\t\t\t\tif (typeof this.layout === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.layout.length !== this.lastLayoutLength)\n\t\t\t\t\tthis.lastLayoutLength = this.layout.length;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\tthis.updateHeight();\n\t\t\t},\n\n\t\t\tonWindowResize()\n\t\t\t{\n\t\t\t\tif (typeof this.$refs.grid === \"undefined\")\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.width = this.$refs.grid.offsetWidth;\n\t\t\t},\n\n\t\t\tresizeEvent(eventType, id, x, y, height, width)\n\t\t\t{\n\t\t\t\tif (eventType === \"resizestart\" || eventType === \"resizemove\")\n\t\t\t\t{\n\t\t\t\t\tthis.placeholder.x = x;\n\t\t\t\t\tthis.placeholder.y = y;\n\t\t\t\t\tthis.placeholder.height = height;\n\t\t\t\t\tthis.placeholder.width = width;\n\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = true);\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$nextTick(() => this.isDragging = false);\n\t\t\t\t}\n\n\t\t\t\tlet item = getLayoutItem(this.layout, id);\n\n\t\t\t\tif (item === undefined || item === null)\n\t\t\t\t\titem = {height: 0, width: 0};\n\n\t\t\t\titem.height = height;\n\t\t\t\titem.width = width;\n\n\t\t\t\tcompact(this.layout, this.verticalCompact);\n\t\t\t\teventBus.$emit(\"compact\");\n\n\t\t\t\tthis.updateHeight();\n\n\t\t\t\tif (eventType === \"resizeend\")\n\t\t\t\t\tthis.$emit(\"layout-updated\", this.layout);\n\t\t\t},\n\n\t\t\tupdateHeight()\n\t\t\t{\n\t\t\t\tthis.mergedStyle = {\n\t\t\t\t\theight: this.containerHeight()\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcolumns()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setColumns\", this.columns);\n\t\t\t},\n\n\t\t\tisDraggable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setDraggable\", this.isDraggable);\n\t\t\t},\n\n\t\t\tisResizable()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setResizable\", this.isResizable);\n\t\t\t},\n\n\t\t\tlayout()\n\t\t\t{\n\t\t\t\tthis.layoutUpdate();\n\t\t\t},\n\n\t\t\trowHeight()\n\t\t\t{\n\t\t\t\teventBus.$emit(\"setRowHeight\", this.rowHeight);\n\t\t\t},\n\n\t\t\twidth()\n\t\t\t{\n\t\t\t\tthis.$nextTick(() =>\n\t\t\t\t{\n\t\t\t\t\teventBus.$emit(\"updateWidth\", this.width);\n\t\t\t\t\tthis.updateHeight();\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div ref=\"item\" class=\"latte-grid-item\" :class=\"{'is-draggable': isDraggable, 'is-dragging': is_dragging, 'is-resizable': isResizable, 'is-resizing': is_resizing}\" :style=\"style\" role=\"gridcell\">\n\t\t<slot></slot>\n\t\t<div class=\"grid-item-resize-handle\" v-if=\"resizable\"></div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { eventBus, createCoreData, getControlPosition, setTransform } from \"../../js/ui/grid\";\n\n\texport default {\n\n\t\tname: \"latte-grid-item\",\n\n\t\tprops: {\n\n\t\t\tid: {\n\t\t\t\trequired: true\n\t\t\t},\n\n\t\t\tisDraggable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tisResizable: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tmaxHeight: {\n\t\t\t\tdefault: Infinity,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmaxWidth: {\n\t\t\t\tdefault: Infinity,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tminHeight: {\n\t\t\t\tdefault: 1,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tminWidth: {\n\t\t\t\tdefault: 1,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tx: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\ty: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\theight: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\twidth: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tdragIgnoreFrom: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tdragAllowFrom: {\n\t\t\t\tdefault: \".grid-item-drag-handle\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tresizeIgnoreFrom: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tresizeAllowFrom: {\n\t\t\t\tdefault: \".grid-item-resize-handle\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\teventBus.$off(\"updateWidth\", this.updateWidthHandler);\n\t\t\teventBus.$off(\"compact\", this.compactHandler);\n\t\t\teventBus.$off(\"setDraggable\", this.setDraggableHandler);\n\t\t\teventBus.$off(\"setResizable\", this.setResizableHandler);\n\t\t\teventBus.$off(\"setRowHeight\", this.setRowHeightHandler);\n\t\t\teventBus.$off(\"setColumns\", this.setColumns);\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tconst $this = this;\n\n\t\t\tthis.updateWidthHandler = function (width)\n\t\t\t{\n\t\t\t\t$this.updateWidth(width);\n\t\t\t};\n\n\t\t\tthis.compactHandler = function (layout)\n\t\t\t{\n\t\t\t\t$this.compact(layout);\n\t\t\t};\n\n\t\t\tthis.setDraggableHandler = function (isDraggable)\n\t\t\t{\n\t\t\t\t$this.draggable = isDraggable;\n\t\t\t};\n\n\t\t\tthis.setResizableHandler = function (isResizable)\n\t\t\t{\n\t\t\t\t$this.resizable = isResizable;\n\t\t\t};\n\n\t\t\tthis.setRowHeightHandler = function (rowHeight)\n\t\t\t{\n\t\t\t\t$this.rowHeight = rowHeight;\n\t\t\t};\n\n\t\t\tthis.setColumns = function (colNum)\n\t\t\t{\n\t\t\t\t$this.columns = parseInt(colNum);\n\t\t\t};\n\n\t\t\teventBus.$on(\"updateWidth\", this.updateWidthHandler);\n\t\t\teventBus.$on(\"compact\", this.compactHandler);\n\t\t\teventBus.$on(\"setDraggable\", this.setDraggableHandler);\n\t\t\teventBus.$on(\"setResizable\", this.setResizableHandler);\n\t\t\teventBus.$on(\"setRowHeight\", this.setRowHeightHandler);\n\t\t\teventBus.$on(\"setColumns\", this.setColumns);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcolumns: 1,\n\t\t\t\tcontainerWidth: 100,\n\t\t\t\trowHeight: 100,\n\t\t\t\tmargin: [24, 24],\n\t\t\t\tmaxRows: Infinity,\n\t\t\t\tdraggable: null,\n\t\t\t\tresizable: null,\n\n\t\t\t\tdragging: null,\n\t\t\t\tresizing: null,\n\n\t\t\t\tlastX: NaN,\n\t\t\t\tlastY: NaN,\n\t\t\t\tlastHeight: NaN,\n\t\t\t\tlastWidth: NaN,\n\n\t\t\t\tisDragEventSet: false,\n\t\t\t\tisResizeEventSet: false,\n\n\t\t\t\tpreviousX: null,\n\t\t\t\tpreviousY: null,\n\t\t\t\tpreviousHeight: null,\n\t\t\t\tpreviousWidth: null,\n\n\t\t\t\tinnerX: this.x,\n\t\t\t\tinnerY: this.y,\n\t\t\t\tinnerHeight: this.height,\n\t\t\t\tinnerWidth: this.width,\n\n\t\t\t\tstyle: {}\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.columns = this.$parent.columns;\n\t\t\tthis.rowHeight = this.$parent.rowHeight;\n\t\t\tthis.containerWidth = this.$parent.width !== null ? this.$parent.width : 100;\n\t\t\tthis.margin = this.$parent.margin !== undefined ? this.$parent.margin : [24, 24];\n\t\t\tthis.maxRows = this.$parent.maxRows;\n\n\t\t\tif (this.isDraggable === null)\n\t\t\t\tthis.draggable = this.$parent.isDraggable;\n\t\t\telse\n\t\t\t\tthis.draggable = this.isDraggable;\n\n\t\t\tif (this.isResizable === null)\n\t\t\t\tthis.resizable = this.$parent.isResizable;\n\t\t\telse\n\t\t\t\tthis.resizable = this.isResizable;\n\n\t\t\tthis.createStyle();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tis_dragging()\n\t\t\t{\n\t\t\t\treturn this.dragging !== null;\n\t\t\t},\n\n\t\t\tis_resizing()\n\t\t\t{\n\t\t\t\treturn this.resizing !== null;\n\t\t\t},\n\n\t\t\tresize_handle_class()\n\t\t\t{\n\t\t\t\treturn \"grid-item-resize-handle\";\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcalculateColumnWidth()\n\t\t\t{\n\t\t\t\treturn (this.containerWidth - (this.margin[0] * (this.columns + 1))) / this.columns;\n\t\t\t},\n\n\t\t\tcalculatePosition(x, y, width, height)\n\t\t\t{\n\t\t\t\tconst columnWidth = this.calculateColumnWidth();\n\n\t\t\t\treturn {\n\t\t\t\t\ttop: Math.round(this.rowHeight * y + (y + 1) * this.margin[1]),\n\t\t\t\t\tleft: Math.round(columnWidth * x + (x + 1) * this.margin[0]),\n\t\t\t\t\theight: height === Infinity ? height : Math.round(this.rowHeight * height + Math.max(0, height - 1) * this.margin[1]),\n\t\t\t\t\twidth: width === Infinity ? width : Math.round(columnWidth * width + Math.max(0, width - 1) * this.margin[0])\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tcalculateWidthHeight(height, width)\n\t\t\t{\n\t\t\t\tconst columnWidth = this.calculateColumnWidth();\n\n\t\t\t\tlet w = Math.round((width + this.margin[0]) / (columnWidth + this.margin[0]));\n\t\t\t\tlet h = Math.round((height + this.margin[1]) / (this.rowHeight + this.margin[1]));\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: Math.max(Math.min(w, this.columns - this.innerX), 0),\n\t\t\t\t\theight: Math.max(Math.min(h, this.maxRows - this.innerY), 0)\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tcalculateXY(top, left)\n\t\t\t{\n\t\t\t\tconst columnWidth = this.calculateColumnWidth();\n\n\t\t\t\tlet x = Math.round((left - this.margin[0]) / (columnWidth + this.margin[0]));\n\t\t\t\tlet y = Math.round((top - this.margin[1]) / (this.rowHeight + this.margin[1]));\n\n\t\t\t\tx = Math.max(Math.min(x, this.columns - this.innerWidth), 0);\n\t\t\t\ty = Math.max(Math.min(y, this.maxRows - this.innerHeight), 0);\n\n\t\t\t\treturn {x, y};\n\t\t\t},\n\n\t\t\tcompact()\n\t\t\t{\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\tcreateStyle()\n\t\t\t{\n\t\t\t\tif (this.x + this.width > this.columns)\n\t\t\t\t{\n\t\t\t\t\tthis.innerX = 0;\n\t\t\t\t\tthis.innerWidth = (this.width > this.columns) ? this.columns : this.width;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.innerX = this.x;\n\t\t\t\t\tthis.innerWidth = this.width;\n\t\t\t\t}\n\n\t\t\t\tconst pos = this.calculatePosition(this.innerX, this.innerY, this.innerWidth, this.innerHeight);\n\n\t\t\t\tif (this.is_dragging)\n\t\t\t\t{\n\t\t\t\t\tpos.top = this.dragging.top;\n\t\t\t\t\tpos.left = this.dragging.left;\n\t\t\t\t}\n\n\t\t\t\tif (this.is_resizing)\n\t\t\t\t{\n\t\t\t\t\tpos.height = this.resizing.height;\n\t\t\t\t\tpos.width = this.resizing.width;\n\t\t\t\t}\n\n\t\t\t\tthis.style = setTransform(pos.top, pos.left, pos.width, pos.height);\n\t\t\t},\n\n\t\t\thandleDrag(evt)\n\t\t\t{\n\t\t\t\tif (this.is_resizing)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst position = getControlPosition(evt);\n\t\t\t\tconst {x, y} = position;\n\n\t\t\t\tlet shouldUpdate = false;\n\n\t\t\t\tconst newPosition = {top: 0, left: 0};\n\t\t\t\tlet parentRect;\n\t\t\t\tlet clientRect;\n\n\t\t\t\tswitch (evt.type)\n\t\t\t\t{\n\t\t\t\t\tcase \"dragstart\":\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.previousX = this.innerX;\n\t\t\t\t\t\tthis.previousY = this.innerY;\n\n\t\t\t\t\t\tparentRect = evt.target.offsetParent.getBoundingClientRect();\n\t\t\t\t\t\tclientRect = evt.target.getBoundingClientRect();\n\n\t\t\t\t\t\tnewPosition.left = clientRect.left - parentRect.left;\n\t\t\t\t\t\tnewPosition.top = clientRect.top - parentRect.top;\n\n\t\t\t\t\t\tthis.dragging = newPosition;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"dragend\":\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!this.is_dragging)\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tparentRect = evt.target.offsetParent.getBoundingClientRect();\n\t\t\t\t\t\tclientRect = evt.target.getBoundingClientRect();\n\n\t\t\t\t\t\tnewPosition.left = clientRect.left - parentRect.left;\n\t\t\t\t\t\tnewPosition.top = clientRect.top - parentRect.top;\n\n\t\t\t\t\t\tthis.dragging = null;\n\t\t\t\t\t\tshouldUpdate = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"dragmove\":\n\t\t\t\t\t{\n\t\t\t\t\t\tconst coreEvent = createCoreData(this.lastX, this.lastY, x, y);\n\n\t\t\t\t\t\tnewPosition.left = this.dragging.left + coreEvent.deltaX;\n\t\t\t\t\t\tnewPosition.top = this.dragging.top + coreEvent.deltaY;\n\n\t\t\t\t\t\tthis.dragging = newPosition;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst pos = this.calculateXY(newPosition.top, newPosition.left);\n\n\t\t\t\tthis.lastX = x;\n\t\t\t\tthis.lastY = y;\n\n\t\t\t\tif (this.innerX !== pos.x || this.innerY !== pos.y)\n\t\t\t\t\tthis.$emit(\"move\", this.id, pos.x, pos.y);\n\n\t\t\t\tif (evt.type === \"dragend\" && (this.previousX !== this.innerX || this.previousY !== this.innerY))\n\t\t\t\t\tthis.$emit(\"moved\", this.id, pos.x, pos.y);\n\n\t\t\t\teventBus.$emit(\"dragEvent\", evt.type, this.id, pos.x, pos.y, this.innerHeight, this.innerWidth);\n\t\t\t},\n\n\t\t\thandleResize(evt)\n\t\t\t{\n\t\t\t\tconst position = getControlPosition(evt);\n\t\t\t\tconst {x, y} = position;\n\n\t\t\t\tconst newSize = {width: 0, height: 0};\n\n\t\t\t\tswitch (evt.type)\n\t\t\t\t{\n\t\t\t\t\tcase \"resizestart\":\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.previousHeight = this.innerHeight;\n\t\t\t\t\t\tthis.previousWidth = this.innerWidth;\n\n\t\t\t\t\t\tconst pos = this.calculatePosition(this.innerX, this.innerY, this.innerWidth, this.innerHeight);\n\n\t\t\t\t\t\tnewSize.height = pos.height;\n\t\t\t\t\t\tnewSize.width = pos.width;\n\n\t\t\t\t\t\tthis.resizing = newSize;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"resizemove\":\n\t\t\t\t\t{\n\t\t\t\t\t\tconst coreEvent = createCoreData(this.lastWidth, this.lastHeight, x, y);\n\n\t\t\t\t\t\tnewSize.height = this.resizing.height + coreEvent.deltaY;\n\t\t\t\t\t\tnewSize.width = this.resizing.width + coreEvent.deltaX;\n\n\t\t\t\t\t\tthis.resizing = newSize;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"resizeend\":\n\t\t\t\t\t{\n\t\t\t\t\t\tconst pos = this.calculatePosition(this.innerX, this.innerY, this.innerWidth, this.innerHeight);\n\n\t\t\t\t\t\tnewSize.height = pos.height;\n\t\t\t\t\t\tnewSize.width = pos.width;\n\n\t\t\t\t\t\tthis.resizing = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst pos = this.calculateWidthHeight(newSize.height, newSize.width);\n\n\t\t\t\tif (pos.width < this.minWidth)\n\t\t\t\t\tpos.width = this.minWidth;\n\n\t\t\t\tif (pos.width > this.maxWidth)\n\t\t\t\t\tpos.width = this.maxWidth;\n\n\t\t\t\tif (pos.height < this.minHeight)\n\t\t\t\t\tpos.height = this.minHeight;\n\n\t\t\t\tif (pos.height > this.maxHeight)\n\t\t\t\t\tpos.height = this.maxHeight;\n\n\t\t\t\tif (pos.height < 1)\n\t\t\t\t\tpos.height = 1;\n\n\t\t\t\tif (pos.width < 1)\n\t\t\t\t\tpos.width = 1;\n\n\t\t\t\tthis.lastHeight = y;\n\t\t\t\tthis.lastWidth = x;\n\n\t\t\t\tif (this.innerWidth !== pos.width || this.innerHeight !== pos.height)\n\t\t\t\t\tthis.$emit(\"resize\", this.id, pos.height, pos.width);\n\n\t\t\t\tif (event.type === \"resizeend\" && (this.previousWidth !== this.innerWidth || this.previousHeight !== this.innerHeight))\n\t\t\t\t\tthis.$emit(\"resized\", this.id, newSize.height, newSize.width);\n\n\t\t\t\teventBus.$emit(\"resizeEvent\", event.type, this.id, this.innerX, this.innerY, pos.height, pos.width);\n\t\t\t},\n\n\t\t\tupdateWidth(width, column)\n\t\t\t{\n\t\t\t\tthis.containerWidth = width;\n\n\t\t\t\tif (typeof column !== \"undefined\")\n\t\t\t\t\tthis.column = column;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcolumns()\n\t\t\t{\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\tcontainerWidth()\n\t\t\t{\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\tdraggable()\n\t\t\t{\n\t\t\t\tif (typeof this.interact === \"undefined\" || this.interact === null)\n\t\t\t\t\tthis.interact = interact(this.$refs.item);\n\n\t\t\t\tif (this.draggable)\n\t\t\t\t{\n\t\t\t\t\tthis.interact.draggable({\n\t\t\t\t\t\tallowFrom: this.dragAllowFrom,\n\t\t\t\t\t\tignoreFrom: this.dragIgnoreFrom\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.isDragEventSet)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isDragEventSet = true;\n\n\t\t\t\t\t\tthis.interact.on(\"dragstart dragmove dragend\", evt => this.handleDrag(evt));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.interact.draggable({\n\t\t\t\t\t\tenabled: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\theight()\n\t\t\t{\n\t\t\t\tthis.innerHeight = this.height;\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\tisDraggable()\n\t\t\t{\n\t\t\t\tthis.draggable = this.isDraggable;\n\t\t\t},\n\n\t\t\tisResizable()\n\t\t\t{\n\t\t\t\tthis.resizable = this.isResizable;\n\t\t\t},\n\n\t\t\tresizable()\n\t\t\t{\n\t\t\t\tif (typeof this.interact === \"undefined\" || this.interact === null)\n\t\t\t\t\tthis.interact = interact(this.$refs.item);\n\n\t\t\t\tif (this.resizable)\n\t\t\t\t{\n\t\t\t\t\tthis.interact.resizable({\n\t\t\t\t\t\tpreserveAspectRatio: false,\n\t\t\t\t\t\tedges: {\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\tright: `.${this.resize_handle_class}`,\n\t\t\t\t\t\t\tbottom: `.${this.resize_handle_class}`\n\t\t\t\t\t\t},\n\t\t\t\t\t\tignoreFrom: this.resizeIgnoreFrom\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.isResizeEventSet)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isResizeEventSet = true;\n\n\t\t\t\t\t\tthis.interact.on(\"resizestart resizemove resizeend\", evt => this.handleResize(evt));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.interact.resizable({\n\t\t\t\t\t\tenabled: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trowHeight()\n\t\t\t{\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\twidth()\n\t\t\t{\n\t\t\t\tthis.innerWidth = this.width;\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\tx()\n\t\t\t{\n\t\t\t\tthis.innerX = this.x;\n\t\t\t\tthis.createStyle();\n\t\t\t},\n\n\t\t\ty()\n\t\t\t{\n\t\t\t\tthis.innerY = this.y;\n\t\t\t\tthis.createStyle();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"guide-overlay\" v-if=\"canGuide\">\n\t\t<div class=\"guide-mask\" :style=\"maskStyleTop\"></div>\n\t\t<div class=\"guide-mask\" :style=\"maskStyleLeft\"></div>\n\t\t<div class=\"guide-mask\" :style=\"maskStyleRight\"></div>\n\t\t<div class=\"guide-mask\" :style=\"maskStyleBottom\"></div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { raf } from \"../../js/util/dom\";\n\n\tconst exampleGuidance = {\n\t\tname: \"Example Guide\",\n\t\tsteps: [\n\t\t\t{\n\t\t\t\tfocusElement: \"button#nav-toggle\",\n\t\t\t\tpopElement: \"div.toolbar\",\n\t\t\t\tinfoWindow: {\n\t\t\t\t\ttitle: \"Let's get started!\",\n\t\t\t\t\tmessage: \"Click here to start using this website\"\n\t\t\t\t},\n\t\t\t\tnextElement: \"button#nav-toggle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tdelay: 420,\n\t\t\t\tfocusElement: \"a#team\",\n\t\t\t\tpopElement: \"div#mega-menu > div.container\",\n\t\t\t\tinfoWindow: {\n\t\t\t\t\ttitle: \"Meet everyone\",\n\t\t\t\t\tmessage: \"See our team and get to know us!\",\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taction: \"guide:next\",\n\t\t\t\t\t\t\tlabel: \"Next\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taction: \"guide:close\",\n\t\t\t\t\t\t\tclasses: [\"ml-auto\"],\n\t\t\t\t\t\t\tlabel: \"Close\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tnextElement: \"a#team\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tfocusElement: \"footer.footer img\",\n\t\t\t\tpopElement: \"footer.footer div.container div.col-12:first-child\",\n\t\t\t\tinfoWindow: {\n\t\t\t\t\ttitle: \"Let's get started!\",\n\t\t\t\t\tmessage: \"Click here to start using this website\"\n\t\t\t\t},\n\t\t\t\tnextElement: \"footer.footer img\"\n\t\t\t}\n\t\t]\n\t};\n\n\texport default {\n\n\t\tname: \"latte-guide\",\n\n\t\tprops: {\n\n\t\t\tguidance: {\n\t\t\t\tdefault: () => exampleGuidance,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\t\t\t},\n\n\t\t\topened: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrentPopElement: undefined,\n\t\t\t\tcurrentPopElementRect: undefined,\n\t\t\t\tcurrentStepIndex: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\traf(() => this.onCurrentStepChanged());\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcanGuide()\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcurrentStep()\n\t\t\t{\n\t\t\t\treturn this.guidance.steps[this.currentStepIndex] || undefined;\n\t\t\t},\n\n\t\t\tmaskStyleTop()\n\t\t\t{\n\t\t\t\tif (this.currentPopElementRect === undefined)\n\t\t\t\t\treturn {};\n\n\t\t\t\treturn {\n\t\t\t\t\tbottom: `${window.innerHeight - this.currentPopElementRect.top}px`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tmaskStyleLeft()\n\t\t\t{\n\t\t\t\tif (this.currentPopElementRect === undefined)\n\t\t\t\t\treturn {};\n\n\t\t\t\treturn {\n\t\t\t\t\ttop: `${this.currentPopElementRect.top}px`,\n\t\t\t\t\tright: `${window.innerWidth - this.currentPopElementRect.left}px`,\n\t\t\t\t\tbottom: `${window.innerHeight - this.currentPopElementRect.bottom}px`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tmaskStyleRight()\n\t\t\t{\n\t\t\t\tif (this.currentPopElementRect === undefined)\n\t\t\t\t\treturn {};\n\n\t\t\t\treturn {\n\t\t\t\t\ttop: `${this.currentPopElementRect.top}px`,\n\t\t\t\t\tleft: `${this.currentPopElementRect.right}px`,\n\t\t\t\t\tbottom: `${window.innerHeight - this.currentPopElementRect.bottom}px`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tmaskStyleBottom()\n\t\t\t{\n\t\t\t\tif (this.currentPopElementRect === undefined)\n\t\t\t\t\treturn {};\n\n\t\t\t\treturn {\n\t\t\t\t\ttop: `${this.currentPopElementRect.bottom}px`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonCurrentStepChanged()\n\t\t\t{\n\t\t\t\tif (this.currentStep === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\traf(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.currentPopElement = this.currentStep.popElement ? document.querySelector(this.currentStep.popElement) : undefined;\n\t\t\t\t\tthis.nextElement = this.currentStep.nextElement ? document.querySelector(this.currentStep.nextElement) : undefined;\n\n\t\t\t\t\traf(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.currentPopElement)\n\t\t\t\t\t\t\tthis.currentPopElementRect = this.currentPopElement.getBoundingClientRect();\n\n\t\t\t\t\t\tif (this.nextElement)\n\t\t\t\t\t\t\tthis.nextElement.addEventListener(\"click\", () => this.currentStepIndex++, {once: true});\n\t\t\t\t\t}, this.currentStep.delay || 0);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcurrentStep()\n\t\t\t{\n\t\t\t\tthis.onCurrentStepChanged();\n\t\t\t},\n\n\t\t\tcurrentStepIndex()\n\t\t\t{\n\t\t\t\tthis.currentPopElement = undefined;\n\t\t\t\tthis.nextElement = undefined;\n\n\t\t\t\tif (this.currentStepIndex >= this.guidance.steps.length)\n\t\t\t\t\tthis.currentStepIndex = 0;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n\tdiv.guide-overlay\n\t{\n\t\tposition: fixed;\n\t\tdisplay: block;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tpointer-events: none;\n\t\tz-index: 10000;\n\t}\n\n\tdiv.guide-mask\n\t{\n\t\tposition: absolute;\n\t\tdisplay: block;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: var(--overlay-background);\n\t\tpointer-events: all;\n\t\ttransition: all 630ms var(--ease-swift-out);\n\t\twill-change: top, left, right, bottom;\n\t}\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<latte-json-editor-view :parsedData=\"parsedData\" v-model=\"parsedData\"></latte-json-editor-view>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-json-editor\",\n\n\t\tprops: {\n\n\t\t\tjson: {\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tthis.parsedData = this.jsonParse(this.json);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tparsedData: []\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tgetType(obj)\n\t\t\t{\n\t\t\t\tif (obj === null)\n\t\t\t\t\treturn \"null\";\n\n\t\t\t\tswitch (Object.prototype.toString.call(obj))\n\t\t\t\t{\n\t\t\t\t\tcase \"[object Array]\":\n\t\t\t\t\t\treturn \"array\";\n\t\t\t\t\tcase \"[object Object]\":\n\t\t\t\t\t\treturn \"object\";\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn typeof (obj);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tjsonParse(jsonString)\n\t\t\t{\n\t\t\t\tlet parseJson = json =>\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\tlet keys = Object.keys(json);\n\n\t\t\t\t\tkeys.forEach(key =>\n\t\t\t\t\t{\n\t\t\t\t\t\tlet val = json[key];\n\t\t\t\t\t\tlet parsedVal = val;\n\n\t\t\t\t\t\tif (this.getType(val) === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparsedVal = parseJson(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.getType(val) === 'array')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparsedVal = parseArray(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet opt = {\n\t\t\t\t\t\t\tname: key,\n\t\t\t\t\t\t\ttype: this.getType(val)\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (opt.type === 'array' || opt.type === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.childParams = parsedVal;\n\t\t\t\t\t\t\topt.remark = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.childParams = null;\n\t\t\t\t\t\t\topt.remark = parsedVal;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult.push(opt);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\n\t\t\t\tlet parseArray = json =>\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\n\t\t\t\t\tfor (let i = 0; i < json.length; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet val = json[i];\n\t\t\t\t\t\tlet parsedVal = val;\n\n\t\t\t\t\t\tif (this.getType(val) === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparsedVal = parseJson(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.getType(val) === 'array')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparsedVal = parseArray(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet opt = {\n\t\t\t\t\t\t\tname: null,\n\t\t\t\t\t\t\ttype: this.getType(val)\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (opt.type === 'array' || opt.type === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.childParams = parsedVal;\n\t\t\t\t\t\t\topt.remark = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topt.childParams = null;\n\t\t\t\t\t\t\topt.remark = parsedVal;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult.push(opt);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\n\t\t\t\tlet parseBody = json =>\n\t\t\t\t{\n\t\t\t\t\treturn parseJson(json);\n\t\t\t\t};\n\n\t\t\t\treturn parseBody(jsonString);\n\t\t\t},\n\n\t\t\tmakeJson(dataArray)\n\t\t\t{\n\t\t\t\tlet revertWithObject = data =>\n\t\t\t\t{\n\t\t\t\t\tlet r = {};\n\n\t\t\t\t\tfor (let i = 0; i < data.length; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet el = data[i];\n\t\t\t\t\t\tlet key = el.name, value;\n\n\t\t\t\t\t\tif (el.type === 'array')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue = revertWithArray(el.childParams);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (el.type === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue = revertWithObject(el.childParams);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue = el.remark;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tr[key] = value;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn r;\n\t\t\t\t};\n\n\t\t\t\tlet revertWithArray = data =>\n\t\t\t\t{\n\t\t\t\t\tlet array = [];\n\n\t\t\t\t\tfor (let i = 0; i < data.length; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet el = data[i];\n\t\t\t\t\t\tlet r;\n\n\t\t\t\t\t\tif (el.type === 'array')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tr = revertWithArray(el.childParams);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (el.type === 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tr = revertWithObject(el.childParams);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tr = el.remark;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push(r);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array;\n\t\t\t\t};\n\n\t\t\t\treturn revertWithObject(dataArray);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tparsedData: {\n\n\t\t\t\tdeep: true,\n\n\t\t\t\thandler()\n\t\t\t\t{\n\t\t\t\t\tthis.$emit(\"input\", this.makeJson(this.parsedData));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"json-editor json-editor-iaf\">\n\t\t<input class=\"form-control\" id=\"iaf-key\" type=\"text\" v-model=\"keyName\" placeholder=\"Key\" v-if=\"needName\"/>\n\n\t\t<select class=\"custom-select ml-3\" id=\"iaf-type\" v-model=\"formatSelected\">\n\t\t\t<option :value=\"item\" v-for=\"(item, index) in formats\" :key=\"index\">{{ item }}</option>\n\t\t</select>\n\n\t\t<template v-if=\"formatSelected !== 'array' && formatSelected !== 'object' && formatSelected !== 'null'\">\n\t\t\t<input class=\"form-control ml-3\" :id=\"'iaf-value'\" type=\"text\" v-model=\"valueName\" placeholder=\"Value\" v-if=\"formatSelected === 'string'\"/>\n\t\t\t<input class=\"form-control ml-3\" :id=\"'iaf-value'\" type=\"number\" v-model=\"valueName\" placeholder=\"Value\" v-if=\"formatSelected === 'number'\" @change=\"dealNumber\"/>\n\t\t\t<select v-model=\"valueName\" class=\"custom-select ml-3\" :id=\"'iaf-value'\" v-if=\"formatSelected === 'boolean'\" @change=\"dealBoolean\">\n\t\t\t\t<option value=\"true\" selected>TRUE</option>\n\t\t\t\t<option value=\"true\">FALSE</option>\n\t\t\t</select>\n\t\t</template>\n\n\t\t<button class=\"btn btn-text btn-icon btn-primary ml-3\" @click=\"confirm\"><i class=\"mdi mdi-check-circle\"></i></button>\n\t\t<button class=\"btn btn-text btn-icon btn-dark ml-1\" @click=\"cancel\"><i class=\"mdi mdi-close-circle\"></i></button>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-json-editor-iaf\",\n\n\t\tprops: {\n\n\t\t\tneedName: {\n\t\t\t\tdefault: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tformats: [\"string\", \"array\", \"object\", \"number\", \"boolean\", \"null\"],\n\t\t\t\tformatSelected: \"string\",\n\t\t\t\tkeyName: \"\",\n\t\t\t\tvalueName: \"\"\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tconfirm()\n\t\t\t{\n\t\t\t\tlet value = null;\n\n\t\t\t\tif (this.formatSelected === \"array\")\n\t\t\t\t\tvalue = [];\n\t\t\t\telse if (this.formatSelected === \"null\")\n\t\t\t\t\tvalue = null;\n\t\t\t\telse if (this.formatSelected === \"object\")\n\t\t\t\t\tvalue = [];\n\t\t\t\telse\n\t\t\t\t\tvalue = this.valueName;\n\n\t\t\t\tlet objectData = {\n\t\t\t\t\tkey: this.needName ? this.keyName : null,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\ttype: this.formatSelected\n\t\t\t\t};\n\n\t\t\t\tthis.$emit(\"confirm\", objectData);\n\n\t\t\t\tthis.keyName = \"\";\n\t\t\t\tthis.valueName = \"\";\n\t\t\t\tthis.formatSelected = \"string\";\n\t\t\t},\n\n\t\t\tcancel()\n\t\t\t{\n\t\t\t\tthis.$emit(\"cancel\");\n\t\t\t},\n\n\t\t\tdealBoolean()\n\t\t\t{\n\t\t\t\tthis.valueName = Boolean(this.valueName);\n\t\t\t},\n\n\t\t\tdealNumber()\n\t\t\t{\n\t\t\t\tthis.valueName = Number(this.valueName);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"json-editor json-editor-view\">\n\t\t<div class=\"json-editor json-editor-block\" v-for=\"(item, index) in flowData\" :key=\"key(item)\" :class=\"[item.type, {'hide-block': hideMyBlock[index]}]\">\n\t\t\t<div class=\"key\">\n\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark toggle\" v-if=\"item.type === 'object' || item.type === 'array'\" @click=\"toggleBlock(index)\"><i :class=\"['mdi', {'mdi-chevron-down': !hideMyBlock[index]}, {'mdi-chevron-right': hideMyBlock[index]}]\"></i></button>\n\t\t\t\t<input type=\"text\" v-model=\"item.name\" class=\"form-control\" v-if=\"typeof item.name === 'string'\" @blur=\"keyInputBlur(item, $event)\"/>\n\t\t\t\t<span class=\"json-editor json-editor-o\" v-if=\"item.type === 'array'\">{{ \"[\" + item.childParams.length + \"]\" }}</span>\n\t\t\t\t<span class=\"json-editor json-editor-o\" v-if=\"item.type === 'object'\">{{ \"{\" + (item.childParams.length || 0) + \"}\" }}</span>\n\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark trash\" @click=\"deleteItem(parsedData, item, index)\" v-if=\"item.type === 'object' || item.type === 'array'\"><i class=\"mdi mdi-delete\"></i></button>\n\t\t\t</div>\n\t\t\t<div class=\"value\">\n\t\t\t\t<template v-if=\"item.type === 'object'\">\n\t\t\t\t\t<latte-json-editor-view :parsedData=\"item.childParams\" v-model=\"item.childParams\"></latte-json-editor-view>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if=\"item.type === 'array'\">\n\t\t\t\t\t<latte-json-editor-view-array :parsedData=\"item.childParams\" v-model=\"item.childParams\"></latte-json-editor-view-array>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<input type=\"text\" v-model=\"item.remark\" class=\"form-control\" v-if=\"item.type === 'string'\">\n\t\t\t\t\t<input type=\"number\" v-model.number=\"item.remark\" class=\"form-control\" v-if=\"item.type === 'number'\">\n\t\t\t\t\t<select name=\"value\" v-model=\"item.remark\" class=\"custom-select\" v-if=\"item.type === 'boolean'\">\n\t\t\t\t\t\t<option :value=\"true\">TRUE</option>\n\t\t\t\t\t\t<option :value=\"false\">FALSE</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark trash\" @click=\"deleteItem(parsedData, item, index)\"><i class=\"mdi mdi-delete\"></i></button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<latte-json-editor-iaf v-if=\"isAddingItem\" @confirm=\"newItem\" @cancel=\"cancelNewItem\"></latte-json-editor-iaf>\n\t\t<button class=\"btn btn-text btn-icon btn-dark\" @click=\"addItem\" v-if=\"!isAddingItem\"><i class=\"mdi mdi-plus-circle\"></i></button>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-json-editor-view\",\n\n\t\tprops: {\n\n\t\t\tparsedData: {\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\tthis.flowData = this.parsedData;\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tflowData: [],\n\t\t\t\thideMyBlock: {},\n\t\t\t\tisAddingItem: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tfor (let index in this.flowData)\n\t\t\t\tif (this.flowData.hasOwnProperty(index))\n\t\t\t\t\tthis.$set(this.hideMyBlock, index, true);\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tkey(item)\n\t\t\t{\n\t\t\t\treturn JSON.stringify(item);\n\t\t\t},\n\n\t\t\tdeleteItem(parentDOM, item, index)\n\t\t\t{\n\t\t\t\tthis.flowData.splice(index, 1);\n\t\t\t\tthis.$emit(\"input\", this.flowData);\n\t\t\t},\n\n\t\t\ttoggleBlock(index)\n\t\t\t{\n\t\t\t\tthis.$set(this.hideMyBlock, index, !this.hideMyBlock[index]);\n\t\t\t},\n\n\t\t\taddItem()\n\t\t\t{\n\t\t\t\tif (this.isAddingItem)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isAddingItem = true;\n\t\t\t},\n\n\t\t\tcancelNewItem()\n\t\t\t{\n\t\t\t\tif (!this.isAddingItem)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isAddingItem = false;\n\t\t\t},\n\n\t\t\tnewItem(obj)\n\t\t\t{\n\t\t\t\tlet oj = {\n\t\t\t\t\tname: obj.key,\n\t\t\t\t\ttype: obj.type\n\t\t\t\t};\n\n\t\t\t\tif (obj.type === \"array\" || obj.type === \"object\")\n\t\t\t\t{\n\t\t\t\t\toj.childParams = obj.value;\n\t\t\t\t\toj.remark = null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toj.childParams = null;\n\t\t\t\t\toj.remark = obj.value;\n\t\t\t\t}\n\n\t\t\t\tif (!oj.name)\n\t\t\t\t{\n\t\t\t\t\tLatte.messages.alert(Latte.i18n.translate(\"root\", \"Invalid key\"), Latte.i18n.translate(\"root\", \"Invalid key specified!\"));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.flowData.push(oj);\n\t\t\t\tthis.$emit(\"input\", this.flowData);\n\t\t\t\tthis.cancelNewItem();\n\t\t\t},\n\n\t\t\tkeyInputBlur(item, e)\n\t\t\t{\n\t\t\t\tif (item.name.length <= 0)\n\t\t\t\t{\n\t\t\t\t\tLatte.messages.alert(Latte.i18n.translate(\"root\", \"Invalid key\"), Latte.i18n.translate(\"root\", \"Invalid key specified!\"));\n\t\t\t\t\titem.name = \"null\";\n\t\t\t\t\te.target.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"json-editor json-editor-view array\">\n\t\t<div class=\"json-editor json-editor-block\" v-for=\"(item, index) in flowData\" :key=\"index\" :class=\"[item.type, {'hide-block': hideMyBlock[index]}]\">\n\t\t\t<div class=\"key\">\n\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark toggle\" v-if=\"item.type === 'object' || item.type === 'array'\" @click=\"toggleBlock(index)\"><i :class=\"['mdi', {'mdi-chevron-down': !hideMyBlock[index]}, {'mdi-chevron-right': hideMyBlock[index]}]\"></i></button>\n\t\t\t\t<span class=\"key\">{{ index }}</span>\n\t\t\t\t<span class=\"json-editor json-editor-o\" v-if=\"item.type === 'array'\">{{ \"[\" + item.childParams.length + \"]\" }}</span>\n\t\t\t\t<span class=\"json-editor json-editor-o\" v-if=\"item.type === 'object'\">{{ \"{\" + (item.childParams.length || 0) + \"}\" }}</span>\n\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark trash\" @click=\"deleteItem(parsedData, item, index)\" v-if=\"item.type === 'object' || item.type === 'array'\"><i class=\"mdi mdi-delete\"></i></button>\n\t\t\t</div>\n\t\t\t<div class=\"value\">\n\t\t\t\t<template v-if=\"item.type === 'object'\">\n\t\t\t\t\t<latte-json-editor-view :parsedData=\"item.childParams\" v-model=\"item.childParams\"></latte-json-editor-view>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if=\"item.type === 'array'\">\n\t\t\t\t\t<latte-json-editor-view-array :parsedData=\"item.childParams\" v-model=\"item.childParams\"></latte-json-editor-view-array>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<input type=\"text\" v-model=\"item.remark\" class=\"form-control\" v-if=\"item.type === 'string'\">\n\t\t\t\t\t<input type=\"number\" v-model.number=\"item.remark\" class=\"form-control\" v-if=\"item.type === 'number'\">\n\t\t\t\t\t<select name=\"value\" v-model=\"item.remark\" class=\"custom-select\" v-if=\"item.type === 'boolean'\">\n\t\t\t\t\t\t<option :value=\"true\">TRUE</option>\n\t\t\t\t\t\t<option :value=\"false\">FALSE</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<button class=\"btn btn-text btn-icon btn-dark trash\" @click=\"deleteItem(parsedData, item, index)\"><i class=\"mdi mdi-delete\"></i></button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<latte-json-editor-iaf v-if=\"isAddingItem\" :needName=\"false\" @confirm=\"newItem\" @cancel=\"cancelNewItem\"></latte-json-editor-iaf>\n\t\t<button class=\"btn btn-text btn-icon btn-dark\" @click=\"addItem\" v-if=\"!isAddingItem\"><i class=\"mdi mdi-plus-circle\"></i></button>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-json-editor-view-array\",\n\n\t\tprops: {\n\n\t\t\tparsedData: {\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\thideMyBlock: {},\n\t\t\t\tflowData: this.parsedData,\n\t\t\t\tisAddingItem: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tfor (let index in this.flowData)\n\t\t\t\tif (this.flowData.hasOwnProperty(index))\n\t\t\t\t\tthis.$set(this.hideMyBlock, index, true);\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tdeleteItem(parentDom, item, index)\n\t\t\t{\n\t\t\t\tthis.flowData.splice(index, 1);\n\t\t\t\tthis.$emit(\"input\", this.flowData);\n\t\t\t},\n\n\t\t\taddItem()\n\t\t\t{\n\t\t\t\tif (this.isAddingItem)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isAddingItem = true;\n\t\t\t},\n\n\t\t\tcancelNewItem()\n\t\t\t{\n\t\t\t\tif (!this.isAddingItem)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isAddingItem = false;\n\t\t\t},\n\n\t\t\ttoggleBlock(index)\n\t\t\t{\n\t\t\t\tthis.$set(this.hideMyBlock, index, !this.hideMyBlock[index]);\n\t\t\t},\n\n\t\t\tnewItem(obj)\n\t\t\t{\n\t\t\t\tlet oj = {\n\t\t\t\t\tname: obj.key,\n\t\t\t\t\ttype: obj.type\n\t\t\t\t};\n\n\t\t\t\tif (obj.type === 'array' || obj.type === 'object')\n\t\t\t\t{\n\t\t\t\t\toj.childParams = obj.value;\n\t\t\t\t\toj.remark = null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\toj.childParams = null;\n\t\t\t\t\toj.remark = obj.value;\n\t\t\t\t}\n\n\t\t\t\tthis.flowData.push(oj);\n\t\t\t\tthis.$emit(\"input\", this.flowData);\n\t\t\t\tthis.cancelNewItem();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel mega-menu\" :class=\"{'is-open': isOpen}\">\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-mega-menu\",\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisOpen: false\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.isOpen = false;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tthis.isOpen = true;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tthis.close();\n\t\t\t\telse\n\t\t\t\t\tthis.open();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\tthis.$emit(\"open\", this.isOpen);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\">\n\n\tdiv.mega-menu\n\t{\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tpadding: 3rem 0;\n\t\tbox-shadow: var(--dropdown-elevation);\n\t\ttransition: all 480ms var(--ease-swift-out);\n\t\twill-change: transform;\n\t\tz-index: 1001;\n\n\t\t&:not(.is-open)\n\t\t{\n\t\t\tpointer-events: none;\n\t\t\ttransform: translate3d(0, -100%, 0);\n\t\t\tvisibility: collapse;\n\t\t}\n\t}\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<span class=\"latte-moment\">{{ formatted_moment }}</span>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-moment\",\n\n\t\tprops: {\n\n\t\t\tformat: {\n\t\t\t\tdefault: \"d MMMM YYYY\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tunixTimestamp: {\n\t\t\t\tdefault: () => Date.now(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t}\n\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tformatted_moment()\n\t\t\t{\n\t\t\t\treturn moment(this.unixTimestamp).format(this.format);\n\t\t\t}\n\n\t\t}\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div id=\"notification-center\">\n\n\t\t<template v-for=\"notification in notifications\">\n\n\t\t\t<div class=\"notification\" :key=\"notification.id\" :class=\"getNotificationClasses(notification)\" :style=\"getNotificationStyles(notification)\" ref=\"notification\">\n\t\t\t\t<img class=\"avatar\" :src=\"notification.avatar\" v-if=\"notification.avatar\"/>\n\t\t\t\t<div class=\"notification-icon\" v-if=\"notification.type\"><i class=\"mdi\"></i></div>\n\t\t\t\t<div class=\"notification-content\">\n\t\t\t\t\t<div class=\"notification-body\">\n\t\t\t\t\t\t<span class=\"notification-title\" v-if=\"notification.title\">{{ notification.title }}</span>\n\t\t\t\t\t\t<span class=\"notification-text\" v-if=\"notification.message\">{{ notification.message }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"notification-actions\" v-if=\"notification.actions\">\n\t\t\t\t\t\t<button v-for=\"a in notification.actions\" @click=\"remove(notification.id)\" :data-action=\"a.action\" v-bind=\"makeParams(a.params || {})\" class=\"btn btn-text\" :class=\"'btn-' + (a.type || 'primary')\"><span>{{ a.label }}</span></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</template>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { on } from \"../../js/actions\";\n\timport { timeout } from \"../../js/core\";\n\timport { getLattePath, raf } from \"../../js/util/dom\";\n\timport { needsZIndex } from \"../../js/z\";\n\n\texport default {\n\n\t\tname: \"latte-notifications\",\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tlastTop: 84,\n\t\t\t\tnotifications: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\ton(\"latte:notification\", data =>\n\t\t\t{\n\t\t\t\tif (data.title)\n\t\t\t\t\tdata.title = decodeURIComponent(data.title);\n\n\t\t\t\tif (data.message)\n\t\t\t\t\tdata.message = decodeURIComponent(data.message);\n\n\t\t\t\tthis.createNotification(data);\n\t\t\t});\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcreateNotification(data)\n\t\t\t{\n\t\t\t\tdata.id = (this.notifications.map(n => n.id).sort((a, b) => b - a)[0]) + 1;\n\n\t\t\t\tif (isNaN(data.id))\n\t\t\t\t\tdata.id = 0;\n\n\t\t\t\tdata.delay = data.delay || 3000;\n\t\t\t\tdata.closing = false;\n\t\t\t\tdata.opening = true;\n\t\t\t\tdata.top = this.lastTop;\n\n\t\t\t\tneedsZIndex(z => data.z = z);\n\n\t\t\t\tthis.notifications.push(data);\n\t\t\t\tthis.show(data.id);\n\n\t\t\t\tif (data.delay > -1)\n\t\t\t\t\ttimeout(data.delay, () => this.remove(data.id));\n\n\t\t\t\tconst lattePath = getLattePath();\n\t\t\t\tconst soundUri = data.sound || (lattePath !== null ? `${lattePath}/sound/notification/pipes.ogg` : null);\n\n\t\t\t\tif (soundUri === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tlet audio = new Audio();\n\t\t\t\taudio.setAttribute(\"src\", soundUri);\n\t\t\t\taudio.setAttribute(\"preload\", \"auto\");\n\t\t\t\taudio.volume = 1;\n\t\t\t\taudio.currentTime = 0;\n\t\t\t\taudio.play().catch(() =>\n\t\t\t\t{\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetNotificationClasses(notification)\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (notification.closing)\n\t\t\t\t\tclasses.push(\"is-closing\");\n\n\t\t\t\tif (notification.opening)\n\t\t\t\t\tclasses.push(\"is-opening\");\n\n\t\t\t\tif (notification.type)\n\t\t\t\t\tclasses.push(`notification-${notification.type}`);\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tgetNotificationStyles(notification)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\ttop: `${notification.top}px`,\n\t\t\t\t\tzIndex: notification.z\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tmakeParams(params)\n\t\t\t{\n\t\t\t\tconst result = {};\n\n\t\t\t\tfor (let param in params)\n\t\t\t\t\tif (params.hasOwnProperty(param))\n\t\t\t\t\t\tresult[`data-${param}`] = params[param];\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tremove(id)\n\t\t\t{\n\t\t\t\tlet n = this.notifications.find(n => n.id === id);\n\n\t\t\t\tif (!n)\n\t\t\t\t\treturn;\n\n\t\t\t\tn.closing = true;\n\n\t\t\t\tthis.updatePositions();\n\t\t\t\ttimeout(420, () => this.notifications = this.notifications.filter(n => n.id !== id));\n\t\t\t},\n\n\t\t\tshow(id)\n\t\t\t{\n\t\t\t\tlet n = this.notifications.find(n => n.id === id);\n\n\t\t\t\tthis.updatePositions();\n\t\t\t\traf(() => n.opening = false);\n\t\t\t},\n\n\t\t\tupdatePositions()\n\t\t\t{\n\t\t\t\traf(() =>\n\t\t\t\t{\n\t\t\t\t\tlet top = 84;\n\n\t\t\t\t\tfor (let i = 0; i < this.notifications.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet notification = this.notifications[i];\n\n\t\t\t\t\t\tif (notification.closing)\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tnotification.top = top;\n\n\t\t\t\t\t\ttop += this.$refs.notification[0].getBoundingClientRect().height + 24;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.lastTop = top;\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tnotifications()\n\t\t\t{\n\t\t\t\tthis.updatePositions();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"offscreen-overlay\" :class=\"overlayClasses\" :style=\"overlayStyles\">\n\t\t<div class=\"offscreen-content\" :class=\"contentClasses\" :style=\"contentStyles\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { getMainElement } from \"../../js/core\";\n\timport { closest, isTouchOnlyDevice } from \"../../js/util/dom\";\n\n\tconst TRIGGER_SIZE = 30;\n\n\tfunction getPosition(evt)\n\t{\n\t\tif (evt.changedTouches === undefined)\n\t\t\treturn {x: evt.clientX, y: evt.clientY};\n\n\t\treturn {\n\t\t\tx: evt.changedTouches[0].clientX,\n\t\t\ty: evt.changedTouches[0].clientY\n\t\t};\n\t}\n\n\texport default {\n\n\t\tname: \"latte-offscreen-container\",\n\n\t\tprops: {\n\n\t\t\tposition: {\n\t\t\t\tdefault: \"left\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String,\n\t\t\t\tvalidator: val => [\"top\", \"left\", \"right\", \"bottom\"].includes(val)\n\t\t\t},\n\n\t\t\ttouchEnabled: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisDragging: false,\n\t\t\t\tcurrent: 0.0,\n\t\t\t\tprevious: 0.0,\n\t\t\t\tcontent: null,\n\t\t\t\toverlay: null,\n\t\t\t\tcurrentPosition: {x: 0, y: 0},\n\t\t\t\tpreviousPosition: {x: 0, y: 0},\n\t\t\t\tstartPosition: {x: 0, y: 0},\n\t\t\t\ttimer: null\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.overlay = this.$el;\n\t\t\tthis.content = this.$el.querySelector(\"div.offscreen-content\");\n\n\t\t\twindow.addEventListener(\"resize\", () => this.close());\n\n\t\t\tif (isTouchOnlyDevice())\n\t\t\t{\n\t\t\t\twindow.addEventListener(\"touchcancel\", evt => this.onPointerCancel(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchstart\", evt => this.onPointerDown(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchmove\", evt => this.onPointerMove(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"touchend\", evt => this.onPointerUp(evt), {passive: false});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twindow.addEventListener(\"mousewheel\", evt => this.onMouseWheel(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"mousedown\", evt => this.onPointerDown(evt), {passive: false});\n\t\t\t\twindow.addEventListener(\"mouseup\", evt => this.onPointerUp(evt), {passive: false});\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\treturn this.current > 0.0;\n\t\t\t},\n\n\t\t\tcontentClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tclasses.push(`offscreen-${this.position}`);\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tclasses.push(\"is-open\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\toverlayClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tclasses.push(\"is-open\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tcontentStyles()\n\t\t\t{\n\t\t\t\tlet touchAction;\n\t\t\t\tlet transform;\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\ttouchAction = \"pan-x\";\n\t\t\t\t\t\ttransform = `translate3d(0, ${(this.current - 1) * 100}%, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\ttouchAction = \"pan-y\";\n\t\t\t\t\t\ttransform = `translate3d(${(this.current - 1) * 100}%, 0, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\ttouchAction = \"pan-y\";\n\t\t\t\t\t\ttransform = `translate3d(${(this.current - 1) * -100}%, 0, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\ttouchAction = \"pan-x\";\n\t\t\t\t\t\ttransform = `translate3d(0, ${(this.current - 1) * -100}%, 0)`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttouchAction,\n\t\t\t\t\ttransform\n\t\t\t\t};\n\t\t\t},\n\n\t\t\toverlayStyles()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tbackground: `rgba(0, 0, 0, ${this.current * .85})`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.current = 0.0;\n\t\t\t\tthis.previous = 1.0;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tthis.current = 1.0;\n\t\t\t\tthis.previous = 0.0;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tthis.close();\n\t\t\t\telse\n\t\t\t\t\tthis.open();\n\t\t\t},\n\n\t\t\tcalculateCurrent()\n\t\t\t{\n\t\t\t\tconst rect = this.content.getBoundingClientRect();\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\treturn (this.currentPosition.y - this.startPosition.y) / rect.height;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\treturn (this.currentPosition.x - this.startPosition.x) / rect.width;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\treturn (this.currentPosition.x - this.startPosition.x) / rect.width * -1;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\treturn (this.currentPosition.y - this.startPosition.y) / rect.height * -1;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcheckState()\n\t\t\t{\n\t\t\t\tthis.current = Math.max(0, Math.min(1, this.calculateCurrent() + this.previous));\n\n\t\t\t\tif (!(this.current > 0 && this.current < 1 && !this.isDragging))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.position === \"top\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.y >= this.previousPosition.y)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"left\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.x >= this.previousPosition.x)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"right\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.x <= this.previousPosition.x)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.position === \"bottom\")\n\t\t\t\t{\n\t\t\t\t\tif (this.currentPosition.y <= this.previousPosition.y)\n\t\t\t\t\t\tthis.current = 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.current = 0;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tisContentDragAvailable(position)\n\t\t\t{\n\t\t\t\tif (this.current < 1)\n\t\t\t\t\treturn true;\n\n\t\t\t\tif (!this.isWithinElement(position, this.content))\n\t\t\t\t\treturn true;\n\n\t\t\t\tif (this.position === \"left\" || this.position === \"right\")\n\t\t\t\t\treturn Math.abs(position.x - this.currentPosition.x) > TRIGGER_SIZE;\n\n\t\t\t\tif (this.position === \"top\" || this.position === \"bottom\")\n\t\t\t\t\treturn Math.abs(position.y - this.currentPosition.y) > TRIGGER_SIZE;\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tisWithinElement(position, element)\n\t\t\t{\n\t\t\t\treturn closest(document.elementFromPoint(position.x, position.y), element) !== null;\n\t\t\t},\n\n\t\t\tisWithinTriggerBounds(position)\n\t\t\t{\n\t\t\t\tconst rect = this.$el.getBoundingClientRect();\n\n\t\t\t\tswitch (this.position)\n\t\t\t\t{\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\treturn position.y - rect.top < TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\treturn position.x - rect.left < TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\treturn position.x > rect.left + rect.width - TRIGGER_SIZE;\n\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\treturn position.y > rect.top + rect.height - TRIGGER_SIZE;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonMouseWheel(evt)\n\t\t\t{\n\t\t\t\tif (!this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {deltaX, deltaY} = evt;\n\n\t\t\t\tif (Math.abs(deltaX) > 20 && (this.position === \"left\" || this.position === \"right\"))\n\t\t\t\t\tthis.close();\n\n\t\t\t\tif (Math.abs(deltaY) > 20 && (this.position === \"top\" || this.position === \"bottom\"))\n\t\t\t\t\tthis.close();\n\n\t\t\t\tif (!this.isWithinElement(getPosition(evt), this.content))\n\t\t\t\t\tevt.preventDefault();\n\t\t\t},\n\n\t\t\tonPointerCancel(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.currentPosition = getPosition(evt);\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerDown(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst position = getPosition(evt);\n\n\t\t\t\tif (!this.isOpen && !this.isWithinTriggerBounds(position))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isDragging = true;\n\n\t\t\t\tthis.previous = this.current;\n\t\t\t\tthis.currentPosition = position;\n\t\t\t\tthis.previousPosition = position;\n\t\t\t\tthis.startPosition = position;\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerMove(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!this.isDragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst position = getPosition(evt);\n\n\t\t\t\tif (!this.isContentDragAvailable(position))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.previousPosition = this.currentPosition;\n\t\t\t\tthis.currentPosition = position;\n\n\t\t\t\tthis.checkState();\n\t\t\t},\n\n\t\t\tonPointerUp(evt)\n\t\t\t{\n\t\t\t\tif (!this.touchEnabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!this.isDragging)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst isSameLocation = this.currentPosition.x === this.startPosition.x && this.currentPosition.y === this.startPosition.y;\n\n\t\t\t\tif (!isSameLocation && evt.cancelable)\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.currentPosition = getPosition(evt);\n\t\t\t\tthis.isDragging = false;\n\n\t\t\t\tif (this.previous === 1 && isSameLocation && !this.isWithinElement(this.currentPosition, this.content))\n\t\t\t\t\tthis.current = 0.0;\n\t\t\t\telse\n\t\t\t\t\tthis.checkState();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tgetMainElement().classList.add(\"is-popup-opened\");\n\t\t\t\telse\n\t\t\t\t\tgetMainElement().classList.remove(\"is-popup-opened\");\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"latte-overlay\" role=\"dialog\" :class=\"{'is-visible': isVisible, 'is-open': isOpen}\" v-if=\"isVisible\" v-cloak>\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { dispatch } from \"../../js/actions\";\n\timport { register, remove } from \"../../js/ui/overlays\";\n\timport { timeout } from \"../../js/core\";\n\timport { needsZIndex } from \"../../js/z\";\n\timport { raf } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"latte-overlay\",\n\n\t\tprops: {\n\n\t\t\tname: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\topened: {\n\t\t\t\tdefault: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisOpen: false,\n\t\t\t\tisVisible: false,\n\t\t\t\tparentRef: null\n\t\t\t};\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tdocument.body.removeChild(this.$el);\n\t\t\tthis.parentRef.appendChild(this.$el);\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tremove(this.name);\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tregister(this.name, this);\n\n\t\t\tthis.parentRef = this.$el.parentNode;\n\t\t\tthis.parentRef.removeChild(this.$el);\n\t\t\tdocument.body.appendChild(this.$el);\n\n\t\t\tif (this.opened)\n\t\t\t\tthis.open(this.name);\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tif (!this.isVisible)\n\t\t\t\t\treturn;\n\n\t\t\t\traf(() => this.isOpen = false);\n\t\t\t\traf(() => this.isVisible = false, 270);\n\n\t\t\t\tdispatch(\"latte:overlay\", {overlay: this, open: false});\n\t\t\t\tthis.$emit(\"close\", this);\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tif (this.isVisible)\n\t\t\t\t\treturn;\n\n\t\t\t\traf(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.isVisible = true;\n\n\t\t\t\t\traf(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tneedsZIndex(z => this.$el.style.setProperty(\"z-index\", z));\n\t\t\t\t\t\tthis.isOpen = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdispatch(\"latte:overlay\", {overlay: this, open: true});\n\t\t\t\tthis.$emit(\"open\", this);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tname(n, o)\n\t\t\t{\n\t\t\t\tremove(o);\n\t\t\t\tregister(n, this);\n\t\t\t},\n\n\t\t\topened()\n\t\t\t{\n\t\t\t\tif (this.opened)\n\t\t\t\t\tthis.open();\n\t\t\t\telse\n\t\t\t\t\tthis.close();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<nav class=\"pagination ml-auto\" role=\"navigation\">\n\t\t<template v-for=\"entry in pagination\">\n\t\t\t<a @click=\"navigate(entry.page)\" class=\"pagination-item\" :class=\"{'is-current': entry.is_current, 'is-disabled': entry.is_disabled}\" role=\"menuitem\">\n\t\t\t\t<template v-if=\"entry.is_dots\">&hellip;</template>\n\t\t\t\t<template v-else-if=\"entry.label === 'first'\"><i class=\"mdi mdi-chevron-double-left\"></i></template>\n\t\t\t\t<template v-else-if=\"entry.label === 'prev'\"><i class=\"mdi mdi-chevron-left\"></i></template>\n\t\t\t\t<template v-else-if=\"entry.label === 'next'\"><i class=\"mdi mdi-chevron-right\"></i></template>\n\t\t\t\t<template v-else-if=\"entry.label === 'last'\"><i class=\"mdi mdi-chevron-double-right\"></i></template>\n\t\t\t\t<template v-else>{{ entry.label }}</template>\n\t\t\t</a>\n\t\t</template>\n\t</nav>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-pagination\",\n\n\t\tprops: {\n\n\t\t\tpagination: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tnavigate(page)\n\t\t\t{\n\t\t\t\tthis.$emit(\"navigate\", page);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"form-control\">\n\t\t<input :type=\"fieldType\" :autocomplete=\"autocomplete\" class=\"form-control-plain\" v-bind=\"bindings\" v-model=\"password\"/>\n\t\t<button class=\"btn btn-text btn-icon btn-dark form-control-suffix\" @click=\"toggle\" type=\"button\"><i class=\"mdi\" :class=\"iconClass\"></i></button>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-password\",\n\n\t\tprops: {\n\n\t\t\tautocomplete: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tid: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tplaceholder: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tshow: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tfieldType: this.show ? \"text\" : \"password\",\n\t\t\t\tpassword: this.value\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tbindings()\n\t\t\t{\n\t\t\t\tconst bindings = {};\n\n\t\t\t\tif (this.id !== \"\")\n\t\t\t\t\tbindings.id = this.id;\n\n\t\t\t\tif (this.name !== \"\")\n\t\t\t\t\tbindings.name = this.name;\n\n\t\t\t\tif (this.placeholder !== \"\")\n\t\t\t\t\tbindings.placeholder = this.placeholder;\n\n\t\t\t\treturn bindings;\n\t\t\t},\n\n\t\t\ticonClass()\n\t\t\t{\n\t\t\t\treturn this.fieldType === \"password\" ? \"mdi-eye\" : \"mdi-eye-off\";\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tthis.show = !this.show;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tpassword()\n\t\t\t{\n\t\t\t\tthis.$emit(\"input\", this.password);\n\t\t\t},\n\n\t\t\tshow()\n\t\t\t{\n\t\t\t\tthis.fieldType = this.show ? \"text\" : \"password\";\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.password = this.value;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel pdf-viewer\" role=\"presentation\" style=\"min-height: 84px\" v-latte-context-menu :class=\"{'is-loading': isLoading}\" v-if=\"hasSupport\">\n\t\t<div class=\"page\" v-for=\"i in pages\" :id=\"'page-' + i\">\n\t\t\t<canvas></canvas>\n\t\t</div>\n\n\t\t<span class=\"spinner\"></span>\n\n\t\t<nav class=\"nav nav-list latte-context-menu\">\n\t\t\t<a class=\"nav-link\" :href=\"source\" target=\"_blank\"><i class=\"mdi mdi-open-in-new\"></i> <span>{{ \"Open in new tab\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<a class=\"nav-link\" @click=\"download\"><i class=\"mdi mdi-download\"></i> <span>{{ \"Download\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<a class=\"nav-link\" @click=\"print\"><i class=\"mdi mdi-printer\"></i> <span>{{ \"Print\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<div class=\"divider divider-horizontal\"></div>\n\t\t\t<a class=\"nav-link\" @click=\"load\"><i class=\"mdi mdi-reload\"></i> <span>{{ \"Reload\"|i18n(\"pdf-viewer\") }}</span></a>\n\t\t\t<slot name=\"menu\"></slot>\n\t\t</nav>\n\t</div>\n\n\t<div class=\"panel\" v-else>\n\t\t<div class=\"panel-body text-center\">\n\t\t\tPlease include PDF.js in your project.\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\twindow.pdfjsLib = window.pdfjsLib || undefined;\n\n\texport default {\n\n\t\tname: \"latte-pdf-viewer\",\n\n\t\tprops: {\n\n\t\t\tsource: {\n\t\t\t\ttype: String,\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisLoading: false,\n\t\t\t\tpages: 0,\n\t\t\t\tpdf: null,\n\t\t\t\trendered: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.load();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thasSupport()\n\t\t\t{\n\t\t\t\treturn pdfjsLib !== undefined;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tload()\n\t\t\t{\n\t\t\t\tif (!this.hasSupport)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.rendered = 0;\n\n\t\t\t\tpdfjsLib.getDocument(this.source).then(pdf => this.onPDFLoaded(pdf));\n\t\t\t},\n\n\t\t\tdownload()\n\t\t\t{\n\t\t\t\tdownloadFile(\"NULL.pdf\", this.source)\n\t\t\t},\n\n\t\t\tprint()\n\t\t\t{\n\t\t\t\tprintDocument(this.source)\n\t\t\t},\n\n\t\t\tonPDFLoaded(pdf)\n\t\t\t{\n\t\t\t\tthis.pdf = pdf;\n\t\t\t\tthis.pages = this.pdf.numPages;\n\n\t\t\t\tthis.$nextTick(() => this.onPDFLoadedSecondTask());\n\t\t\t},\n\n\t\t\tonPDFLoadedSecondTask()\n\t\t\t{\n\t\t\t\tfor (let i = 1; i <= this.pages; i++)\n\t\t\t\t{\n\t\t\t\t\tlet pageElement = this.$el.querySelector(`div.page#page-${i}`);\n\n\t\t\t\t\tif (typeof pageElement === \"undefined\")\n\t\t\t\t\t\tthrow new Error(\"Page Element not found!\");\n\n\t\t\t\t\tlet pageCanvas = pageElement.querySelector(\"canvas\");\n\n\t\t\t\t\tthis.pdf.getPage(i).then(this.onPDFPageReady.bind(this, pageElement, pageCanvas));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonPDFPageReady(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tthis.renderPage(pageElement, pageCanvas, page)\n\t\t\t},\n\n\t\t\trenderPage(pageElement, pageCanvas, page)\n\t\t\t{\n\t\t\t\tlet desiredWidth = pageElement.getBoundingClientRect().width;\n\t\t\t\tlet viewport = page.getViewport(1);\n\t\t\t\tlet scale = desiredWidth / viewport.width;\n\t\t\t\tviewport = page.getViewport(scale);\n\n\t\t\t\tlet context = pageCanvas.getContext(\"2d\");\n\t\t\t\tpageElement.style.height = (pageCanvas.height = Math.round(viewport.height)) + 'px';\n\t\t\t\tpageElement.style.width = (pageCanvas.width = Math.round(viewport.width)) + 'px';\n\n\t\t\t\tlet renderContext = {\n\t\t\t\t\tcanvasContext: context,\n\t\t\t\t\tviewport: viewport\n\t\t\t\t};\n\n\t\t\t\tpage.render(renderContext).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.rendered++;\n\t\t\t\t\tthis.isLoading = !(this.rendered === this.pages);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tsource()\n\t\t\t{\n\t\t\t\tthis.load();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div :class=\"dropdownClasses\" :style=\"dropdownStyles\">\n\t\t<div class=\"dropdown-content\">\n\t\t\t<slot v-bind=\"self\"></slot>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport Vue from \"vue\";\n\n\timport { dispatch, on } from \"../../js/actions\";\n\timport { getMainElement, timeout } from \"../../js/core\";\n\timport { live, raf } from \"../../js/util/dom\";\n\timport { needsZIndex } from \"../../js/z\";\n\n\texport default {\n\n\t\tname: \"latte-popup\",\n\n\t\tprops: {\n\n\t\t\tassociateWith: {\n\t\t\t\tdefault: undefined,\n\t\t\t\trequired: false\n\t\t\t},\n\n\t\t\tmarginX: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmarginY: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tpersistent: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\twithArrow: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tif (this.isOpen)\n\t\t\t\tgetMainElement().classList.remove(\"is-popup-opened\");\n\n\t\t\tdocument.body.removeChild(this.$el);\n\n\t\t\tthis.$el.removeOutsideEventListener(\"pointerdown\", this.cb.onOutsideClick);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcb: {\n\t\t\t\t\tonClick: evt => this.onClick(evt),\n\t\t\t\t\tonOutsideClick: evt => this.onOutsideClick(evt)\n\t\t\t\t},\n\t\t\t\tisOpen: false,\n\t\t\t\tpopupX: 0,\n\t\t\t\tpopupY: 0,\n\t\t\t\trect: null,\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tlattePersistent: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\t// Move our element to body.\n\t\t\tthis.$el.parentNode.removeChild(this.$el);\n\t\t\tdocument.body.appendChild(this.$el);\n\n\t\t\t// Update associate-with by updating our parent.\n\t\t\tif (this.$parent && this.$parent.$forceUpdate)\n\t\t\t\tthis.$parent.$forceUpdate();\n\n\t\t\tthis.$el.addOutsideEventListener(\"pointerdown\", this.cb.onOutsideClick);\n\n\t\t\tlive(this.$el, \"[href],[data-close]\", \"pointerup\", () => timeout(25, () => this.close()));\n\n\t\t\ton(\"latte:tick\", () => this.onResizeOrScroll());\n\t\t\ton(\"latte:context-menu\", () => this.close());\n\t\t\ton(\"latte:overlay\", () => this.close());\n\t\t\ton(\"latte:popup:hide\", () => this.close());\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tassociatedElement()\n\t\t\t{\n\t\t\t\tif (this.associateWith === undefined)\n\t\t\t\t\treturn undefined;\n\n\t\t\t\tif (this.associateWith instanceof Vue)\n\t\t\t\t\treturn this.associateWith.$el;\n\n\t\t\t\treturn this.associateWith;\n\t\t\t},\n\n\t\t\tdropdownClasses()\n\t\t\t{\n\t\t\t\tconst classes = [\"dropdown\"];\n\n\t\t\t\tif (this.withArrow)\n\t\t\t\t{\n\t\t\t\t\tconst aboveUnder = this.y > (window.innerHeight / 2) ? \"above\" : \"under\";\n\t\t\t\t\tconst position = this.x > (window.innerWidth / 2) ? \"right\" : \"left\";\n\n\t\t\t\t\tclasses.push(`dropdown-${position}-${aboveUnder}`);\n\t\t\t\t}\n\n\t\t\t\tif (this.isOpen === true)\n\t\t\t\t\tclasses.push(\"is-open\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tdropdownStyles()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t\"transform\": `translate3d(${this.popupX}px, ${this.popupY}px, 0)`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tisPersistent()\n\t\t\t{\n\t\t\t\treturn this.persistent || this.lattePersistent;\n\t\t\t},\n\n\t\t\tself()\n\t\t\t{\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tbindEvents()\n\t\t\t{\n\t\t\t\tthis.rect = this.associatedElement.getBoundingClientRect();\n\t\t\t\tthis.associatedElement.addEventListener(\"click\", this.cb.onClick, {passive: true});\n\t\t\t},\n\n\t\t\tunbindEvents()\n\t\t\t{\n\t\t\t\tif (this.associatedElement === undefined)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.rect = null;\n\t\t\t\tthis.associatedElement.removeEventListener(\"click\", this.cb.onClick, {passive: true});\n\t\t\t},\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.isOpen = false;\n\t\t\t},\n\n\t\t\topen()\n\t\t\t{\n\t\t\t\tneedsZIndex(z => this.$el.style.setProperty(\"z-index\", z));\n\t\t\t\tthis.isOpen = true;\n\t\t\t},\n\n\t\t\ttoggle()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tthis.close();\n\t\t\t\telse\n\t\t\t\t\tthis.open();\n\t\t\t},\n\n\t\t\tcalculatePosition()\n\t\t\t{\n\t\t\t\traf(() =>\n\t\t\t\t{\n\t\t\t\t\tconst pcr = this.$el.getBoundingClientRect();\n\t\t\t\t\tconst px = this.x > (window.innerWidth / 2) ? \"right\" : \"left\";\n\t\t\t\t\tconst py = this.y > (window.innerHeight / 2) ? \"above\" : \"under\";\n\n\t\t\t\t\tconst l = this.x;\n\t\t\t\t\tconst t = this.y;\n\t\t\t\t\tconst h = this.rect !== null ? this.rect.height : 0;\n\t\t\t\t\tconst w = this.rect !== null ? this.rect.width : 0;\n\n\t\t\t\t\tlet x = l + this.marginX;\n\t\t\t\t\tlet y = t + h + this.marginY;\n\n\t\t\t\t\tif (px === \"right\")\n\t\t\t\t\t\tx = (l + w) - (pcr.width + this.marginX);\n\n\t\t\t\t\tif (py === \"above\")\n\t\t\t\t\t\ty = t - (pcr.height + this.marginY);\n\n\t\t\t\t\tthis.popupX = Math.round(x);\n\t\t\t\t\tthis.popupY = Math.round(y + (this.isOpen ? 0 : py === \"above\" ? -24 : 24));\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tsetPosition(x, y)\n\t\t\t{\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t},\n\n\t\t\tonClick()\n\t\t\t{\n\t\t\t\tthis.toggle();\n\t\t\t},\n\n\t\t\tonOutsideClick()\n\t\t\t{\n\t\t\t\tif (this.isPersistent)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.close();\n\t\t\t},\n\n\t\t\tonResizeOrScroll()\n\t\t\t{\n\t\t\t\tif (this.associatedElement !== undefined)\n\t\t\t\t\tthis.rect = this.associatedElement.getBoundingClientRect();\n\n\t\t\t\tthis.calculatePosition();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tassociateWith(n, o)\n\t\t\t{\n\t\t\t\tif (o !== undefined)\n\t\t\t\t\tthis.unbindEvents();\n\n\t\t\t\tif (n !== undefined)\n\t\t\t\t\tthis.bindEvents();\n\t\t\t},\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\tthis.calculatePosition();\n\n\t\t\t\tdispatch(\"latte:tooltip:hide\");\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t{\n\t\t\t\t\tdispatch(\"latte:popup:open\", this);\n\t\t\t\t\tgetMainElement().classList.add(\"is-popup-opened\");\n\t\t\t\t\tthis.$emit(\"open\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdispatch(\"latte:popup:close\", this);\n\t\t\t\t\tgetMainElement().classList.remove(\"is-popup-opened\");\n\t\t\t\t\tthis.$emit(\"close\");\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trect()\n\t\t\t{\n\t\t\t\tif (this.rect !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.x = this.rect.left;\n\t\t\t\t\tthis.y = this.rect.top;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.x = 0;\n\t\t\t\t\tthis.y = 0;\n\t\t\t\t}\n\n\t\t\t\tthis.calculatePosition();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"progress progress-bar\" :class=\"{'is-indeterminate': isIndeterminate}\" v-if=\"isBar\">\n\t\t<div class=\"progress-value\" :style=\"barStyle\"></div>\n\t</div>\n\n\t<svg class=\"progress progress-ring\" :class=\"{'is-determinate': !isIndeterminate, 'is-indeterminate': isIndeterminate}\" style=\"height: 48px; width: 48px\" viewBox=\"0 0 24 24\" v-else-if=\"isRing\">\n\t\t<defs>\n\t\t\t<linearGradient id=\"wave\">\n\t\t\t\t<stop offset=\"0%\" stop-color=\"transparent\"></stop>\n\t\t\t\t<stop offset=\"50%\" stop-color=\"var(--progress-wave-private)\"></stop>\n\t\t\t\t<stop offset=\"100%\" stop-color=\"transparent\"></stop>\n\t\t\t</linearGradient>\n\t\t</defs>\n\t\t<circle class=\"progress-track\" r=\"11\" cx=\"12\" cy=\"12\" x=\"0\" y=\"0\" fill=\"transparent\" stroke-width=\"3\"></circle>\n\t\t<circle class=\"progress-value\" r=\"11\" cx=\"12\" cy=\"12\" x=\"0\" y=\"0\" fill=\"transparent\" stroke-width=\"3\" :stroke-dasharray=\"ringStyle\"></circle>\n\t</svg>\n\n</template>\n\n<script>\n\n\tconst DASH_CAP = 69;\n\n\texport default {\n\n\t\tname: \"latte-progress\",\n\n\t\tprops: {\n\n\t\t\tisIndeterminate: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tmax: {\n\t\t\t\tdefault: 100,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmin: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tmode: {\n\t\t\t\tdefault: \"bar\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String,\n\t\t\t\tvalidator: value => [\"bar\", \"ring\"].includes(value)\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tbar: 0,\n\t\t\t\tring: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.renderProgress();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tisBar()\n\t\t\t{\n\t\t\t\treturn this.mode === \"bar\";\n\t\t\t},\n\n\t\t\tisRing()\n\t\t\t{\n\t\t\t\treturn this.mode === \"ring\";\n\t\t\t},\n\n\t\t\tbarStyle()\n\t\t\t{\n\t\t\t\tif (this.isIndeterminate)\n\t\t\t\t\treturn {};\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: `${this.bar}%`\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tringStyle()\n\t\t\t{\n\t\t\t\tif (this.isIndeterminate)\n\t\t\t\t\treturn \"\";\n\n\t\t\t\treturn `${this.ring} 999`;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\trenderProgress()\n\t\t\t{\n\t\t\t\tif (this.isIndeterminate)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst max = this.max - this.min;\n\t\t\t\tconst value = Math.max(this.min, Math.min(this.max, this.value)) - this.min;\n\t\t\t\tconst p = value / max;\n\n\t\t\t\tif (this.isBar)\n\t\t\t\t\tthis.renderProgressBar(p);\n\t\t\t\telse if (this.isRing)\n\t\t\t\t\tthis.renderProgressRing(p);\n\t\t\t},\n\n\t\t\trenderProgressBar(p)\n\t\t\t{\n\t\t\t\tthis.bar = p * 100;\n\t\t\t},\n\n\t\t\trenderProgressRing(p)\n\t\t\t{\n\t\t\t\tthis.ring = p * DASH_CAP;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisIndeterminate()\n\t\t\t{\n\t\t\t\tthis.renderProgress();\n\t\t\t},\n\n\t\t\tmax()\n\t\t\t{\n\t\t\t\tthis.renderProgress();\n\t\t\t},\n\n\t\t\tmode()\n\t\t\t{\n\t\t\t\tthis.renderProgress();\n\t\t\t},\n\n\t\t\tmin()\n\t\t\t{\n\t\t\t\tthis.renderProgress();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.renderProgress();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<style lang=\"scss\">\n\n\tdiv.rich-text-editor\n\t{\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\t\tflex-flow: column nowrap;\n\t\tjustify-content: flex-start;\n\t\tz-index: 0;\n\n\t\tdiv.rte-toolbar\n\t\t{\n\t\t\tposition: sticky;\n\t\t\ttop: var(--toolbar-height);\n\t\t\tflex: 0 0 auto;\n\t\t\tborder-bottom: 1px solid var(--outline-color-secondary);\n\t\t\tborder-top-left-radius: var(--border-radius);\n\t\t\tborder-top-right-radius: var(--border-radius);\n\t\t\toverflow: hidden;\n\t\t\tz-index: 1;\n\n\t\t\tdiv.panel-header\n\t\t\t{\n\t\t\t\tmin-height: 48px;\n\t\t\t\tpadding: 0 9px;\n\t\t\t\tbackground: var(--panel-background);\n\t\t\t\tborder: none;\n\t\t\t}\n\n\t\t\tbutton.btn.is-active\n\t\t\t{\n\t\t\t\tbackground: RGBA(var(--btn-background, var(--color-primary)), .05);\n\t\t\t}\n\t\t}\n\n\t\tdiv.rte-frame\n\t\t{\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\talign-items: stretch;\n\t\t\tflex: 1 1 auto;\n\t\t\tjustify-content: flex-start;\n\t\t\tborder-bottom-left-radius: var(--border-radius);\n\t\t\tborder-bottom-right-radius: var(--border-radius);\n\t\t\toverflow: hidden;\n\n\t\t\tdiv.rte-frame-placeholder\n\t\t\t{\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tpadding: 24px;\n\t\t\t\topacity: .5;\n\t\t\t}\n\n\t\t\tdiv.rte-frame-content\n\t\t\t{\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: block;\n\t\t\t\tpadding: 24px;\n\t\t\t\tflex: 1 1 0;\n\t\t\t\toutline: none;\n\t\t\t\toverflow: auto;\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n\n<template>\n\n\t<div class=\"panel panel-blank rich-text-editor\" :class=\"{'is-focused': isFocused}\" style=\"min-height: 300px\">\n\t\t<div class=\"rte-toolbar\">\n\t\t\t<div class=\"panel-header\" v-for=\"(row, rowIndex) of toolbarRows\" v-if=\"toolbar.enabled\">\n\n\t\t\t\t<template v-for=\"el of row\">\n\n\t\t\t\t\t<div class=\"divider divider-vertical\" v-if=\"el.type === 'separator'\"></div>\n\t\t\t\t\t<div class=\"btn-group\" v-else-if=\"el.type === 'group'\">\n\t\t\t\t\t\t<button class=\"btn btn-icon btn-text btn-dark m-0\" :class=\"{'is-active': a.action.isActive || false}\" @click=\"onToolbarActionClick($event, a.action)\" :data-tooltip=\"a.action.label\" v-for=\"a of el.actions\"><i class=\"mdi\" :class=\"[`mdi-${a.action.icon}`]\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn btn-icon btn-text btn-dark m-0\" :class=\"{'is-active': el.action.isActive || false}\" @click=\"onToolbarActionClick($event, el.action)\" :data-tooltip=\"el.action.label\" v-else-if=\"el.type === 'action'\"><i class=\"mdi\" :class=\"[`mdi-${el.action.icon}`]\"></i></button>\n\n\t\t\t\t</template>\n\n\t\t\t\t<template v-if=\"rowIndex === 0\">\n\t\t\t\t\t<div class=\"divider divider-vertical ml-auto\"></div>\n\t\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t\t<button class=\"btn btn-icon btn-text btn-dark m-0\" data-tooltip=\"More...\"><i class=\"mdi mdi-dots-vertical\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"rte-frame\">\n\t\t\t<div class=\"rte-frame-placeholder\" v-if=\"isPlaceholderShown\">Type something here&hellip;</div>\n\t\t\t<div class=\"rte-frame-content\" contenteditable spellcheck=\"false\" ref=\"editableContent\" @blur=\"onBlur\" @focus=\"onFocus\" @keydown=\"onKeyDown\" @keyup=\"onKeyUp\"></div>\n\t\t</div>\n\t\t<component :is=\"plugin\" :key=\"key\" v-for=\"(plugin, key) of plugins\"></component>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { closest } from \"../../js/util/dom\";\n\n\tconst defaultPlugins = [\"RTEBasicFormattingPlugin\", \"RTEAlignmentPlugin\", \"RTEMentionsPlugin\"];\n\tconst domObserverConfig = {attributes: true, childList: true, subtree: true};\n\n\texport default {\n\n\t\tname: \"latte-rich-text-editor\",\n\n\t\tprops: {\n\n\t\t\tplugins: {\n\t\t\t\tdefault: () => defaultPlugins,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tdefault: \"<p><br></p>\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tif (this.domObserver !== null)\n\t\t\t\tthis.domObserver.disconnect();\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcommands: [],\n\t\t\t\ttoolbar: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\trows: []\n\t\t\t\t},\n\t\t\t\thtml: this.value,\n\t\t\t\ttext: \"\",\n\t\t\t\tdomObserver: null,\n\t\t\t\tisFocused: false,\n\t\t\t\tisMutationsAllowed: true\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.initialize();\n\n\t\t\tthis.addToolbarAction(\"indent-increase\", \"format-indent-increase\", \"Indent\", 0, {groupId: \"indention\"});\n\t\t\tthis.addToolbarAction(\"indent-decrease\", \"format-indent-decrease\", \"Outdent\", 0, {groupId: \"indention\"});\n\n\t\t\tthis.addToolbarAction(\"extra-image\", \"image\", \"Insert image...\", 0, {groupId: \"extra\"});\n\t\t\tthis.addToolbarAction(\"extra-link\", \"link\", \"Insert link...\", 0, {groupId: \"extra\"});\n\t\t\tthis.addToolbarAction(\"extra-code\", \"code-braces\", \"Insert code...\", 0, {groupId: \"extra\"});\n\t\t\tthis.addToolbarAction(\"extra-plus\", \"plus\", \"Insert...\", 0, {groupId: \"extra\"});\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\teditableContent()\n\t\t\t{\n\t\t\t\treturn this.$refs.editableContent;\n\t\t\t},\n\n\t\t\tisPlaceholderShown()\n\t\t\t{\n\t\t\t\treturn this.text.trim() === \"\";\n\t\t\t},\n\n\t\t\ttoolbarRows()\n\t\t\t{\n\t\t\t\tconst definitions = [];\n\n\t\t\t\tfor (let row of this.toolbar.rows)\n\t\t\t\t{\n\t\t\t\t\tlet rd = [];\n\n\t\t\t\t\tfor (let action of row)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (action.groupId)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet groupIndex = rd.findIndex(g => g.type === \"group\" && g.group.id === action.groupId);\n\n\t\t\t\t\t\t\tif (groupIndex === -1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (rd.length > 0)\n\t\t\t\t\t\t\t\t\trd.push({type: \"separator\"});\n\n\t\t\t\t\t\t\t\tgroupIndex = rd.length;\n\n\t\t\t\t\t\t\t\trd.push({type: \"group\", actions: [], group: {id: action.groupId}});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\trd[groupIndex].actions.push({type: \"action\", action});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (rd.length > 0)\n\t\t\t\t\t\t\t\trd.push({type: \"separator\"});\n\n\t\t\t\t\t\t\trd.push({type: \"action\", action});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdefinitions.push(rd);\n\t\t\t\t}\n\n\t\t\t\treturn definitions;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tinitialize()\n\t\t\t{\n\t\t\t\tthis.editableContent.innerHTML = this.html;\n\t\t\t\tthis.text = this.editableContent.innerText;\n\n\t\t\t\tthis.domObserver = new MutationObserver(mutations => this.onContentChanged(mutations));\n\t\t\t\tthis.domObserver.observe(this.editableContent, domObserverConfig);\n\n\t\t\t\tdocument.addEventListener(\"selectionchange\", evt => this.onSelectionChanged(evt));\n\t\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"p\");\n\t\t\t\tdocument.execCommand(\"styleWithCSS\", true);\n\t\t\t},\n\n\t\t\taddElementAtCursor(el)\n\t\t\t{\n\t\t\t\tconst selection = window.getSelection();\n\n\t\t\t\tif (selection.rangeCount > 0)\n\t\t\t\t{\n\t\t\t\t\tconst range = selection.getRangeAt(0);\n\t\t\t\t\trange.deleteContents();\n\t\t\t\t\trange.insertNode(el);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.editableContent.appendChild(el);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\taddToolbarAction(id, icon, label, row = 0, options = {})\n\t\t\t{\n\t\t\t\twhile (this.toolbar.rows[row] === undefined)\n\t\t\t\t\tthis.toolbar.rows.push([]);\n\n\t\t\t\tthis.toolbar.rows[row].push({id, icon, label, ...options});\n\t\t\t},\n\n\t\t\texecuteCommand(id, ...params)\n\t\t\t{\n\t\t\t\tconst command = this.commands.find(c => c.id === id);\n\n\t\t\t\tif (!command)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.isMutationsAllowed = false;\n\t\t\t\tthis.editableContent.focus();\n\t\t\t\tcommand.fn(...params);\n\t\t\t\tthis.isMutationsAllowed = true;\n\t\t\t\tthis.onContentChanged();\n\t\t\t},\n\n\t\t\tgetToolbarAction(id)\n\t\t\t{\n\t\t\t\tlet action;\n\n\t\t\t\tfor (let row of this.toolbar.rows)\n\t\t\t\t\tif ((action = row.find(a => a.id === id)) !== null)\n\t\t\t\t\t\treturn action;\n\n\t\t\t\treturn undefined;\n\t\t\t},\n\n\t\t\tregisterCommand(id, fn)\n\t\t\t{\n\t\t\t\tthis.commands.push({id, fn});\n\t\t\t},\n\n\t\t\tremoveEmptyness()\n\t\t\t{\n\t\t\t\tthis.isMutationsAllowed = false;\n\n\t\t\t\tthis.$emit(\"remove-emptyness\");\n\t\t\t\tthis.editableContent.querySelectorAll(\"p:empty\").forEach(el => el.remove());\n\n\t\t\t\tthis.isMutationsAllowed = true;\n\t\t\t},\n\n\t\t\tsetSelection(el, offset = 0, collapse = true)\n\t\t\t{\n\t\t\t\tconst range = document.createRange();\n\t\t\t\tconst selection = window.getSelection();\n\n\t\t\t\trange.setStart(el, offset);\n\t\t\t\trange.collapse(collapse);\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t},\n\n\t\t\tsetSelectionAfter(el, collapse = false, char = \"\\u00A0\")\n\t\t\t{\n\t\t\t\tif (char === \" \")\n\t\t\t\t\tchar = \"\\u00A0\";\n\n\t\t\t\tconst range = document.createRange();\n\t\t\t\tconst selection = window.getSelection();\n\t\t\t\tlet dummy = document.createTextNode(char);\n\n\t\t\t\tif (el.nextSibling && !(el.nextSibling instanceof HTMLBRElement) && el.nextSibling.wholeText !== \"\")\n\t\t\t\t{\n\t\t\t\t\trange.setStart(el.nextSibling, 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (el.nextSibling)\n\t\t\t\t\t\tel.parentNode.insertBefore(dummy, el.nextSibling);\n\t\t\t\t\telse\n\t\t\t\t\t\tel.parentNode.appendChild(dummy);\n\n\t\t\t\t\trange.setStartAfter(dummy);\n\t\t\t\t}\n\n\t\t\t\trange.collapse(collapse);\n\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t},\n\n\t\t\tsetSelectionBefore(el, collapse = false)\n\t\t\t{\n\t\t\t\tconst range = document.createRange();\n\t\t\t\tconst selection = window.getSelection();\n\n\t\t\t\trange.setStartBefore(el);\n\t\t\t\trange.collapse(collapse);\n\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t},\n\n\t\t\tonBlur()\n\t\t\t{\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tthis.$emit(\"blur\");\n\t\t\t},\n\n\t\t\tonContentChanged()\n\t\t\t{\n\t\t\t\tthis.removeEmptyness();\n\n\t\t\t\tthis.html = this.editableContent.innerHTML;\n\t\t\t\tthis.text = this.editableContent.innerText;\n\n\t\t\t\tif (this.isPlaceholderShown && this.isFocused)\n\t\t\t\t{\n\t\t\t\t\tdocument.execCommand(\"selectAll\", false, null);\n\t\t\t\t\tdocument.execCommand(\"removeFormat\", false, null);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonFocus()\n\t\t\t{\n\t\t\t\tthis.isFocused = true;\n\t\t\t\tthis.$emit(\"focus\");\n\t\t\t},\n\n\t\t\tonKeyDown(evt)\n\t\t\t{\n\t\t\t\tthis.$emit(\"keydown\", evt);\n\t\t\t},\n\n\t\t\tonKeyUp(evt)\n\t\t\t{\n\t\t\t\tthis.$emit(\"keyup\", evt);\n\t\t\t},\n\n\t\t\tonSelectionChanged(evt)\n\t\t\t{\n\t\t\t\tconst selection = window.getSelection();\n\n\t\t\t\tif (closest(selection.anchorNode, this.$el) === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.$emit(\"selection-changed\", selection, evt);\n\t\t\t},\n\n\t\t\tonToolbarActionClick(evt, action)\n\t\t\t{\n\t\t\t\tthis.$emit(\"toolbar-action\", evt, action);\n\t\t\t\tthis.$emit(`toolbar-action:${action.id}`, evt, action);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\thtml()\n\t\t\t{\n\t\t\t\tif (this.html === \"\")\n\t\t\t\t\tthis.html = \"<p><br></p>\";\n\n\t\t\t\tthis.$emit(\"input\", this.html);\n\t\t\t},\n\n\t\t\tisMutationsAllowed()\n\t\t\t{\n\t\t\t\tif (this.isMutationsAllowed)\n\t\t\t\t\tthis.domObserver.observe(this.editableContent, domObserverConfig);\n\t\t\t\telse\n\t\t\t\t\tthis.domObserver.disconnect();\n\t\t\t},\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.editableContent.innerHTML = this.html;\n\t\t\t\tthis.text = this.editableContent.innerText;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<component :is=\"as\" v-bind=\"$attrs\" v-on=\"$listeners\">\n\n\t\t<slot></slot>\n\n\t\t<slot v-for=\"slot in slots\" :name=\"slot\" :slot=\"slot\"/>\n\n\t\t<template v-for=\"slot in scopedSlots\" :slot=\"slot\" slot-scope=\"scope\">\n\t\t\t<slot :name=\"slot\" v-bind=\"scope\"/>\n\t\t</template>\n\n\t</component>\n\n</template>\n\n<script>\n\n\timport { raf, relativeCoordsTo } from \"../../js/util/dom\";\n\timport { timeout } from \"../../js/core\";\n\n\texport default {\n\n\t\tname: \"latte-ripple\",\n\n\t\tprops: {\n\n\t\t\tas: {\n\t\t\t\tdefault: \"div\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\trippleBackground: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\trippleCentered: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\trippleDuration: {\n\t\t\t\tdefault: 180,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\trippleOut: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisBackgroundVisible: false,\n\t\t\t\tbackgroundTimeout: null,\n\t\t\t\tcontainer: null,\n\t\t\t\tpreparedRipple: null\n\t\t\t};\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tthis.container.remove();\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.container = document.createElement(\"div\");\n\t\t\tthis.container.classList.add(\"ripple-container\");\n\n\t\t\tif (this.rippleOut)\n\t\t\t\tthis.container.classList.add(\"is-ripple-out\");\n\n\t\t\tthis.$el.prepend(this.container);\n\n\t\t\tthis.$el.classList.add(\"is-ripple\");\n\n\t\t\tif (window.TouchEvent)\n\t\t\t{\n\t\t\t\tthis.$el.addEventListener(\"touchmove\", evt => this.onPointerCancel(evt), {passive: true});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$el.addEventListener(\"pointercancel\", evt => this.onPointerCancel(evt), {passive: true});\n\t\t\t\tthis.$el.addEventListener(\"pointerout\", evt => this.onPointerCancel(evt), {passive: true});\n\t\t\t}\n\n\t\t\tthis.$el.addEventListener(\"pointerdown\", evt => this.onPointerDown(evt), {passive: true});\n\t\t\tthis.$el.addEventListener(\"pointerup\", evt => this.onPointerUp(evt), {passive: true});\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tscopedSlots()\n\t\t\t{\n\t\t\t\treturn Object.keys(this.$scopedSlots);\n\t\t\t},\n\n\t\t\tslots()\n\t\t\t{\n\t\t\t\treturn Object.keys(this.$slots)\n\t\t\t\t\t.filter(k => k !== \"default\");\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcreateRipple(x, y)\n\t\t\t{\n\t\t\t\tconst rect = this.$el.getBoundingClientRect();\n\t\t\t\tconst size = Math.max(rect.width, rect.height);\n\n\t\t\t\tif (this.rippleCentered)\n\t\t\t\t{\n\t\t\t\t\tx = rect.width / 2;\n\t\t\t\t\ty = rect.height / 2;\n\t\t\t\t}\n\n\t\t\t\tconst ripple = document.createElement(\"div\");\n\t\t\t\tripple.classList.add(\"ripple\");\n\t\t\t\tripple.style.setProperty(\"top\", `calc(${y}px - (var(--ripple-size) / 2))`);\n\t\t\t\tripple.style.setProperty(\"left\", `calc(${x}px - (var(--ripple-size) / 2))`);\n\t\t\t\tripple.style.setProperty(\"--ripple-duration\", `${this.rippleDuration + 180}ms`);\n\n\t\t\t\tif (this.rippleOut)\n\t\t\t\t{\n\t\t\t\t\tripple.style.setProperty(\"--ripple-scale\", `${Math.max(size * .25, 12) / size}`);\n\t\t\t\t\tripple.style.setProperty(\"--ripple-size\", `${size * 1.25}px`);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tripple.style.setProperty(\"--ripple-scale\", `${Math.max(size * .25, 12) / size}`);\n\t\t\t\t\tripple.style.setProperty(\"--ripple-size\", `${size * .75}px`);\n\t\t\t\t}\n\n\t\t\t\tthis.container.appendChild(ripple);\n\n\t\t\t\treturn ripple;\n\t\t\t},\n\n\t\t\tonPointerCancel()\n\t\t\t{\n\t\t\t\tif (this.preparedRipple !== null)\n\t\t\t\t\tthis.preparedRipple.remove();\n\n\t\t\t\tthis.isBackgroundVisible = false;\n\t\t\t\tthis.preparedRipple = null;\n\t\t\t},\n\n\t\t\tonPointerDown(evt)\n\t\t\t{\n\t\t\t\tconst {x, y} = relativeCoordsTo(this.$el, evt);\n\n\t\t\t\tthis.isBackgroundVisible = true;\n\t\t\t\tthis.preparedRipple = this.createRipple(x, y);\n\t\t\t},\n\n\t\t\tonPointerUp()\n\t\t\t{\n\t\t\t\tif (this.backgroundTimeout !== null)\n\t\t\t\t\tclearTimeout(this.backgroundTimeout);\n\n\t\t\t\tthis.backgroundTimeout = timeout(this.rippleDuration, () =>\n\t\t\t\t{\n\t\t\t\t\tthis.backgroundTimeout = null;\n\t\t\t\t\tthis.isBackgroundVisible = false;\n\t\t\t\t});\n\n\t\t\t\tif (this.preparedRipple === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst ripple = this.preparedRipple;\n\t\t\t\tthis.preparedRipple = null;\n\n\t\t\t\tripple.classList.add(\"is-scaling\");\n\t\t\t\tripple.classList.add(\"is-visible\");\n\n\t\t\t\traf(() => ripple.classList.add(\"is-hiding\"), this.rippleDuration);\n\t\t\t\traf(() => ripple.remove(), this.rippleDuration + 180);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisBackgroundVisible()\n\t\t\t{\n\t\t\t\tif (this.isBackgroundVisible && this.rippleBackground && !this.rippleOut)\n\t\t\t\t\tthis.container.classList.add(\"is-background-visible\");\n\t\t\t\telse\n\t\t\t\t\tthis.container.classList.remove(\"is-background-visible\");\n\t\t\t},\n\n\t\t\trippleOut()\n\t\t\t{\n\t\t\t\tif (this.rippleOut)\n\t\t\t\t\tthis.container.classList.add(\"is-ripple-out\");\n\t\t\t\telse\n\t\t\t\t\tthis.container.classList.remove(\"is-ripple-out\");\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<component ref=\"svgComponent\" :is=\"svg\" v-if=\"svg !== null\"></component>\n\n</template>\n\n<script>\n\n\timport Vue from \"vue\";\n\n\timport { handleError } from \"../../js/core\";\n\timport { request } from \"../../js/api\";\n\n\texport default {\n\n\t\tname: \"latte-svg-undraw\",\n\n\t\tprops: {\n\n\t\t\tcolor: {\n\t\t\t\tdefault: \"#000000\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tsvg: null\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.onUrlChanged();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonReceivedSVG(response)\n\t\t\t{\n\t\t\t\tconst color = this.color;\n\n\t\t\t\tthis.svg = Vue.extend({\n\n\t\t\t\t\ttemplate: response.replace(/fill=\"#6c63ff\"/g, \":fill=\\\"color\\\"\"),\n\n\t\t\t\t\tdata()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tonUrlChanged()\n\t\t\t{\n\t\t\t\trequest(this.url)\n\t\t\t\t\t.then(r => r.text())\n\t\t\t\t\t.then(r => this.onReceivedSVG(r))\n\t\t\t\t\t.catch(err => handleError(err));\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcolor()\n\t\t\t{\n\t\t\t\tif (this.$refs.svgComponent)\n\t\t\t\t\tthis.$refs.svgComponent.color = this.color;\n\t\t\t},\n\n\t\t\turl()\n\t\t\t{\n\t\t\t\tthis.onUrlChanged();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<button :aria-label=\"ariaLabel\" :class=\"buttonClass\" @click=\"onClick\">\n\t\t<i class=\"mdi latte-sorting none\" v-if=\"!isSorting\"></i>\n\t\t<i class=\"mdi latte-sorting down\" v-else-if=\"isSortingAscending\"></i>\n\t\t<i class=\"mdi latte-sorting up\" v-else></i>\n\t</button>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-sorting-button\",\n\n\t\tprops: {\n\n\t\t\tariaLabel: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tbuttonClass: {\n\t\t\t\tdefault: \"btn btn-icon btn-text btn-dark\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tisSorting: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tisSortingAscending: {\n\t\t\t\tdefault: true,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick(evt)\n\t\t\t{\n\t\t\t\tthis.$emit(\"click\", evt);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div @pointerover=\"onPointerEnter\" @pointerleave=\"onPointerLeave\">\n\n\t\t<slot name=\"item\">\n\t\t\t<a class=\"nav-link\" :class=\"{'is-hover': isOpen}\">\n\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${icon}`\" v-if=\"icon\"></i>\n\t\t\t\t<span class=\"mr-4\">{{ label }}</span>\n\t\t\t\t<i class=\"mdi mdi-chevron-right ml-auto\"></i>\n\t\t\t</a>\n\t\t</slot>\n\n\t\t<div ref=\"dropdown\" class=\"dropdown\" :class=\"{'is-open': isOpen}\" :style=\"dropdownStyles\" @pointerover=\"onPointerEnter\" @pointerleave=\"onPointerLeave\">\n\t\t\t<div class=\"dropdown-content\">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { getMainElement } from \"../../js/core\";\n\timport { raf } from \"../../js/util/dom\";\n\timport { needsZIndex } from \"../../js/z\";\n\n\texport default {\n\n\t\tname: \"latte-submenu\",\n\n\t\tprops: {\n\n\t\t\ticon: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tlabel: {\n\t\t\t\tdefault: \"Submenu\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tdropdown: null,\n\t\t\t\tisOpen: false,\n\t\t\t\ttimeout: null,\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t},\n\n\t\tbeforeDestroy()\n\t\t{\n\t\t\tthis.dropdown.remove();\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.dropdown = this.$refs.dropdown;\n\t\t\tthis.dropdown.remove();\n\n\t\t\tgetMainElement().appendChild(this.dropdown);\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tdropdownStyles()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\ttransform: `translate3d(${this.x}px, ${this.y}px, 0)`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tcalculatePosition()\n\t\t\t{\n\t\t\t\tconst rect = this.$el.getBoundingClientRect();\n\t\t\t\tconst dropdownRect = this.dropdown.getBoundingClientRect();\n\n\t\t\t\tlet top = rect.top;\n\t\t\t\tlet left = rect.left;\n\n\t\t\t\tlet x = left + rect.width;\n\t\t\t\tlet y = top - 15;\n\t\t\t\tlet mode = \"right\";\n\n\t\t\t\tif (x + dropdownRect.width > window.innerWidth)\n\t\t\t\t{\n\t\t\t\t\tx = left - dropdownRect.width;\n\t\t\t\t\tmode = \"left\";\n\t\t\t\t}\n\n\t\t\t\tif (y + dropdownRect.height > window.innerHeight)\n\t\t\t\t\ty = top - dropdownRect.height + 59;\n\n\t\t\t\tif (mode === \"right\")\n\t\t\t\t\tx -= this.isOpen ? 0 : 24;\n\t\t\t\telse\n\t\t\t\t\tx += this.isOpen ? 0 : 24;\n\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t},\n\n\t\t\tonPointerEnter()\n\t\t\t{\n\t\t\t\tif (this.timeout !== null)\n\t\t\t\t\tclearTimeout(this.timeout);\n\n\t\t\t\tif (this.$parent && this.$parent.$options && this.$parent.$options.name === \"latte-popup\")\n\t\t\t\t\tthis.$parent.lattePersistent = true;\n\n\t\t\t\tif (this.$parent && this.$parent.$options && this.$parent.$options.name === \"latte-submenu\")\n\t\t\t\t\tthis.$parent.onPointerEnter();\n\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.dropdown.style.setProperty(\"transition\", \"unset\");\n\t\t\t\tneedsZIndex(z => this.dropdown.style.setProperty(\"z-index\", z));\n\n\t\t\t\tthis.calculatePosition();\n\n\t\t\t\tthis.timeout = raf(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.dropdown.style.removeProperty(\"transition\");\n\t\t\t\t\tthis.isOpen = true;\n\t\t\t\t\tthis.calculatePosition();\n\t\t\t\t}, 50);\n\t\t\t},\n\n\t\t\tonPointerLeave()\n\t\t\t{\n\t\t\t\tif (this.timeout !== null)\n\t\t\t\t\tclearTimeout(this.timeout);\n\n\t\t\t\tif (!this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.$parent && this.$parent.$options && this.$parent.$options.name === \"latte-popup\")\n\t\t\t\t\tthis.$parent.lattePersistent = false;\n\n\t\t\t\tif (this.$parent && this.$parent.$options && this.$parent.$options.name === \"latte-submenu\")\n\t\t\t\t\tthis.$parent.onPointerLeave();\n\n\t\t\t\tthis.timeout = raf(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.isOpen = false;\n\t\t\t\t\tthis.calculatePosition();\n\t\t\t\t}, 50);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\tif (this.isOpen)\n\t\t\t\t\tthis.$emit(\"open\");\n\t\t\t\telse\n\t\t\t\t\tthis.$emit(\"close\");\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"tab\" v-if=\"active\">\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-tab\",\n\n\t\tprops: {\n\n\t\t\tbadge: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\ticon: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tlabel: {\n\t\t\t\tdefault: \"\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tactive: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$parent.updateChildren();\n\t\t},\n\n\t\twatch: {\n\n\t\t\tactive()\n\t\t\t{\n\t\t\t\tthis.$emit(\"active\", this.active);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<nav class=\"nav nav-tabs\">\n\n\t\t<template v-for=\"(tab, index) in tabs\">\n\t\t\t<a class=\"nav-link\" :class=\"{'is-active': tab.active, 'no-indicator': animatedIndicator}\" @click=\"click(index)\">\n\t\t\t\t<i class=\"mdi\" :class=\"'mdi-' + tab.icon\" v-if=\"tab.icon !== ''\"></i>\n\t\t\t\t<span v-if=\"tab.label !== ''\">{{ tab.label }}</span>\n\t\t\t\t<span class=\"badge badge-primary ml-2\" v-if=\"tab.badge !== ''\">{{ tab.badge }}</span>\n\t\t\t</a>\n\t\t</template>\n\n\t\t<div class=\"nav-tabs-indicator\" :style=\"indicatorStyles\" v-if=\"animatedIndicator\"></div>\n\n\t</nav>\n\n</template>\n\n<script>\n\n\timport { raf } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"latte-tab-bar\",\n\n\t\tprops: {\n\n\t\t\tanimatedIndicator: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrent: 0,\n\t\t\t\tindicatorBarRect: null,\n\t\t\t\tindicatorTabRect: null,\n\t\t\t\ttabs: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$parent.$on(\"change\", current => this.onTabChange(current));\n\t\t\tthis.$parent.updateTabBars();\n\n\t\t\twindow.addEventListener(\"load\", () => raf(() => this.updateIndicator(), 50));\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tindicatorStyles()\n\t\t\t{\n\t\t\t\tif (this.indicatorBarRect === null || this.indicatorTabRect === null)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: `${Math.round(this.indicatorTabRect.width)}px`,\n\t\t\t\t\ttransform: `translate3d(${Math.round(this.indicatorTabRect.left - this.indicatorBarRect.left)}px, 0, 0)`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclick(index)\n\t\t\t{\n\t\t\t\tthis.$parent.current = index;\n\t\t\t},\n\n\t\t\tupdateIndicator()\n\t\t\t{\n\t\t\t\tthis.indicatorTabRect = null;\n\n\t\t\t\tif (!this.animatedIndicator)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst tab = this.$el.querySelector(`a.nav-link:nth-child(${this.current + 1})`);\n\n\t\t\t\tif (tab === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.indicatorBarRect = this.$el.getBoundingClientRect();\n\t\t\t\tthis.indicatorTabRect = tab.getBoundingClientRect();\n\t\t\t},\n\n\t\t\tonTabChange(current)\n\t\t\t{\n\t\t\t\tthis.current = current;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tanimatedIndicator()\n\t\t\t{\n\t\t\t\traf(() => this.updateIndicator());\n\t\t\t},\n\n\t\t\tcurrent()\n\t\t\t{\n\t\t\t\traf(() => this.updateIndicator());\n\t\t\t},\n\n\t\t\ttabs()\n\t\t\t{\n\t\t\t\traf(() => this.updateIndicator());\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"tab-container\">\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-tab-container\",\n\n\t\tprops: {\n\n\t\t\tinitialTab: {\n\t\t\t\tdefault: 0,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Number\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrent: this.initialTab,\n\t\t\t\ttabs: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.updateChildren();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tupdateChildren()\n\t\t\t{\n\t\t\t\tthis.tabs = this.$children\n\t\t\t\t\t.filter(c => c.$options.name === \"latte-tab\");\n\t\t\t},\n\n\t\t\tupdateCurrent()\n\t\t\t{\n\t\t\t\tthis.tabs.forEach(t => t.active = false);\n\n\t\t\t\tif (this.tabs[this.current])\n\t\t\t\t\tthis.tabs[this.current].active = true;\n\t\t\t},\n\n\t\t\tupdateTabBars()\n\t\t\t{\n\t\t\t\tthis.$children\n\t\t\t\t\t.filter(c => c.$options.name === \"latte-tab-bar\")\n\t\t\t\t\t.forEach(c => this.$set(c, \"tabs\", this.tabs));\n\n\t\t\t\tthis.updateCurrent();\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tcurrent()\n\t\t\t{\n\t\t\t\tthis.$emit(\"change\", this.current);\n\t\t\t\tthis.updateCurrent();\n\t\t\t},\n\n\t\t\tinitialTab()\n\t\t\t{\n\t\t\t\tthis.current = this.initialTab;\n\t\t\t},\n\n\t\t\ttabs()\n\t\t\t{\n\t\t\t\tthis.updateTabBars();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel panel-blank timepicker-clock\">\n\t\t<div class=\"panel-header\">\n\n\t\t\t<select class=\"custom-select\" v-model=\"selectedHour\">\n\t\t\t\t<option :value=\"hour\" v-for=\"hour in hours\">{{ hour.toString().padStart(2, \"0\") }}</option>\n\t\t\t</select>\n\n\t\t\t<select class=\"custom-select\" v-model=\"selectedMinute\">\n\t\t\t\t<option :value=\"minute\" v-for=\"minute in minutes\">{{ minute.toString().padStart(2, \"0\") }}</option>\n\t\t\t</select>\n\n\t\t\t<select class=\"custom-select\" v-if=\"isAMPM\" v-model=\"selectedMeridiem\">\n\t\t\t\t<option value=\"am\">AM</option>\n\t\t\t\t<option value=\"pm\">PM</option>\n\t\t\t</select>\n\n\t\t\t<slot name=\"after\"></slot>\n\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-timepicker-clock\",\n\n\t\tprops: {\n\n\t\t\tvalue: {\n\t\t\t\tdefault: () => new Date(),\n\t\t\t\trequired: false,\n\t\t\t\ttype: Date\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tselectedHour: 1,\n\t\t\t\tselectedMinute: 0,\n\t\t\t\tselectedMeridiem: \"am\"\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thours()\n\t\t\t{\n\t\t\t\tconst hours = [];\n\n\t\t\t\tfor (let hour = (this.isAMPM ? 1 : 0); hour <= (this.isAMPM ? 12 : 23); hour++)\n\t\t\t\t\thours.push(hour);\n\n\t\t\t\treturn hours;\n\t\t\t},\n\n\t\t\tminutes()\n\t\t\t{\n\t\t\t\tconst minutes = [];\n\n\t\t\t\tfor (let minute = 0; minute <= 59; minute++)\n\t\t\t\t\tminutes.push(minute);\n\n\t\t\t\treturn minutes;\n\t\t\t},\n\n\t\t\tisAMPM()\n\t\t\t{\n\t\t\t\treturn moment().localeData().longDateFormat(\"LT\").endsWith(\"A\");\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tupdateTime()\n\t\t\t{\n\t\t\t\tconst date = new Date(this.value.getTime());\n\t\t\t\tdate.setHours((this.isAMPM && this.selectedMeridiem === \"pm\" && this.selectedHour < 12 ? this.selectedHour + 12 : (this.isAMPM && this.selectedMeridiem === \"am\" && this.selectedHour === 12 ? 0 : this.selectedHour)) % 24);\n\t\t\t\tdate.setMinutes(this.selectedMinute);\n\n\t\t\t\tthis.$emit(\"input\", date);\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tselectedHour()\n\t\t\t{\n\t\t\t\tthis.updateTime();\n\t\t\t},\n\n\t\t\tselectedMinute()\n\t\t\t{\n\t\t\t\tthis.updateTime();\n\t\t\t},\n\n\t\t\tselectedMeridiem()\n\t\t\t{\n\t\t\t\tthis.updateTime();\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\timmediate: true,\n\t\t\t\thandler()\n\t\t\t\t{\n\t\t\t\t\tthis.selectedHour = this.value.getHours();\n\t\t\t\t\tthis.selectedMinute = this.value.getMinutes();\n\t\t\t\t\tthis.selectedMeridiem = this.value.getHours() >= 12 ? \"pm\" : \"am\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"tree-view\">\n\t\t<latte-tree-view-item v-for=\"(child, key) of children\" :key=\"key\" :id=\"child.id\" :parent_id=\"child.parent_id\" :icon=\"child.icon\" :name=\"child.name\" :children=\"child.children || []\" @change=\"click($event)\"></latte-tree-view-item>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { request } from \"../../js/api\";\n\n\texport default {\n\n\t\tname: \"latte-tree-view\",\n\n\t\tprops: {\n\n\t\t\turl: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.load();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclick(id)\n\t\t\t{\n\t\t\t\tthis.$emit(\"change\", id);\n\t\t\t},\n\n\t\t\tload()\n\t\t\t{\n\t\t\t\trequest(this.url)\n\t\t\t\t\t.then(r => r.json())\n\t\t\t\t\t.then(this.onResponse);\n\t\t\t},\n\n\t\t\tonResponse(response)\n\t\t\t{\n\t\t\t\tthis.children = response.data;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"tree-view-item\">\n\t\t<div class=\"tree-view-item-label\" :class=\"{'is-expanded': isExpanded}\" @click=\"click(id)\">\n\t\t\t<button class=\"btn btn-text btn-icon btn-dark btn-sm\" @click=\"toggle\" v-if=\"children.length > 0\"><i class=\"mdi mdi-chevron-right\"></i></button>\n\t\t\t<i :class=\"['tree-view-item-label-icon', 'mdi', 'mdi-' + icon]\"></i>\n\t\t\t<span class=\"tree-view-item-label-label\">{{ name }}</span>\n\t\t</div>\n\t\t<div class=\"tree-view-item-children\" v-if=\"children.length > 0 && isExpanded\">\n\t\t\t<latte-tree-view-item v-for=\"(child, key) of children\" :key=\"key\" :id=\"child.id\" :parent_id=\"child.parent_id\" :icon=\"child.icon\" :name=\"child.name\" :children=\"child.children || []\" @change=\"click($event)\"></latte-tree-view-item>\n\t\t</div>\n\t</div>\n\t\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-tree-view-item\",\n\n\t\tprops: {\n\n\t\t\tid: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t},\n\n\t\t\tparent_id: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number | undefined\n\t\t\t},\n\n\t\t\ticon: {\n\t\t\t\tdefault: \"folder\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: String\n\t\t\t},\n\n\t\t\tchildren: {\n\t\t\t\tdefault: [],\n\t\t\t\trequired: false,\n\t\t\t\ttype: Array\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisExpanded: false\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclick(id)\n\t\t\t{\n\t\t\t\tthis.$emit(\"change\", id);\n\t\t\t},\n\n\t\t\ttoggle(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\n\t\t\t\tthis.isExpanded = !this.isExpanded;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"drop-container uploader\" :class=\"containerClasses\" @dragenter=\"onDragEnter\" @dragleave=\"onDragLeave\" @drop=\"onDrop\">\n\t\t<slot name=\"drop-here\" :uploader=\"this\" v-if=\"!isDraggingOver\">Drop here to upload</slot>\n\t\t<slot name=\"let-go\" :uploader=\"this\" v-else>Let go to upload</slot>\n\n\t\t<template v-if=\"!isMultiple && previewMode === 'photo' && files.length === 0\">\n\t\t\t<img src=\"\" alt=\"\">\n\t\t</template>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-uploader-noop\",\n\n\t\tprops: {\n\n\t\t\tisMultiple: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tpreviewMode: {\n\t\t\t\tdefault: \"photo\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String,\n\t\t\t\tvalidator: value => [\"photo\", \"list\"].includes(value)\n\t\t\t}\n\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\twindow.addEventListener(\"dragend\", evt => this.onDragEnd(evt));\n\t\t\twindow.addEventListener(\"dragleave\", evt => this.onDragEnd(evt));\n\t\t\twindow.addEventListener(\"dragover\", evt => this.onDragStart(evt));\n\t\t\twindow.addEventListener(\"drop\", evt => this.onDragEnd(evt));\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisDragging: false,\n\t\t\t\tisDraggingOver: false,\n\t\t\t\tfiles: []\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcontainerClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isDraggingOver)\n\t\t\t\t\tclasses.push(\"is-dragging-over\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tisImage()\n\t\t\t{\n\t\t\t\tif (this.files.length === 0)\n\t\t\t\t\treturn false;\n\n\t\t\t\treturn this.files[0].type.startsWith(\"image/\");\n\t\t\t},\n\n\t\t\tisPreviewAvailable()\n\t\t\t{\n\t\t\t\tif (this.files.length === 0)\n\t\t\t\t\treturn false;\n\n\t\t\t\t// TODO(Bas): Handle multiple files.\n\t\t\t\tif (this.files.length === 1)\n\t\t\t\t\treturn true;\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonDragEnd()\n\t\t\t{\n\t\t\t\tthis.isDragging = false;\n\t\t\t},\n\n\t\t\tonDragEnter(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDraggingOver = true;\n\t\t\t},\n\n\t\t\tonDragLeave(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDraggingOver = false;\n\t\t\t},\n\n\t\t\tonDragStart(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDragging = true;\n\t\t\t},\n\n\t\t\tonDrop(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\t\t\t\twindow.dispatchEvent(new CustomEvent(\"dragend\"));\n\n\t\t\t\tthis.files = evt.dataTransfer.files;\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.isDraggingOver = false;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {}\n\n\t}\n\n</script>\n\n<style lang=\"scss\">\n\n\tdiv.drop-container\n\t{\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground-color: transparent;\n\t\tborder: 2px dashed var(--outline-color-secondary);\n\t\tborder-radius: var(--border-radius);\n\t\ttext-align: center;\n\n\t\t&.is-dragging > *\n\t\t{\n\t\t\tpointer-events: none;\n\t\t}\n\n\t\t&.is-dragging\n\t\t{\n\t\t\tbackground-color: rgba(var(--color-dark), .05);\n\t\t\tborder-color: rgba(var(--color-dark), .1);\n\t\t}\n\n\t\t&.is-dragging-over\n\t\t{\n\t\t\tbackground-color: rgba(var(--color-primary), .3);\n\t\t\tborder-color: rgba(var(--color-primary), .1);\n\t\t}\n\t}\n\n</style>\n\n<style lang=\"scss\" scoped>\n\n\tdiv.uploader\n\t{\n\t}\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"drop-container uploader uploader-photo\" :class=\"containerClasses\" @click=\"onClick\" @dragenter=\"onDragEnter\" @dragleave=\"onDragLeave\" @drop=\"onDrop\">\n\t\t<template v-if=\"files.length === 1\">\n\t\t\t<img :src=\"urls[0]\" alt=\"Photo\" class=\"preview-image single\" @load=\"isLoading = false\"/>\n\t\t</template>\n\n\t\t<template v-else-if=\"currentPhoto !== null\">\n\t\t\t<img :src=\"currentPhoto\" alt=\"Photo\" class=\"preview-image single\"/>\n\t\t</template>\n\n\t\t<slot class=\"uploader-info\" name=\"drop-here\" :uploader=\"this\" v-if=\"!isDraggingOver\">Drop here to upload</slot>\n\t\t<slot class=\"uploader-info\" name=\"let-go\" :uploader=\"this\" v-else>Let go to upload</slot>\n\n\t\t<input ref=\"fileInput\" class=\"d-none\" type=\"file\" accept=\"image/*\" :name=\"name\" @change=\"onFilesSelected\"/>\n\n\t\t<span class=\"spinner spinner-primary\"></span>\n\t</div>\n\n</template>\n\n<script>\n\n\texport default {\n\n\t\tname: \"latte-uploader-photo\",\n\n\t\tprops: {\n\n\t\t\tcurrentPhoto: {\n\t\t\t\tdefault: null,\n\t\t\t\trequired: false,\n\t\t\t\ttype: String | null\n\t\t\t},\n\n\t\t\tisMultiple: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\tname: {\n\t\t\t\tdefault: \"photo\",\n\t\t\t\trequired: false,\n\t\t\t\ttype: String\n\t\t\t}\n\n\t\t},\n\n\t\tcreated()\n\t\t{\n\t\t\twindow.addEventListener(\"dragend\", evt => this.onDragEnd(evt));\n\t\t\twindow.addEventListener(\"dragleave\", evt => this.onDragEnd(evt));\n\t\t\twindow.addEventListener(\"dragover\", evt => this.onDragStart(evt));\n\t\t\twindow.addEventListener(\"drop\", evt => this.onDragEnd(evt));\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisDragging: false,\n\t\t\t\tisDraggingOver: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tfiles: [],\n\t\t\t\turls: []\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tcontainerClasses()\n\t\t\t{\n\t\t\t\tconst classes = [];\n\n\t\t\t\tif (this.isDragging)\n\t\t\t\t\tclasses.push(\"is-dragging\");\n\n\t\t\t\tif (this.isDraggingOver)\n\t\t\t\t\tclasses.push(\"is-dragging-over\");\n\n\t\t\t\tif (this.isLoading)\n\t\t\t\t\tclasses.push(\"is-loading\");\n\n\t\t\t\treturn classes;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick()\n\t\t\t{\n\t\t\t\tthis.$refs.fileInput.click();\n\t\t\t},\n\n\t\t\tonDragEnd()\n\t\t\t{\n\t\t\t\tthis.isDragging = false;\n\t\t\t},\n\n\t\t\tonDragEnter(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDraggingOver = true;\n\t\t\t},\n\n\t\t\tonDragLeave(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDraggingOver = false;\n\t\t\t},\n\n\t\t\tonDragStart(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.isDragging = true;\n\t\t\t},\n\n\t\t\tonDrop(evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\t\t\t\twindow.dispatchEvent(new CustomEvent(\"dragend\"));\n\n\t\t\t\tthis.$refs.fileInput.files = evt.dataTransfer.files;\n\t\t\t\tthis.isDragging = false;\n\t\t\t\tthis.isDraggingOver = false;\n\t\t\t},\n\n\t\t\tonFilesSelected()\n\t\t\t{\n\t\t\t\tthis.files = [...this.$refs.fileInput.files];\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tfiles()\n\t\t\t{\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.urls.forEach(url => URL.revokeObjectURL(url));\n\t\t\t\tthis.urls = this.files.map(file => URL.createObjectURL(file));\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { raf } from \"../../js/util/dom\";\n\nconst handler = \"latte:clickaway-handler\";\n\nfunction bind(el, binding)\n{\n\tunbind(el);\n\n\tlet callback = binding.value;\n\tlet initialMactroTaskEnded = false;\n\n\tif (typeof callback !== \"function\")\n\t\treturn;\n\n\traf(() => initialMactroTaskEnded = true);\n\n\tel[handler] = function (evt)\n\t{\n\t\tif (initialMactroTaskEnded && !el.contains(evt.target))\n\t\t\treturn callback(evt);\n\t};\n\n\tdocument.documentElement.addEventListener(\"click\", el[handler], {passive: true});\n}\n\nfunction unbind(el)\n{\n\tdocument.documentElement.removeEventListener(\"click\", el[handler]);\n\n\tdelete el[handler];\n}\n\nfunction update(el, binding)\n{\n\tif (binding.value === binding.oldValue)\n\t\treturn;\n\n\tbind(el, binding);\n}\n\nexport default {\n\n\tname: \"click-away\",\n\n\tbind,\n\n\tunbind,\n\n\tupdate\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tname: \"latte-context-menu\",\n\n\tbind(element)\n\t{\n\t\tlet contextMenu = element.contextMenuInstance = element.querySelector(\":scope > nav.latte-context-menu:not(.is-inline)\");\n\n\t\tif (contextMenu === null)\n\t\t\treturn;\n\n\t\telement.removeChild(contextMenu);\n\t\tdocument.body.appendChild(contextMenu);\n\n\t\tlet contextMenuCloseHandler = event =>\n\t\t{\n\t\t\tif (event.cancelable)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\tcontextMenu.classList.remove(\"is-open\");\n\t\t\tdocument.body.classList.remove(\"is-context-menu-open\");\n\n\t\t\tdocument.scrollingElement.removeEventListener(\"scroll\", contextMenuCloseHandler);\n\t\t\tdocument.body.removeEventListener(\"mousedown\", contextMenuCloseHandler);\n\t\t};\n\n\t\tlet contextMenuItemDownHandler = element.contextMenuItemDownHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tlet contextMenuItemUpHandler = element.contextMenuItemUpHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tcontextMenuCloseHandler(event);\n\t\t};\n\n\t\tlet contextMenuHandler = element.contextMenuHandler = event =>\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tcontextMenu.classList.add(\"is-open\");\n\n\t\t\tlet offset = 9;\n\t\t\tlet rect = contextMenu.getBoundingClientRect();\n\n\t\t\tlet x = event.pageX - document.scrollingElement.scrollLeft;\n\t\t\tlet y = event.pageY - document.scrollingElement.scrollTop;\n\n\t\t\t// Place context menu on other side.\n\t\t\tif ((x + rect.width + offset) > window.innerWidth)\n\t\t\t\tx = x - rect.width;\n\n\t\t\tif ((y + rect.height + offset) > window.innerHeight)\n\t\t\t\ty = y - rect.height;\n\n\t\t\t// Never leave win, but that's it.\n\t\t\tif ((x + rect.width + offset) > window.innerWidth)\n\t\t\t\tx = window.innerWidth - (rect.width + offset);\n\n\t\t\tif ((y + rect.height + offset) > window.innerHeight)\n\t\t\t\ty = window.innerHeight - (rect.height + offset);\n\n\t\t\tcontextMenu.style.top = `${y}px`;\n\t\t\tcontextMenu.style.left = `${x}px`;\n\n\t\t\tdocument.body.classList.add(\"is-context-menu-open\");\n\n\t\t\tdocument.body.addEventListener(\"mousedown\", contextMenuCloseHandler);\n\t\t\twindow.addEventListener(\"scroll\", contextMenuCloseHandler, {passive: true});\n\t\t\tdocument.dispatchEvent(new CustomEvent(\"latte:context-menu\", {detail: {menu: contextMenu, open: true}}));\n\t\t};\n\n\t\telement.addEventListener(\"contextmenu\", contextMenuHandler);\n\t\tcontextMenu.addEventListener(\"mousedown\", contextMenuItemDownHandler);\n\t\tcontextMenu.addEventListener(\"mouseup\", contextMenuItemUpHandler);\n\t},\n\n\tunbind(element)\n\t{\n\t\tif (typeof element.contextMenuInstance === \"undefined\" || element.contextMenuInstance === null)\n\t\t\treturn;\n\n\t\telement.contextMenuInstance.addEventListener(\"mousedown\", event.contextMenuItemDownHandler);\n\t\telement.contextMenuInstance.addEventListener(\"mouseup\", event.contextMenuItemUpHandler);\n\n\t\tdocument.body.removeChild(element.contextMenuInstance);\n\t\telement.appendChild(element.contextMenuInstance);\n\n\t\telement.removeEventListener(\"contextmenu\", element.contextMenuHandler);\n\t\tdocument.dispatchEvent(new CustomEvent(\"latte:context-menu\", {detail: {menu: element.contextMenuInstance, open: false}}));\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tmethods: {\n\n\t\tlatte()\n\t\t{\n\t\t\treturn Latte;\n\t\t},\n\n\t\tdispatchAction(...args)\n\t\t{\n\t\t\tLatte.actions.dispatch(...args);\n\t\t}\n\n\t}\n\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nexport default {\n\n\tmethods: {\n\n\t\tmoment(...args)\n\t\t{\n\t\t\treturn moment(...args);\n\t\t},\n\n\t\tmomentDuration(...args)\n\t\t{\n\t\t\treturn moment.duration(...args);\n\t\t},\n\n\t\tmomentUtc(...args)\n\t\t{\n\t\t\treturn moment.utc(...args);\n\t\t}\n\n\t}\n\n}\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<script>\n\n\texport default {\n\n\t\tname: \"RTEAlignmentPlugin\",\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$parent.addToolbarAction(\"align-left\", \"format-align-left\", \"Left\", 0, {groupId: \"alignment\"});\n\t\t\tthis.$parent.addToolbarAction(\"align-center\", \"format-align-center\", \"Center\", 0, {groupId: \"alignment\"});\n\t\t\tthis.$parent.addToolbarAction(\"align-right\", \"format-align-right\", \"Right\", 0, {groupId: \"alignment\"});\n\t\t\tthis.$parent.addToolbarAction(\"align-justify\", \"format-align-justify\", \"Justify\", 0, {groupId: \"alignment\"});\n\n\t\t\tthis.$parent.$on(\"toolbar-action:align-left\", () => this.$parent.executeCommand(\"align-left\"));\n\t\t\tthis.$parent.$on(\"toolbar-action:align-center\", () => this.$parent.executeCommand(\"align-center\"));\n\t\t\tthis.$parent.$on(\"toolbar-action:align-right\", () => this.$parent.executeCommand(\"align-right\"));\n\t\t\tthis.$parent.$on(\"toolbar-action:align-justify\", () => this.$parent.executeCommand(\"align-justify\"));\n\n\t\t\tthis.$parent.registerCommand(\"align-left\", () => document.execCommand(\"justifyLeft\"));\n\t\t\tthis.$parent.registerCommand(\"align-center\", () => document.execCommand(\"justifyCenter\"));\n\t\t\tthis.$parent.registerCommand(\"align-right\", () => document.execCommand(\"justifyRight\"));\n\t\t\tthis.$parent.registerCommand(\"align-justify\", () => document.execCommand(\"justifyFull\"));\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<script>\n\n\texport default {\n\n\t\tname: \"RTEBasicFormattingPlugin\",\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.$parent.addToolbarAction(\"basic-bold\", \"format-bold\", \"Bold\", 0, {groupId: \"basic\"});\n\t\t\tthis.$parent.addToolbarAction(\"basic-italic\", \"format-italic\", \"Italic\", 0, {groupId: \"basic\"});\n\t\t\tthis.$parent.addToolbarAction(\"basic-underline\", \"format-underline\", \"Underline\", 0, {groupId: \"basic\"});\n\n\t\t\tthis.$parent.$on(\"selection-changed\", selection => this.onSelectionChanged(selection));\n\t\t\tthis.$parent.$on(\"toolbar-action:basic-bold\", () => this.$parent.executeCommand(\"bold\"));\n\t\t\tthis.$parent.$on(\"toolbar-action:basic-italic\", () => this.$parent.executeCommand(\"italic\"));\n\t\t\tthis.$parent.$on(\"toolbar-action:basic-underline\", () => this.$parent.executeCommand(\"underline\"));\n\n\t\t\tthis.$parent.registerCommand(\"bold\", () => document.execCommand(\"bold\"));\n\t\t\tthis.$parent.registerCommand(\"italic\", () => document.execCommand(\"italic\"));\n\t\t\tthis.$parent.registerCommand(\"underline\", () => document.execCommand(\"underline\"));\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonSelectionChanged(selection)\n\t\t\t{\n\t\t\t\tlet node = selection.anchorNode;\n\n\t\t\t\tif (!(node instanceof HTMLElement))\n\t\t\t\t\tnode = node.parentElement;\n\n\t\t\t\tthis.$parent.getToolbarAction(\"basic-bold\").isActive = node.style.fontWeight === \"bold\";\n\t\t\t\tthis.$parent.getToolbarAction(\"basic-italic\").isActive = node.style.fontStyle === \"italic\";\n\t\t\t\tthis.$parent.getToolbarAction(\"basic-underline\").isActive = node.style.textDecorationLine === \"underline\";\n\t\t\t\tthis.$parent.$forceUpdate();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<latte-popup :associate-with=\"span || undefined\" :margin-x=\"-30\" :margin-y=\"9\" ref=\"popup\">\n\n\t\t<nav class=\"nav nav-list\">\n\t\t\t<a class=\"nav-link\" v-for=\"mention of mentionsFiltered\"><span>{{ mention }}</span></a>\n\t\t\t<div class=\"section\" v-if=\"mentionsFiltered.length === 0\">No results...</div>\n\t\t</nav>\n\n\t</latte-popup>\n\n</template>\n\n<script>\n\n\timport { createElement } from \"../../js/util/dom\";\n\n\texport default {\n\n\t\tname: \"RTEMentionsPlugin\",\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisLookingForMentions: false,\n\t\t\t\tspan: null,\n\t\t\t\ttext: \"\",\n\t\t\t\tmentions: [\n\t\t\t\t\t\"Bas Milius\",\n\t\t\t\t\t\"Martijn Woolschot\",\n\t\t\t\t\t\"Jorden Willemsen\",\n\t\t\t\t\t\"Ynze Hettema\",\n\t\t\t\t\t\"Fleur Nijhuis\",\n\t\t\t\t\t\"Geert Milius\",\n\t\t\t\t\t\"Nina Milius\"\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\t// this.$parent.$on(\"blur\", () => this.moveOut());\n\t\t\tthis.$parent.$on(\"keydown\", evt => this.onEditorKeyDown(evt));\n\t\t\tthis.$parent.$on(\"keyup\", evt => this.onEditorKeyUp(evt));\n\t\t\tthis.$parent.$on(\"remove-emptyness\", () => this.onRemoveEmptyness());\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tmentionsFiltered()\n\t\t\t{\n\t\t\t\treturn this.mentions.filter(m => m.toLowerCase().startsWith(this.text.toLowerCase())).slice(0, 3);\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tmoveOut(evt)\n\t\t\t{\n\t\t\t\tif (this.span === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (evt && evt.key.length === 1)\n\t\t\t\t\tthis.$parent.setSelectionAfter(this.span, false, evt.key);\n\t\t\t\telse\n\t\t\t\t\tthis.$parent.setSelectionAfter(this.span);\n\n\t\t\t\tif (this.span.innerText.trim() === \"@\")\n\t\t\t\t\tthis.span.remove();\n\n\t\t\t\tthis.text = \"\";\n\t\t\t\tthis.span = null;\n\t\t\t},\n\n\t\t\tonEditorKeyDown(evt)\n\t\t\t{\n\t\t\t\tconst shouldCancel = evt.key === \"Escape\" || (evt.key === \"Backspace\" && this.text === \"\") || (evt.key !== \"@\" && evt.key.match(\"[a-zA-Z0-9-_ ]\") === null);\n\n\t\t\t\tif (this.isLookingForMentions && shouldCancel)\n\t\t\t\t{\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tthis.moveOut(evt);\n\t\t\t\t}\n\n\t\t\t\tthis.isLookingForMentions = (this.isLookingForMentions || evt.key === \"@\") && !shouldCancel;\n\n\t\t\t\tif (evt.key === \"@\")\n\t\t\t\t{\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tthis.span = createElement(\"span\", span =>\n\t\t\t\t\t{\n\t\t\t\t\t\tspan.classList.add(\"rte-mention\");\n\t\t\t\t\t\tspan.innerHTML = \"@\";\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.$parent.addElementAtCursor(this.span);\n\t\t\t\t\tthis.$parent.setSelection(this.span, 1);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonEditorKeyUp()\n\t\t\t{\n\t\t\t\tif (!this.isLookingForMentions)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst el = window.getSelection().anchorNode;\n\t\t\t\tconst offset = window.getSelection().anchorOffset;\n\n\t\t\t\tif (!(el instanceof Text))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.text = el.splitText(offset).wholeText.substr(1);\n\t\t\t},\n\n\t\t\tonRemoveEmptyness()\n\t\t\t{\n\t\t\t\tthis.$parent.editableContent.querySelectorAll(\"span.rte-mention:empty\").forEach(el => el.remove());\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tisLookingForMentions()\n\t\t\t{\n\t\t\t\tif (this.isLookingForMentions)\n\t\t\t\t\tthis.$refs.popup.open();\n\t\t\t\telse\n\t\t\t\t\tthis.$refs.popup.close();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n\n<style lang=\"scss\">\n\n\tdiv.rich-text-editor span.rte-mention\n\t{\n\t\tcolor: RGB(var(--color-primary));\n\t\tfont-weight: 500;\n\t}\n\n</style>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel widget\" :class=\"{'is-custom-body': customBody}\" tabindex=\"0\">\n\n\t\t<div class=\"panel-header\">\n\t\t\t<div class=\"widget-drag-handle grid-item-drag-handle\"></div>\n\n\t\t\t<slot name=\"custom_title\"></slot>\n\n\t\t\t<div class=\"ml-auto d-flex flex-row align-items-center\">\n\t\t\t\t<slot name=\"title\"></slot>\n\n\t\t\t\t<latte-button-dropdown icon=\"dots-vertical\" :small=\"true\" type=\"list\">\n\t\t\t\t\t<nav class=\"nav nav-list\">\n\t\t\t\t\t\t<slot name=\"widget_menu\"></slot>\n\t\t\t\t\t\t<a class=\"nav-link\" @click=\"removeWidget()\"><i class=\"mdi mdi-delete\"></i> <span>{{ \"Delete\"|i18n }}</span></a>\n\t\t\t\t\t</nav>\n\t\t\t\t</latte-button-dropdown>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"panel-body\">\n\t\t\t<slot name=\"content\"></slot>\n\t\t</div>\n\n\t\t<slot name=\"footer\"></slot>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { translate } from \"../../js/i18n\";\n\timport { confirm, Buttons } from \"../../js/ui/messages\";\n\n\texport default {\n\n\t\tname: \"latte-widget\",\n\n\t\tprops: {\n\n\t\t\tcustomBody: {\n\t\t\t\tdefault: false,\n\t\t\t\trequired: false,\n\t\t\t\ttype: Boolean\n\t\t\t},\n\n\t\t\twidgetId: {\n\t\t\t\ttype: Number,\n\t\t\t\trequired: true\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\ti18n: {\n\t\t\t\t\twidgetDeleteConfirmationTitle: \"Are you sure?\",\n\t\t\t\t\twidgetDeleteConfirmationBody: \"This widget will be deleted permanently!\"\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tremoveWidget()\n\t\t\t{\n\t\t\t\tconfirm(translate(\"widgets\", \"Delete this widget?\"), translate(\"widgets\", \"It will be deleted permanently and is not recoverable.\")).then(r =>\n\t\t\t\t{\n\t\t\t\t\tif (r.button !== Buttons.OK)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tthis.$emit(\"remove\", this.widgetId);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<latte-widget class=\"widget-today\" v-bind=\"$props\" :custom-body=\"true\" @remove=\"onRemove\">\n\t\t<div class=\"widget-today-datetime\" slot=\"content\">\n\t\t\t<div class=\"date\">\n\t\t\t\t<span class=\"day text-capitalize\">{{ currentDay }}</span>\n\t\t\t\t<span class=\"date\">{{ currentDate }}</span>\n\t\t\t\t<span class=\"monthyear text-capitalize\">{{ currentMonth }} {{ currentYear }} &mdash; Week {{ currentWeekNumber }}</span>\n\t\t\t</div>\n\t\t\t<div class=\"time\">\n\t\t\t\t<span id=\"hours\">{{ currentTimeHours }}</span><span class=\"dots\">:</span><span id=\"minutes\">{{ currentTimeMinutes }}</span><span id=\"seconds\"><span class=\"dots\">:</span>{{ currentTimeSeconds }}</span>\n\t\t\t</div>\n\t\t</div>\n\t</latte-widget>\n\n</template>\n\n<script>\n\n\timport { timeout } from \"../../js/core\";\n\n\texport default {\n\n\t\tname: \"latte-widget-today\",\n\n\t\tprops: {\n\n\t\t\twidgetId: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: Number\n\t\t\t}\n\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrentDate: \"\",\n\t\t\t\tcurrentDay: \"\",\n\t\t\t\tcurrentMonth: \"\",\n\t\t\t\tcurrentYear: \"\",\n\t\t\t\tcurrentTimeHours: \"\",\n\t\t\t\tcurrentTimeMinutes: \"\",\n\t\t\t\tcurrentTimeSeconds: \"\",\n\t\t\t\tcurrentWeekNumber: \"\"\n\t\t\t}\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.update();\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonRemove(evt)\n\t\t\t{\n\t\t\t\tthis.$emit(\"remove\", evt);\n\t\t\t},\n\n\t\t\tupdate()\n\t\t\t{\n\t\t\t\tlet now = moment();\n\n\t\t\t\tthis.currentDate = now.format(\"D\");\n\t\t\t\tthis.currentDay = now.format(\"dddd\");\n\t\t\t\tthis.currentMonth = now.format(\"MMMM\");\n\t\t\t\tthis.currentYear = now.format(\"YYYY\");\n\t\t\t\tthis.currentTimeHours = now.format(\"HH\");\n\t\t\t\tthis.currentTimeMinutes = now.format(\"mm\");\n\t\t\t\tthis.currentTimeSeconds = now.format(\"ss\");\n\t\t\t\tthis.currentWeekNumber = now.week();\n\n\t\t\t\ttimeout(250, () => this.update());\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport moment from \"moment\";\n\nimport LatteSDK from \"./js/sdk\";\n\nimport { dispatch, on } from \"./js/actions\";\nimport { interval } from \"./js/core\";\nimport { removeSavedFromQueryString } from \"./js/util/dom\";\nimport { setCookie } from \"./js/util/cookies\";\nimport { initializeHoudiniApis } from \"./js/houdini-apis\";\nimport { initializeForms } from \"./js/ui/forms\";\nimport { initializeNotices } from \"./js/ui/notices\";\nimport { initializePanels } from \"./js/ui/panels\";\nimport { initializeTooltips } from \"./js/ui/tooltip\";\nimport { registerOutsideEvents } from \"./js/hid/OutsideEvent\";\nimport { registerPointerEventsPolyfill } from \"./js/hid/PointerEvents\";\n\nimport * as Components from \"./vue/component\";\nimport * as Directives from \"./vue/directive\";\nimport * as Mixins from \"./vue/mixin\"\nimport * as RTEPlugins from \"./vue/rich-text-editor\";\nimport * as Widgets from \"./vue/widget\";\n\nimport \"./scss/app.scss\";\n\nexport default {\n\n\tinstall(Vue, options = {})\n\t{\n\t\tself.LatteMomentLocale = self.LatteMomentLocale || navigator.language;\n\t\tmoment.locale(self.LatteMomentLocale);\n\n\t\tregisterOutsideEvents();\n\t\tregisterPointerEventsPolyfill();\n\t\tinitializeHoudiniApis();\n\n\t\tthis.registerDirectives(Vue);\n\t\tthis.registerMixins(Vue);\n\t\tthis.registerComponents(Vue);\n\n\t\tinterval(250, () => this.onTick());\n\t\ton(\"latte:switch-theme\", data => this.onSwitchTheme(data));\n\t\twindow.addEventListener(\"DOMContentLoaded\", () => this.onDOMContentLoaded());\n\n\t\tremoveSavedFromQueryString();\n\n\t\tself.Latte = LatteSDK;\n\t},\n\n\tregisterComponents(Vue)\n\t{\n\t\tObject.values(Components).forEach(c => Vue.component(c.name, c));\n\t\tObject.values(RTEPlugins).forEach(p => Vue.component(p.name, p));\n\t\tObject.values(Widgets).forEach(w => Vue.component(w.name, w));\n\t},\n\n\tregisterDirectives(Vue)\n\t{\n\t\tObject.values(Directives).forEach(d => Vue.directive(d.name, d));\n\t},\n\n\tregisterMixins(Vue)\n\t{\n\t\tObject.values(Mixins).forEach(m => Vue.mixin(m));\n\t},\n\n\tonDOMContentLoaded()\n\t{\n\t\tinitializeForms();\n\t\tinitializeNotices();\n\t\tinitializePanels();\n\t\tinitializeTooltips();\n\t},\n\n\tonSwitchTheme(data)\n\t{\n\t\tconst {themeId} = data;\n\n\t\tif (themeId === undefined)\n\t\t\treturn;\n\n\t\tdocument.body.dataset.theme = themeId;\n\t\tsetCookie(\"$ui:theme\", themeId);\n\t},\n\n\tonTick()\n\t{\n\t\tif (document.hidden === true)\n\t\t\treturn;\n\n\t\tdispatch(\"latte:tick\", window.performance.now());\n\t}\n\n};\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport { isTouchOnlyDevice } from \"../util/dom\";\n\nexport function registerPointerEventsPolyfill()\n{\n\tif (typeof PointerEvent !== \"undefined\")\n\t\treturn; // Yay for this browser!\n\n\tconst isATouchOnlyDevice = isTouchOnlyDevice();\n\n\tconst events = {\n\t\tclick: [\"click\", \"tap\"],\n\t\tpointerdown: [\"mousedown\", \"touchstart\"],\n\t\tpointermove: [\"mousemove\", \"touchmove\"],\n\t\tpointerover: [\"mouseover\", \"touchstart\"],\n\t\tpointerout: [\"mouseout\", \"touchend\"],\n\t\tpointerup: [\"mouseup\", \"touchend\"]\n\t};\n\n\tconst handlers = {\n\n\t\ttap($this, listener, options)\n\t\t{\n\t\t\tlet isTap = false;\n\n\t\t\toriginal.addEventListener.call($this, \"touchstart\", () => isTap = true, options);\n\t\t\toriginal.addEventListener.call($this, \"touchmove\", () => isTap = false, options);\n\t\t\toriginal.addEventListener.call($this, \"touchend\", evt =>\n\t\t\t{\n\t\t\t\tif (!isTap)\n\t\t\t\t\treturn;\n\n\t\t\t\tlistener(evt);\n\t\t\t}, options);\n\t\t}\n\n\t};\n\n\tconst original = {\n\t\taddEventListener: EventTarget.prototype.addEventListener,\n\t\tremoveEventListener: EventTarget.prototype.removeEventListener\n\t};\n\n\tEventTarget.prototype.addEventListener = function (type, listener, options)\n\t{\n\t\tlet overrideType = type;\n\n\t\tif (type in events)\n\t\t\toverrideType = isATouchOnlyDevice ? events[type][1] : events[type][0];\n\n\t\tif (overrideType in handlers)\n\t\t\thandlers[overrideType](this, listener, options);\n\t\telse\n\t\t\toriginal.addEventListener.call(this, overrideType, listener, options);\n\t};\n}\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte UI package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\n\"use strict\";\n\nimport Vue from \"vue\";\nimport LatteUI from \"../index\";\n\nVue.use(LatteUI);\n\nwindow.addEventListener(\"DOMContentLoaded\", () => new Vue({el: \"main#app\"}));\n"],"names":["lattePath","closest","element","selector","document","parentNode","matches","createElement","fn","undefined","el","getLattePath","lattejs","querySelector","getAttribute","split","isTouchOnlyDevice","window","navigator","msMaxTouchPoints","live","root","event","callback","options","passive","indexOf","forEach","addEventListener","evt","qs","querySelectorAll","index","target","Array","prototype","call","parentElement","raf","delay","setTimeout","requestAnimationFrame","relativeCoordsTo","clientX","clientY","rect","getBoundingClientRect","x","left","y","top","removeSavedFromQueryString","queryString","location","search","substr","history","replaceState","pathname","path","downloadFile","fileName","url","a","download","href","body","appendChild","click","remove","printDocument","wnd","open","print","close","toDOM","str","child","temp","fragment","createDocumentFragment","innerHTML","firstChild","main","deepMerge","sources","length","source","shift","isObject","key","hasOwnProperty","Object","assign","getMainElement","handleError","err","Latte","messages","alert","stack","obj","_typeof","isArray","interval","timeout","func","setInterval","isIterable","Symbol","iterator","updateURLHash","data","parts","d","vk","value","vars","push","hash","join","title","randomPassword","availableSets","sets","all","password","set","Math","floor","random","i","j","tmp","shuffleString","register","actions","ActionSubscription","action","id","performance","now","this","filter","sub","_this","dispatch","handle","on","onHashChange","raw","parameters","kv","ad","dataset","actionData","array","Uint32Array","crypto","getRandomValues","request","fetch","credentials","requestJson","then","r","json","copy","text","clipboard","writeText","catch","paste","readText","setCookie","name","days","date","Date","setTime","getTime","cookie","encodeURIComponent","JSON","stringify","toUTCString","getCookie","cookies","decodeURIComponent","charAt","substring","parse","replace","string","params","RegExp","translate","domain","translations","LatteI18n","spaceship","b","localeCompare","Vue","i18n","currentZ","needsZIndex","Buttons","OK","CANCEL","YES","NO","UPDATE","SAVE","REMOVE","CREATE","GO","PROCEED","ALLOW","DENY","ButtonsDescribed","icon","label","classes","weight","createMessage","message","buttons","prompt","Promise","resolve","promptInput","overlay","classList","add","panel","style","setProperty","panelTitle","panelContent","panelFooter","z","setAttribute","actualButtons","button","sort","buttonsToButtons","span","p","formGroup","input","confirm","create","type","dismissible","noticeId","notice","dismiss","content","insertBefore","isEntityNotice","entity","removeChild","registry","find","Error","initializePanel","header","hasRightItems","toggle","contains","hidableItems","item","isNullOrWhitespace","api","core","dom","isJson","notices","areEntitiesNotices","entities","operators","overlays","panels","commaCommaAnd","strs","vue","initializeHoudiniApis","CSS","paintWorklet","addModule","registerProperty","syntax","inherits","initialValue","initializeForms","form","onFormSubmit","bind","ctrlKey","code","submit","btn","tooltipElement","initializeTooltips","div","tooltip","tooltipClass","trim","pos","spawnTooltip","width","height","position","adjustCoordinates","onTooltipElementHover","despawnTooltip","HTMLElement","values","innerHeight","innerWidth","removeProperty","tooltipRect","coords","adjustment","round","OutsideEvent","listeners","listener","isWithinSource","findIndex","l","removeEventListener","splice","pageX","documentElement","scrollingElement","elementFromPoint","scrollLeft","pageY","scrollTop","template","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","render","staticRenderFns","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","isOldIE","test","userAgent","toLowerCase","HEAD","head","getElementsByTagName","styles","css","group","media","ids","Set","has","map","btoa","unescape","styleSheet","cssText","Boolean","size","textNode","createTextNode","nodes","childNodes","addStyle","eventBus","collides","item1","item2","compact","layout","verticalCompact","compareWith","static","sorted","sortLayoutItemsByRowCol","out","len","compactItem","moved","getFirstCollision","createCoreData","lastX","lastY","num","isNaN","deltaX","deltaY","getControlPosition","offsetParent","offsetParentRect","layoutItem","getLayoutItem","moveElement","isUserAction","movingUp","reverse","collisions","collision","moveElementAwayFromCollision","collidesWith","itemToMove","fakeItem","max","contextName","subProps","bottomY","transform","WebkitTransform","MozTransform","msTransform","OTransform","handler","binding","unbind","initialMactroTaskEnded","update","oldValue","contextMenu","contextMenuInstance","contextMenuCloseHandler","cancelable","preventDefault","stopPropagation","contextMenuItemDownHandler","contextMenuItemUpHandler","contextMenuHandler","dispatchEvent","CustomEvent","detail","menu","methods","latte","dispatchAction","moment","momentDuration","duration","momentUtc","utc","install","self","LatteMomentLocale","language","locale","EventTarget","addOutsideEventListener","outsideEvent","removeOutsideEventListener","PointerEvent","isATouchOnlyDevice","events","pointerdown","pointermove","pointerover","pointerout","pointerup","handlers","tap","$this","isTap","original","overrideType","registerPointerEventsPolyfill","registerDirectives","registerMixins","registerComponents","onTick","onSwitchTheme","onDOMContentLoaded","LatteSDK","Components","c","component","RTEPlugins","Widgets","w","Directives","directive","Mixins","m","mixin","from","dismissButton","t","themeId","theme","hidden","use","LatteUI"],"mappings":"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"}